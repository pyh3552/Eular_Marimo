const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./esm-C9yOjhyY.js","./chunk-DZLz74EQ.js","./dist-CcnP7P30.js","./dist-B8v7AWk6.js","./dist-BNtnpgX8.js","./dist-CtJ8WONl.js","./dist-BkTbXs-9.js","./dist-BxAzRYEX.js","./dist-CevMHxHd.js","./dist-AWYmVWdt.js","./dist-B9LY5i-U.js","./dist-BcphfvpG.js","./dist-CqR45uAA.js","./dist-BFifaB39.js","./dist-Q2QzNScK.js","./dist-D5dUkQU2.js","./dist-_kgQuyan.js","./dist-BxyarAxr.js","./dist-CnQ3TmvS.js","./dist-CLHyipUq.js","./dist-B0QJzk-q.js","./dist-ktjGj3Zd.js","./dist-C349pGBh.js","./dist-IfJysJHD.js","./dist-BDrVWEn0.js","./dist-D80s9YgJ.js","./dist-CnGX7H5g.js","./dist-CT6ctX3L.js","./dist-CSIOMCg9.js","./dist-Nl79A0iO.js","./dist-CK8b3BEl.js","./dist-2N_xg6Kx.js","./dist-DD4viQm6.js","./dist-DdiRoSZn.js","./dist-DjdYKrn5.js","./dist-DNaFOc9J.js","./dist-DeNigpv_.js","./dist-BEpWGm3G.js","./dist-Zu-ccwyD.js","./dist-DkwgPrFy.js","./apl-BhHmyKLp.js","./apl-BnTs0B78.js","./asciiarmor-CFD08zRX.js","./asciiarmor-CBr2Cucf.js","./asn1-D3xLhHTQ.js","./asn1-BOFjNtGB.js","./brainfuck-DSVuJlz_.js","./brainfuck-vMOV3hQr.js","./cobol-C2GNp1Zz.js","./cobol-BQkvLUCT.js","./clike-DGylk-Tp.js","./clike-BYTR4348.js","./clojure-Br1lxBux.js","./clojure-DNLakJVp.js","./css-QKbkhJ30.js","./css-C0IZoWOr.js","./cmake-DAaZl07i.js","./cmake-BpvCalK2.js","./coffeescript-C4WA4wjG.js","./coffeescript--ASXtZBl.js","./commonlisp-epU1R2kq.js","./commonlisp-BfLdQOv8.js","./cypher-B2FTLrka.js","./cypher-BBZ8NuQK.js","./python-CIOAcKGE.js","./python-DNfXSjPe.js","./crystal-BRuBgLYy.js","./crystal-Zh0Rxu7M.js","./d-B_A4vcp-.js","./d-Cb3cJR7R.js","./diff-Bm-I-j2d.js","./diff-B6WuvfKt.js","./dockerfile-CMolim_w.js","./simple-mode-DwfvHiRF.js","./dtd-Bi_GLa1h.js","./dtd-C668V8Ql.js","./dylan-Bm77AuFY.js","./dylan-YZRkS6J0.js","./ecl-Bd_Pycv6.js","./ecl-DA3aWoGK.js","./eiffel-05OOtoIk.js","./eiffel-z3hz4XWz.js","./elm-Bq2IAQOJ.js","./elm-j7ld6ije.js","./erlang-BJHwlMql.js","./erlang-Df0WBmSB.js","./factor-Bqc4an1k.js","./factor-yFtXqseM.js","./forth-DOTm_VMl.js","./forth-Bvs11wc5.js","./fortran-DC2kUtwn.js","./fortran-B4IM61nc.js","./mllike-YgEvsJ1f.js","./mllike-BItamBQI.js","./gas-BvGvPkdJ.js","./gas-BC4Rxy0U.js","./gherkin-C8IbAVqK.js","./gherkin-BDh5K-pd.js","./groovy-CfycCyAQ.js","./groovy-BY1M-C5S.js","./haskell-D1sk6PLN.js","./haskell-DZoeHQJn.js","./haxe-oZBT7-U-.js","./haxe-BWtb61kX.js","./idl-BoTZq9lk.js","./idl-CunSllzR.js","./javascript-BjqKg5oB.js","./javascript-CPb6m4Co.js","./jinja2-DIV9cMBo.js","./jinja2-D4CaqJUL.js","./julia-B1lyRG3w.js","./julia-Bb9UixMj.js","./livescript-D9kHzCya.js","./livescript-CISIuoME.js","./lua-BNvCN5la.js","./lua-Dk_aFqJS.js","./mirc-lQuOm8Tb.js","./mirc-Tk8yyrSz.js","./mathematica-C-T485qV.js","./mathematica-DmqxOa6W.js","./modelica-Le8WzQfb.js","./modelica-SehsBQww.js","./mumps-DwuSjZwG.js","./mumps-DmQ5Mxns.js","./mbox-BuIsJsll.js","./mbox-BBVNo5Kw.js","./nsis-ZOfN2NMy.js","./nsis-CWtt3eIn.js","./ntriples-ms7g8m-J.js","./ntriples-6oi2X1Vf.js","./octave-C_E9zXQ8.js","./octave-C9oqpxGK.js","./oz-RxjFDx1I.js","./oz-BpkWCod6.js","./pascal-CmobH8OK.js","./pascal-B7mq9HhL.js","./perl-ClrYw9Yp.js","./perl-BhuRLfu4.js","./pig-C8-Sc1Pz.js","./pig-DIZlvXvD.js","./powershell-wOPuuFug.js","./powershell-DP8lEUi5.js","./properties-BaIJ6owP.js","./properties-BUwQQ50B.js","./protobuf-HzF8PtJa.js","./protobuf-DGR8xC2K.js","./pug-CiS8jCm0.js","./pug-BPgijk7S.js","./puppet-CvLL5Xcr.js","./puppet-CIPKfMMW.js","./q-Ohf4OEVe.js","./q-C1ypp2QX.js","./r-D8GTItBf.js","./r-DGH9wUds.js","./rpm-HGFHlACU.js","./rpm-BfbM8-Y8.js","./ruby-CBFXYnJ7.js","./ruby-BCqX2QXM.js","./sas-C2cNJ6Rh.js","./sas-Bl_yCHKh.js","./scheme-Dj9SEcTx.js","./scheme-D4oYviNI.js","./shell-BJJJuyrB.js","./shell-BI0GGH_3.js","./sieve-kgn_cDXh.js","./sieve-0IQEV5xl.js","./smalltalk-Dozw7rGC.js","./smalltalk-Cd2MfFqm.js","./sparql-DPqzz38h.js","./sparql-C-QYR9oc.js","./stylus-DqmYanw8.js","./stylus-CWU_gzDH.js","./swift-DLnIgvZd.js","./swift-Bbt38aze.js","./stex-wt8gHRbn.js","./stex-w1KpyykF.js","./verilog-BPjY2C3q.js","./verilog-Cxs5yC2t.js","./tcl-BoB6B8o1.js","./tcl-QrFwh2YW.js","./textile-Dr1DXmS4.js","./textile-Dkc776C0.js","./toml-B3rKR2Tr.js","./toml-Xabd-hyk.js","./troff-DCOuQXdn.js","./troff-Dn-gF5qK.js","./ttcn-BSyoPXFR.js","./ttcn-DFW2va5k.js","./ttcn-cfg-DEkbF1uH.js","./ttcn-cfg-CpainrNb.js","./turtle-B_FLfCG-.js","./turtle-ZXb9hJgA.js","./webidl-CCR5BmlO.js","./webidl-DM3LciAL.js","./vb-CQrDM8cu.js","./vb-DHGgASWc.js","./vbscript-Dr5e9PNZ.js","./vbscript-BCCdXnBu.js","./velocity-At09gWCM.js","./velocity-D7QBN158.js","./vhdl-DU8HAK4N.js","./vhdl-Bv9PeT8e.js","./xquery-DfDym2ag.js","./xquery-UKbfMhFh.js","./yacas-BtUeMfq-.js","./yacas-CM-Kep-K.js","./z80-BGJP_qlm.js","./z80-BViTjHbp.js","./mscgen-C5R1d-qY.js","./mscgen-Dcx4gqL6.js","./dist-B96Z7z7d.js","./dist-jH779Qc9.js","./dist-CI9c-vbV.js","./node-sql-parser-C3OW8Cbe.js"])))=>i.map(i=>d[i]);
var tT=Object.defineProperty;var nT=(Ni,Vr,va)=>Vr in Ni?tT(Ni,Vr,{enumerable:!0,configurable:!0,writable:!0,value:va}):Ni[Vr]=va;var De=(Ni,Vr,va)=>nT(Ni,typeof Vr!="symbol"?Vr+"":Vr,va);import{a as pu,n as Mb,o as rT,r as iT,s as dn,t as Te}from"./chunk-DZLz74EQ.js";import{n as Nb,o as Be,r as Kn,t as Ib}from"./react-7g8sREeT.js";import{t as Ab}from"./react-BcIddLXZ.js";import{t as aT}from"./react-dom-D6bRRS5R.js";import{A as oT,E as jb,F as qb,P as sT,V as lT,w as cT,z as uT}from"./zod-U2NFpcFA.js";import{n as Br,t as dT}from"./jsx-runtime-DvsdsEjx.js";import{f as fT}from"./_Uint8Array-D5Z9rM2X.js";import{t as pT}from"./_arrayMap-DQI2GUNb.js";import{t as mT}from"./toInteger-Bor4StOs.js";import{d as hT,t as gT}from"./isArrayLikeObject-DKyJYtr8.js";import{u as yT}from"./_baseIsEqual-BF8660ot.js";import{t as vT}from"./_baseProperty-CIKnF2iY.js";import{t as zb}from"./debounce-70y9MzDK.js";import{n as bT,o as wT,r as st,t as kn}from"./invariant-B43sqCFA.js";import{t as Ae}from"./Logger-BkkOJyg0.js";import{a as ni,o as _T}from"./hotkeys-ZAWHeY7d.js";import{d as Hp,t as xT}from"./utils-DLuqCLqV.js";import{g as kT,r as CT}from"./config-BeIk_wvs.js";import{a as Fb}from"./dist-CLazWf1X.js";import{t as mu}from"./cn-CwmWKpZ_.js";import{t as Bb}from"./button-g1jf7cM6.js";import{$ as ST,B as ET,Bt as Vb,C as TT,Ct as cs,D as RT,Ft as hu,Gt as us,Ht as ma,I as $b,It as Sl,Lt as Hb,Nt as gu,P as Wb,Pt as fn,Q as Pi,Rt as yu,S as DT,T as Ub,U as vu,Ut as El,Wt as ro,Z as Kb,_t as io,at as OT,b as Qb,et as Zt,f as Gb,ft as PT,gt as Wp,k as LT,l as se,lt as MT,p as NT,rt as ao,tt as IT,u as Jb,wt as Up,xt as Xb,z as Yb,zt as AT}from"./dist-BNtnpgX8.js";import{E as jT,S as qT,T as zT,_ as FT,a as Zb,b as BT,d as Kp,f as VT,h as $T,i as HT,k as WT,m as UT,o as KT,p as QT,s as GT,t as JT,v as XT,w as YT,x as ZT}from"./dist-Ct0a8Isf.js";import{a as e2,d as Qp,i as e4,n as ri,o as t2,s as Tl}from"./once-4nUTgcVU.js";import{n as t4,r as ds,t as n2}from"./documentation-B7z6bB-t.js";import{t as Rl}from"./createReducer-CFr1RdS2.js";import{t as Li}from"./requests-BW3DqHQI.js";import{t as le}from"./preload-helper-DImqtvgl.js";import{d as r2,l as i2,n as n4,o as a2,p as r4,r as bu}from"./dist-B8v7AWk6.js";import{i as o2,o as i4}from"./dist-D80s9YgJ.js";import{a as a4,i as Gp,n as o4,r as s2,t as s4}from"./dist-Nl79A0iO.js";import{n as l4}from"./stex-w1KpyykF.js";import{n as wu,t as c4}from"./key-Pb6bybhb.js";import{t as _u}from"./use-toast-BKA5A0CC.js";import{i as Jp,r as Xp}from"./main-CCaZmKLi.js";import{t as l2}from"./marked.esm-BB_RKOA5.js";import{a as u4,s as ii,t as Dl}from"./connection-UyRAkvTk.js";import{a as d4,c as f4,d as p4,f as c2,i as m4,l as h4,n as g4,o as u2,r as y4,s as Yp,t as v4,u as b4}from"./dist-CtJ8WONl.js";import{n as w4}from"./useTheme-BWXNjHkw.js";import{t as zn}from"./createLucideIcon-Dz-D6iuz.js";import{i as _4,n as x4,r as Zp,t as k4}from"./type-CYsuWFDa.js";import{t as C4}from"./check-CmOWIaur.js";import{a as S4,c as E4,i as em,m as T4,n as R4,o as d2,r as D4,s as O4,t as P4}from"./select-DIqNYEaz.js";import{t as L4,u as M4}from"./toDate-BNd9AHNi.js";import{r as f2,t as N4}from"./useNonce-DvpkYOW9.js";import{t as cr}from"./badge-Cbb7s63B.js";import{c as tm,d as I4,h as A4,p as p2,u as j4}from"./namespace-Cw55ynVb.js";import{l as q4}from"./dist-DT6vyuIM.js";import{r as z4,t as nm}from"./tooltip-CW-4dtRh.js";import{t as F4}from"./useLifecycle-DmdhGVVs.js";let xu,Ol,m2,h2,g2,y2,ku,v2,b2,rm,im,w2,Cu,fs,Su,_2,x2,Pl,am,k2,om,Eu,oo,C2,sm,Tu,lm,cm,S2,E2,T2,Ru,Du,R2,um,D2,dm,fm,O2,P2,pm,L2,M2,N2,Ou,mm,I2,A2,Ll,ha,hm,j2,q2,z2,gm,F2,B2,Pu,so,V2,$2,ur,ym,Lu,vm,Ml,Cr,H2,W2,U2,ft,Nl,K2,Q2,G2,bm,J2,Il,X2,wm,lo,_m,Y2,Mu,Z2,xm,Nu,ew,tw,nw,rw,km,ga,iw,aw,Iu,ow,sw,Au,Al,jl,lw,cw,Cm,uw,dw,Sm,fw,pw,ju,mw,hw,gw,yw,ql,vw,Em,bw,ww,_w,Tm,qu,co,xw,zu,ai,Rm,Dm,kw,zl,Om,Pm,Fu,Cw,Lm,ps,Sw,Mi,Mm,ms,Ew,Tw,Rw,Bu,Dw,Ow,Nm,Vu,Pw,uo,Lw,Mw,Sr,fo,Dt,Im,$u,Hu,Nw,Iw,Aw,Fl,Wu,jw,qw,zw,Uu,Fw,Am,po,oi,Ku,jm,qm,Er,hs,si,Qu,zm,Bw,Fm,Gu,Bm,Vw,Ju,$w,dr,Hw,Ww,Fn,Uw,Kw,Vm,Xu,ya,Qw,$m,Hm,Yu,Tr,Zu,Wm,Gw,B4=(async()=>{var Vi,Xd;let Ni,Vr,va,Km;Ni=Te((e=>{function n(ne,oe){var $=ne.length;ne.push(oe);e:for(;0<$;){var Ne=$-1>>>1,Qe=ne[Ne];if(0<s(Qe,oe))ne[Ne]=oe,ne[$]=Qe,$=Ne;else break e}}function i(ne){return ne.length===0?null:ne[0]}function o(ne){if(ne.length===0)return null;var oe=ne[0],$=ne.pop();if($!==oe){ne[0]=$;e:for(var Ne=0,Qe=ne.length,ut=Qe>>>1;Ne<ut;){var Fe=2*(Ne+1)-1,We=ne[Fe],Re=Fe+1,Pe=ne[Re];if(0>s(We,$))Re<Qe&&0>s(Pe,We)?(ne[Ne]=Pe,ne[Re]=$,Ne=Re):(ne[Ne]=We,ne[Fe]=$,Ne=Fe);else if(Re<Qe&&0>s(Pe,$))ne[Ne]=Pe,ne[Re]=$,Ne=Re;else break e}}return oe}function s(ne,oe){var $=ne.sortIndex-oe.sortIndex;return $===0?ne.id-oe.id:$}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();e.unstable_now=function(){return d.now()-p}}var h=[],b=[],x=1,w=null,S=3,E=!1,D=!1,M=!1,F=!1,J=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function ce(ne){for(var oe=i(b);oe!==null;){if(oe.callback===null)o(b);else if(oe.startTime<=ne)o(b),oe.sortIndex=oe.expirationTime,n(h,oe);else break;oe=i(b)}}function he(ne){if(M=!1,ce(ne),!D)if(i(h)!==null)D=!0,B||(B=!0,X());else{var oe=i(b);oe!==null&&ae(he,oe.startTime-ne)}}var B=!1,W=-1,ue=5,be=-1;function ye(){return F?!0:!(e.unstable_now()-be<ue)}function xe(){if(F=!1,B){var ne=e.unstable_now();be=ne;var oe=!0;try{e:{D=!1,M&&(M=!1,K(W),W=-1),E=!0;var $=S;try{t:{for(ce(ne),w=i(h);w!==null&&!(w.expirationTime>ne&&ye());){var Ne=w.callback;if(typeof Ne=="function"){w.callback=null,S=w.priorityLevel;var Qe=Ne(w.expirationTime<=ne);if(ne=e.unstable_now(),typeof Qe=="function"){w.callback=Qe,ce(ne),oe=!0;break t}w===i(h)&&o(h),ce(ne)}else o(h);w=i(h)}if(w!==null)oe=!0;else{var ut=i(b);ut!==null&&ae(he,ut.startTime-ne),oe=!1}}break e}finally{w=null,S=$,E=!1}oe=void 0}}finally{oe?X():B=!1}}}var X;if(typeof V=="function")X=function(){V(xe)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Se=_e.port2;_e.port1.onmessage=xe,X=function(){Se.postMessage(null)}}else X=function(){J(xe,0)};function ae(ne,oe){W=J(function(){ne(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(ne){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var $=S;S=oe;try{return ne()}finally{S=$}},e.unstable_requestPaint=function(){F=!0},e.unstable_runWithPriority=function(ne,oe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var $=S;S=ne;try{return oe()}finally{S=$}},e.unstable_scheduleCallback=function(ne,oe,$){var Ne=e.unstable_now();switch(typeof $=="object"&&$?($=$.delay,$=typeof $=="number"&&0<$?Ne+$:Ne):$=Ne,ne){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=$+Qe,ne={id:x++,callback:oe,priorityLevel:ne,startTime:$,expirationTime:Qe,sortIndex:-1},$>Ne?(ne.sortIndex=$,n(b,ne),i(h)===null&&ne===i(b)&&(M?(K(W),W=-1):M=!0,ae(he,$-Ne))):(ne.sortIndex=Qe,n(h,ne),D||E||(D=!0,B||(B=!0,X()))),ne},e.unstable_shouldYield=ye,e.unstable_wrapCallback=function(ne){var oe=S;return function(){var $=S;S=oe;try{return ne.apply(this,arguments)}finally{S=$}}}})),Vr=Te(((e,n)=>{n.exports=Ni()})),va=Te((e=>{var n=Vr(),i=Ab(),o=aT();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function p(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function h(t){if(d(t)!==t)throw Error(s(188))}function b(t){var r=t.alternate;if(!r){if(r=d(t),r===null)throw Error(s(188));return r===t?t:null}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return h(f),t;if(g===l)return h(f),r;g=g.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=g;else{for(var C=!1,R=f.child;R;){if(R===a){C=!0,a=f,l=g;break}if(R===l){C=!0,l=f,a=g;break}R=R.sibling}if(!C){for(R=g.child;R;){if(R===a){C=!0,a=g,l=f;break}if(R===l){C=!0,l=g,a=f;break}R=R.sibling}if(!C)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function x(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=x(t),r!==null)return r;t=t.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),ye=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function _e(t){return typeof t!="object"||!t?null:(t=X&&t[X]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Symbol.for("react.client.reference");function ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Se?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case J:return"Profiler";case F:return"StrictMode";case B:return"Suspense";case W:return"SuspenseList";case ye:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case ce:return(t.displayName||"Context")+".Provider";case V:return(t._context.displayName||"Context")+".Consumer";case he:var r=t.render;return t=t.displayName,t||(t=(t=r.displayName||r.name||"",t===""?"ForwardRef":"ForwardRef("+t+")")),t;case ue:return r=t.displayName||null,r===null?ae(t.type)||"Memo":r;case be:r=t._payload,t=t._init;try{return ae(t(r))}catch{}}return null}var ne=Array.isArray,oe=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},Qe=[],ut=-1;function Fe(t){return{current:t}}function We(t){0>ut||(t.current=Qe[ut],Qe[ut]=null,ut--)}function Re(t,r){ut++,Qe[ut]=t.current,t.current=r}var Pe=Fe(null),hn=Fe(null),At=Fe(null),Dn=Fe(null);function sn(t,r){switch(Re(At,r),Re(hn,t),Re(Pe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?cb(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=cb(r),t=ub(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}We(Pe),Re(Pe,t)}function Ue(){We(Pe),We(hn),We(At)}function tn(t){t.memoizedState!==null&&Re(Dn,t);var r=Pe.current,a=ub(r,t.type);r!==a&&(Re(hn,t),Re(Pe,a))}function gt(t){hn.current===t&&(We(Pe),We(hn)),Dn.current===t&&(We(Dn),wl._currentValue=Ne)}var gn=Object.prototype.hasOwnProperty,Yn=n.unstable_scheduleCallback,kt=n.unstable_cancelCallback,ui=n.unstable_shouldYield,yn=n.unstable_requestPaint,vn=n.unstable_now,In=n.unstable_getCurrentPriorityLevel,Mr=n.unstable_ImmediatePriority,An=n.unstable_UserBlockingPriority,nn=n.unstable_NormalPriority,$i=n.unstable_LowPriority,Ur=n.unstable_IdlePriority,Nr=n.log,di=n.unstable_setDisableYieldValue,Vt=null,Kt=null;function yt(t){if(typeof Nr=="function"&&di(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Vt,t)}catch{}}var Ft=Math.clz32?Math.clz32:Hi,Ct=Math.log,fi=Math.LN2;function Hi(t){return t>>>=0,t===0?32:31-(Ct(t)/fi|0)|0}var Ir=256,fr=4194304;function Ge(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $t(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,g=t.suspendedLanes,C=t.pingedLanes;t=t.warmLanes;var R=l&134217727;return R===0?(R=l&~g,R===0?C===0?a||(a=l&~t,a!==0&&(f=Ge(a))):f=Ge(C):f=Ge(R)):(l=R&~g,l===0?(C&=R,C===0?a||(a=R&~t,a!==0&&(f=Ge(a))):f=Ge(C)):f=Ge(l)),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,a=r&-r,g>=a||g===32&&a&4194048)?r:f}function lt(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function vt(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function On(){var t=Ir;return Ir<<=1,!(Ir&4194048)&&(Ir=256),t}function Kr(){var t=fr;return fr<<=1,!(fr&62914560)&&(fr=4194304),t}function St(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Zn(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qr(t,r,a,l,f,g){var C=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var R=t.entanglements,j=t.expirationTimes,Z=t.hiddenUpdates;for(a=C&~a;0<a;){var de=31-Ft(a),ge=1<<de;R[de]=0,j[de]=-1;var te=Z[de];if(te!==null)for(Z[de]=null,de=0;de<te.length;de++){var ie=te[de];ie!==null&&(ie.lane&=-536870913)}a&=~ge}l!==0&&pi(t,l,0),g!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=g&~(C&~r))}function pi(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Ft(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function jn(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Ft(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Vn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gr(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function mi(){var t=$.p;return t===0?(t=window.event,t===void 0?32:Tb(t.type)):t}function er(t,r){var a=$.p;try{return $.p=t,r()}finally{$.p=a}}var Pn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Pn,jt="__reactProps$"+Pn,P="__reactContainer$"+Pn,Je="__reactEvents$"+Pn,I="__reactListeners$"+Pn,Y="__reactHandles$"+Pn,me="__reactResources$"+Pn,ke="__reactMarker$"+Pn;function pt(t){delete t[bt],delete t[jt],delete t[Je],delete t[I],delete t[Y]}function tt(t){var r=t[bt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[P]||a[bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=mb(t);t!==null;){if(a=t[bt])return a;t=mb(t)}return r}t=a,a=t.parentNode}return null}function it(t){if(t=t[bt]||t[P]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function wt(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function He(t){var r=t[me];return r||(r=t[me]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ve(t){t[ke]=!0}var at=new Set,ht={};function Ht(t,r){tr(t,r),tr(t+"Capture",r)}function tr(t,r){for(ht[t]=r,t=0;t<r.length;t++)at.add(r[t])}var xs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pr={},ic={};function ac(t){return gn.call(ic,t)?!0:gn.call(pr,t)?!1:xs.test(t)?ic[t]=!0:(pr[t]=!0,!1)}function Ta(t,r,a){if(ac(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Lo(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function mr(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var ks,oc;function bn(t){if(ks===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ks=r&&r[1]||"",oc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ks+t+oc}var Cs=!1;function Ss(t,r){if(!t||Cs)return"";Cs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ie){var te=ie}Reflect.construct(t,[],ge)}else{try{ge.call()}catch(ie){te=ie}t.call(ge.prototype)}}else{try{throw Error()}catch(ie){te=ie}(ge=t())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=l.DetermineComponentFrameRoot(),C=g[0],R=g[1];if(C&&R){var j=C.split(`
`),Z=R.split(`
`);for(f=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Z.length&&!Z[f].includes("DetermineComponentFrameRoot");)f++;if(l===j.length||f===Z.length)for(l=j.length-1,f=Z.length-1;1<=l&&0<=f&&j[l]!==Z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(j[l]!==Z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||j[l]!==Z[f]){var de=`
`+j[l].replace(" at new "," at ");return t.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",t.displayName)),de}while(1<=l&&0<=f);break}}}finally{Cs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?bn(a):""}function sc(t){switch(t.tag){case 26:case 27:case 5:return bn(t.type);case 16:return bn("Lazy");case 13:return bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return Ss(t.type,!1);case 11:return Ss(t.type.render,!1);case 1:return Ss(t.type,!0);case 31:return bn("Activity");default:return""}}function Es(t){try{var r="";do r+=sc(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function $n(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ts(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Yd(t){var r=Ts(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&a!==void 0&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(C){l=""+C,g.call(this,C)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ra(t){t._valueTracker||(t._valueTracker=Yd(t))}function lc(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Ts(t)?t.checked?"true":"false":t.value),t=l,t===a?!1:(r.setValue(t),!0)}function Da(t){if(t||(t=typeof document<"u"?document:void 0),t===void 0)return null;try{return t.activeElement||t.body}catch{return t.body}}var nr=/[\n"\\]/g;function $e(t){return t.replace(nr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Rs(t,r,a,l,f,g,C,R){t.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.type=C:t.removeAttribute("type"),r==null?C!=="submit"&&C!=="reset"||t.removeAttribute("value"):C==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+$n(r)):t.value!==""+$n(r)&&(t.value=""+$n(r)),r==null?a==null?l!=null&&t.removeAttribute("value"):Ds(t,C,$n(a)):Ds(t,C,$n(r)),f==null&&g!=null&&(t.defaultChecked=!!g),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?t.name=""+$n(R):t.removeAttribute("name")}function Oa(t,r,a,l,f,g,C,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),r!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;a=a==null?"":""+$n(a),r=r==null?a:""+$n(r),R||r===t.value||(t.value=r),t.defaultValue=r}l??(l=f),l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=R?t.checked:!!l,t.defaultChecked=!!l,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(t.name=C)}function Ds(t,r,a){r==="number"&&Da(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function hr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+$n(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function cc(t,r,a){if(r!=null&&(r=""+$n(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a==null?"":""+$n(a)}function Wi(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ne(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a??(a=""),r=a}a=$n(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Jr(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var uc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dc(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||uc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function hi(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&dc(t,f,l)}else for(var g in r)r.hasOwnProperty(g)&&dc(t,g,r[g])}function Os(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ps=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(t){return Mo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ls=null;function No(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qt=null,Ui=null;function Ar(t){var r=it(t);if(r&&(t=r.stateNode)){var a=t[jt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Rs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$e(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[jt]||null;if(!f)throw Error(s(90));Rs(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&lc(l)}break e;case"textarea":cc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&hr(t,!!a.multiple,r,!1)}}}var La=!1;function fc(t,r,a){if(La)return t(r,a);La=!0;try{return t(r)}finally{if(La=!1,(Qt!==null||Ui!==null)&&(Kc(),Qt&&(r=Qt,t=Ui,Ui=Qt=null,Ar(r),t)))for(r=0;r<t.length;r++)Ar(t[r])}}function Ma(t,r){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var jr=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),Ms=!1;if(jr)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{Ms=!1}var Xr=null,Ns=null,Ia=null;function Is(){if(Ia)return Ia;var t,r=Ns,a=r.length,l,f="value"in Xr?Xr.value:Xr.textContent,g=f.length;for(t=0;t<a&&r[t]===f[t];t++);var C=a-t;for(l=1;l<=C&&r[a-l]===f[g-l];l++);return Ia=f.slice(t,1<l?1-l:void 0)}function Aa(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ja(){return!0}function As(){return!1}function Cn(t){function r(a,l,f,g,C){for(var R in this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=g,this.target=C,this.currentTarget=null,t)t.hasOwnProperty(R)&&(a=t[R],this[R]=a?a(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented==null?g.returnValue===!1:g.defaultPrevented)?ja:As,this.isPropagationStopped=As,this}return w(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),r}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=Cn(Yr),qa=w({},Yr,{view:0,detail:0}),u=Cn(qa),m,y,v,_=w({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ve,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==v&&(v&&t.type==="mousemove"?(m=t.screenX-v.screenX,y=t.screenY-v.screenY):y=m=0,v=t),m)},movementY:function(t){return"movementY"in t?t.movementY:y}}),k=Cn(_),T=Cn(w({},_,{dataTransfer:0})),O=Cn(w({},qa,{relatedTarget:0})),L=Cn(w({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0})),A=Cn(w({},Yr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),N=Cn(w({},Yr,{data:0})),re={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=U[t])?!!r[t]:!1}function ve(){return Q}var we=Cn(w({},qa,{key:function(t){if(t.key){var r=re[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Aa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ee[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ve,charCode:function(t){return t.type==="keypress"?Aa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Aa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}})),je=Cn(w({},_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ce=Cn(w({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ve})),Ie=Cn(w({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0})),ct=Cn(w({},_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),Xe=Cn(w({},Yr,{newState:0,oldState:0})),Ot=[9,13,27,32],Pt=jr&&"CompositionEvent"in window,ze=null;jr&&"documentMode"in document&&(ze=document.documentMode);var Ke=jr&&"TextEvent"in window&&!ze,Gt=jr&&(!Pt||ze&&8<ze&&11>=ze),Jt=" ",ln=!1;function za(t,r){switch(t){case"keyup":return Ot.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qi=!1;function js(t,r){switch(t){case"compositionend":return pc(r);case"keypress":return r.which===32?(ln=!0,Jt):null;case"textInput":return t=r.data,t===Jt&&ln?null:t;default:return null}}function S3(t,r){if(Qi)return t==="compositionend"||!Pt&&za(t,r)?(t=Is(),Ia=Ns=Xr=null,Qi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Gt&&r.locale!=="ko"?null:r.data;default:return null}}var E3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sy(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!E3[t.type]:r==="textarea"}function Ey(t,r,a,l){Qt?Ui?Ui.push(l):Ui=[l]:Qt=l,r=Zc(r,"onChange"),0<r.length&&(a=new Ki("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var qs=null,zs=null;function T3(t){rb(t,0)}function mc(t){if(lc(wt(t)))return t}function Ty(t,r){if(t==="change")return r}var Ry=!1;if(jr){var Zd;if(jr){var ef="oninput"in document;if(!ef){var Dy=document.createElement("div");Dy.setAttribute("oninput","return;"),ef=typeof Dy.oninput=="function"}Zd=ef}else Zd=!1;Ry=Zd&&(!document.documentMode||9<document.documentMode)}function Oy(){qs&&(qs.detachEvent("onpropertychange",Py),zs=qs=null)}function Py(t){if(t.propertyName==="value"&&mc(zs)){var r=[];Ey(r,zs,t,No(t)),fc(T3,r)}}function R3(t,r,a){t==="focusin"?(Oy(),qs=r,zs=a,qs.attachEvent("onpropertychange",Py)):t==="focusout"&&Oy()}function D3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mc(zs)}function O3(t,r){if(t==="click")return mc(r)}function P3(t,r){if(t==="input"||t==="change")return mc(r)}function L3(t,r){return t===r&&(t!==0||1/t==1/r)||t!==t&&r!==r}var rr=typeof Object.is=="function"?Object.is:L3;function Fs(t,r){if(rr(t,r))return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!gn.call(r,f)||!rr(t[f],r[f]))return!1}return!0}function Ly(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function My(t,r){var a=Ly(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ly(a)}}function Ny(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Ny(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Iy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Da(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Da(t.document)}return r}function tf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var M3=jr&&"documentMode"in document&&11>=document.documentMode,Io=null,nf=null,Bs=null,rf=!1;function Ay(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rf||Io==null||Io!==Da(l)||(l=Io,"selectionStart"in l&&tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bs&&Fs(Bs,l)||(Bs=l,l=Zc(nf,"onSelect"),0<l.length&&(r=new Ki("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Io)))}function Fa(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ao={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},af={},jy={};jr&&(jy=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function Ba(t){if(af[t])return af[t];if(!Ao[t])return t;var r=Ao[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in jy)return af[t]=r[a];return t}var qy=Ba("animationend"),zy=Ba("animationiteration"),Fy=Ba("animationstart"),N3=Ba("transitionrun"),I3=Ba("transitionstart"),A3=Ba("transitioncancel"),By=Ba("transitionend"),Vy=new Map,of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");of.push("scrollEnd");function qr(t,r){Vy.set(t,r),Ht(r,[t])}var $y=new WeakMap;function gr(t,r){if(typeof t=="object"&&t){var a=$y.get(t);return a===void 0?(r={value:t,source:r,stack:Es(r)},$y.set(t,r),r):a}return{value:t,source:r,stack:Es(r)}}var yr=[],jo=0,sf=0;function hc(){for(var t=jo,r=sf=jo=0;r<t;){var a=yr[r];yr[r++]=null;var l=yr[r];yr[r++]=null;var f=yr[r];yr[r++]=null;var g=yr[r];if(yr[r++]=null,l!==null&&f!==null){var C=l.pending;C===null?f.next=f:(f.next=C.next,C.next=f),l.pending=f}g!==0&&Hy(a,f,g)}}function gc(t,r,a,l){yr[jo++]=t,yr[jo++]=r,yr[jo++]=a,yr[jo++]=l,sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function lf(t,r,a,l){return gc(t,r,a,l),yc(t)}function qo(t,r){return gc(t,null,null,r),yc(t)}function Hy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,g=t.return;g!==null;)g.childLanes|=a,l=g.alternate,l!==null&&(l.childLanes|=a),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(f=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,f&&r!==null&&(f=31-Ft(a),t=g.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),g):null}function yc(t){if(50<fl)throw fl=0,mp=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var zo={};function j3(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(t,r,a,l){return new j3(t,r,a,l)}function cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gi(t,r){var a=t.alternate;return a===null?(a=ir(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Wy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function vc(t,r,a,l,f,g){var C=0;if(l=t,typeof t=="function")cf(t)&&(C=1);else if(typeof t=="string")C=FE(t,a,Pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ye:return t=ir(31,a,r,f),t.elementType=ye,t.lanes=g,t;case M:return Va(a.children,f,g,r);case F:C=8,f|=24;break;case J:return t=ir(12,a,r,f|2),t.elementType=J,t.lanes=g,t;case B:return t=ir(13,a,r,f),t.elementType=B,t.lanes=g,t;case W:return t=ir(19,a,r,f),t.elementType=W,t.lanes=g,t;default:if(typeof t=="object"&&t)switch(t.$$typeof){case K:case ce:C=10;break e;case V:C=9;break e;case he:C=11;break e;case ue:C=14;break e;case be:C=16,l=null;break e}C=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=ir(C,a,r,f),r.elementType=t,r.type=l,r.lanes=g,r}function Va(t,r,a,l){return t=ir(7,t,l,r),t.lanes=a,t}function uf(t,r,a){return t=ir(6,t,null,r),t.lanes=a,t}function df(t,r,a){return r=ir(4,t.children===null?[]:t.children,t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Fo=[],Bo=0,bc=null,wc=0,vr=[],br=0,$a=null,yi=1,vi="";function Ha(t,r){Fo[Bo++]=wc,Fo[Bo++]=bc,bc=t,wc=r}function Uy(t,r,a){vr[br++]=yi,vr[br++]=vi,vr[br++]=$a,$a=t;var l=yi;t=vi;var f=32-Ft(l)-1;l&=~(1<<f),a+=1;var g=32-Ft(r)+f;if(30<g){var C=f-f%5;g=(l&(1<<C)-1).toString(32),l>>=C,f-=C,yi=1<<32-Ft(r)+f|a<<f|l,vi=g+t}else yi=1<<g|a<<f|l,vi=t}function ff(t){t.return!==null&&(Ha(t,1),Uy(t,1,0))}function pf(t){for(;t===bc;)bc=Fo[--Bo],Fo[Bo]=null,wc=Fo[--Bo],Fo[Bo]=null;for(;t===$a;)$a=vr[--br],vr[br]=null,vi=vr[--br],vr[br]=null,yi=vr[--br],vr[br]=null}var qn=null,Wt=null,mt=!1,Wa=null,Zr=!1,mf=Error(s(519));function Ua(t){throw Hs(gr(Error(s(418,"")),t)),mf}function Ky(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[bt]=t,r[jt]=l,a){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(a=0;a<ml.length;a++)rt(ml[a],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":rt("invalid",r),Oa(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ra(r);break;case"select":rt("invalid",r);break;case"textarea":rt("invalid",r),Wi(r,l.value,l.defaultValue,l.children),Ra(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||lb(r.textContent,a)?(l.popover!=null&&(rt("beforetoggle",r),rt("toggle",r)),l.onScroll!=null&&rt("scroll",r),l.onScrollEnd!=null&&rt("scrollend",r),l.onClick!=null&&(r.onclick=eu),r=!0):r=!1,r||Ua(t)}function Qy(t){for(qn=t.return;qn;)switch(qn.tag){case 5:case 13:Zr=!1;return;case 27:case 3:Zr=!0;return;default:qn=qn.return}}function Vs(t){if(t!==qn)return!1;if(!mt)return Qy(t),mt=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Dp(t.type,t.memoizedProps)),a=!a),a&&Wt&&Ua(t),Qy(t),r===13){if(t=t.memoizedState,t=t===null?null:t.dehydrated,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){Wt=Fr(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}Wt=null}}else r===27?(r=Wt,la(t.type)?(t=Mp,Mp=null,Wt=t):Wt=r):Wt=qn?Fr(t.stateNode.nextSibling):null;return!0}function $s(){Wt=qn=null,mt=!1}function Gy(){var t=Wa;return t!==null&&(Un===null?Un=t:Un.push.apply(Un,t),Wa=null),t}function Hs(t){Wa===null?Wa=[t]:Wa.push(t)}var hf=Fe(null),Ka=null,bi=null;function Gi(t,r,a){Re(hf,r._currentValue),r._currentValue=a}function wi(t){t._currentValue=hf.current,We(hf)}function gf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)===r?l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r):(t.childLanes|=r,l!==null&&(l.childLanes|=r)),t===a)break;t=t.return}}function yf(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var g=f.dependencies;if(g!==null){var C=f.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=f;for(var j=0;j<r.length;j++)if(R.context===r[j]){g.lanes|=a,R=g.alternate,R!==null&&(R.lanes|=a),gf(g.return,a,t),l||(C=null);break e}g=R.next}}else if(f.tag===18){if(C=f.return,C===null)throw Error(s(341));C.lanes|=a,g=C.alternate,g!==null&&(g.lanes|=a),gf(C,a,t),C=null}else C=f.child;if(C!==null)C.return=f;else for(C=f;C!==null;){if(C===t){C=null;break}if(f=C.sibling,f!==null){f.return=C.return,C=f;break}C=C.return}f=C}}function Ws(t,r,a,l){t=null;for(var f=r,g=!1;f!==null;){if(!g){if(f.flags&524288)g=!0;else if(f.flags&262144)break}if(f.tag===10){var C=f.alternate;if(C===null)throw Error(s(387));if(C=C.memoizedProps,C!==null){var R=f.type;rr(f.pendingProps.value,C.value)||(t===null?t=[R]:t.push(R))}}else if(f===Dn.current){if(C=f.alternate,C===null)throw Error(s(387));C.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t===null?t=[wl]:t.push(wl))}f=f.return}t!==null&&yf(r,t,a,l),r.flags|=262144}function _c(t){for(t=t.firstContext;t!==null;){if(!rr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qa(t){Ka=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ln(t){return Jy(Ka,t)}function xc(t,r){return Ka===null&&Qa(t),Jy(t,r)}function Jy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},bi===null){if(t===null)throw Error(s(308));bi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else bi=bi.next=r;return a}var q3=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},z3=n.unstable_scheduleCallback,F3=n.unstable_NormalPriority,cn={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new q3,data:new Map,refCount:0}}function Us(t){t.refCount--,t.refCount===0&&z3(F3,function(){t.controller.abort()})}var Ks=null,bf=0,Vo=0,$o=null;function B3(t,r){if(Ks===null){var a=Ks=[];bf=0,Vo=_p(),$o={status:"pending",value:void 0,then:function(l){a.push(l)}}}return bf++,r.then(Xy,Xy),r}function Xy(){if(--bf===0&&Ks!==null){$o!==null&&($o.status="fulfilled");var t=Ks;Ks=null,Vo=0,$o=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function V3(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Yy=oe.S;oe.S=function(t,r){typeof r=="object"&&r&&typeof r.then=="function"&&B3(t,r),Yy!==null&&Yy(t,r)};var Ga=Fe(null);function wf(){var t=Ga.current;return t===null?Nt.pooledCache:t}function kc(t,r){r===null?Re(Ga,Ga.current):Re(Ga,r.pool)}function Zy(){var t=wf();return t===null?null:{parent:cn._currentValue,pool:t}}var Qs=Error(s(460)),ev=Error(s(474)),Cc=Error(s(542)),_f={then:function(){}};function tv(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sc(){}function nv(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Sc,Sc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,iv(t),t;default:if(typeof r.status=="string")r.then(Sc,Sc);else{if(t=Nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,iv(t),t}throw Gs=r,Qs}}var Gs=null;function rv(){if(Gs===null)throw Error(s(459));var t=Gs;return Gs=null,t}function iv(t){if(t===Qs||t===Cc)throw Error(s(483))}var Ji=!1;function xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ja(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xa(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,_t&2){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=yc(t),Hy(t,null,a),r}return gc(t,l,r,a),yc(t)}function Js(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,a&4194048)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,jn(t,a)}}function Cf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var C={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?f=g=C:g=g.next=C,a=a.next}while(a!==null);g===null?f=g=r:g=g.next=r}else f=g=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Sf=!1;function Xs(){if(Sf){var t=$o;if(t!==null)throw t}}function Ys(t,r,a,l){Sf=!1;var f=t.updateQueue;Ji=!1;var g=f.firstBaseUpdate,C=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var j=R,Z=j.next;j.next=null,C===null?g=Z:C.next=Z,C=j;var de=t.alternate;de!==null&&(de=de.updateQueue,R=de.lastBaseUpdate,R!==C&&(R===null?de.firstBaseUpdate=Z:R.next=Z,de.lastBaseUpdate=j))}if(g!==null){var ge=f.baseState;C=0,de=Z=j=null,R=g;do{var te=R.lane&-536870913,ie=te!==R.lane;if(ie?(ot&te)===te:(l&te)===te){te!==0&&te===Vo&&(Sf=!0),de!==null&&(de=de.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var qe=t,Le=R;te=r;var Rt=a;switch(Le.tag){case 1:if(qe=Le.payload,typeof qe=="function"){ge=qe.call(Rt,ge,te);break e}ge=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Le.payload,te=typeof qe=="function"?qe.call(Rt,ge,te):qe,te==null)break e;ge=w({},ge,te);break e;case 2:Ji=!0}}te=R.callback,te!==null&&(t.flags|=64,ie&&(t.flags|=8192),ie=f.callbacks,ie===null?f.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:R.tag,payload:R.payload,callback:R.callback,next:null},de===null?(Z=de=ie,j=ge):de=de.next=ie,C|=te;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;ie=R,R=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);de===null&&(j=ge),f.baseState=j,f.firstBaseUpdate=Z,f.lastBaseUpdate=de,g===null&&(f.shared.lanes=0),ia|=C,t.lanes=C,t.memoizedState=ge}}function av(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function ov(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)av(a[t],r)}var Ho=Fe(null),Ec=Fe(0);function sv(t,r){t=Ri,Re(Ec,t),Re(Ho,r),Ri=t|r.baseLanes}function Ef(){Re(Ec,Ri),Re(Ho,Ho.current)}function Tf(){Ri=Ec.current,We(Ho),We(Ec)}var Xi=0,Ye=null,Et=null,rn=null,Tc=!1,Wo=!1,Ya=!1,Rc=0,Zs=0,Uo=null,$3=0;function Xt(){throw Error(s(321))}function Rf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!rr(t[a],r[a]))return!1;return!0}function Df(t,r,a,l,f,g){return Xi=g,Ye=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,oe.H=t===null||t.memoizedState===null?Hv:Wv,Ya=!1,g=a(l,f),Ya=!1,Wo&&(g=cv(r,a,l,f)),lv(t),g}function lv(t){oe.H=Nc;var r=Et!==null&&Et.next!==null;if(Xi=0,rn=Et=Ye=null,Tc=!1,Zs=0,Uo=null,r)throw Error(s(300));t===null||wn||(t=t.dependencies,t!==null&&_c(t)&&(wn=!0))}function cv(t,r,a,l){Ye=t;var f=0;do{if(Wo&&(Uo=null),Zs=0,Wo=!1,25<=f)throw Error(s(301));if(f+=1,rn=Et=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}oe.H=J3,g=r(a,l)}while(Wo);return g}function H3(){var t=oe.H,r=t.useState()[0];return r=typeof r.then=="function"?el(r):r,t=t.useState()[0],(Et===null?null:Et.memoizedState)!==t&&(Ye.flags|=1024),r}function Of(){var t=Rc!==0;return Rc=0,t}function Pf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Lf(t){if(Tc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Tc=!1}Xi=0,rn=Et=Ye=null,Wo=!1,Zs=Rc=0,Uo=null}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Ye.memoizedState=rn=t:rn=rn.next=t,rn}function an(){if(Et===null){var t=Ye.alternate;t=t===null?null:t.memoizedState}else t=Et.next;var r=rn===null?Ye.memoizedState:rn.next;if(r!==null)rn=r,Et=t;else{if(t===null)throw Ye.alternate===null?Error(s(467)):Error(s(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},rn===null?Ye.memoizedState=rn=t:rn=rn.next=t}return rn}function Mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(t){var r=Zs;return Zs+=1,Uo===null&&(Uo=[]),t=nv(Uo,t,r),r=Ye,(rn===null?r.memoizedState:rn.next)===null&&(r=r.alternate,oe.H=r===null||r.memoizedState===null?Hv:Wv),t}function Dc(t){if(typeof t=="object"&&t){if(typeof t.then=="function")return el(t);if(t.$$typeof===ce)return Ln(t)}throw Error(s(438,String(t)))}function Nf(t){var r=null,a=Ye.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ye.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r??(r={data:[],index:0}),a===null&&(a=Mf(),Ye.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=xe;return r.index++,a}function _i(t,r){return typeof r=="function"?r(t):r}function Oc(t){return If(an(),Et,t)}function If(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,g=l.pending;if(g!==null){if(f!==null){var C=f.next;f.next=g.next,g.next=C}r.baseQueue=f=g,l.pending=null}if(g=t.baseState,f===null)t.memoizedState=g;else{r=f.next;var R=C=null,j=null,Z=r,de=!1;do{var ge=Z.lane&-536870913;if(ge===Z.lane?(Xi&ge)===ge:(ot&ge)===ge){var te=Z.revertLane;if(te===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ge===Vo&&(de=!0);else if((Xi&te)===te){Z=Z.next,te===Vo&&(de=!0);continue}else ge={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},j===null?(R=j=ge,C=g):j=j.next=ge,Ye.lanes|=te,ia|=te;ge=Z.action,Ya&&a(g,ge),g=Z.hasEagerState?Z.eagerState:a(g,ge)}else te={lane:ge,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},j===null?(R=j=te,C=g):j=j.next=te,Ye.lanes|=ge,ia|=ge;Z=Z.next}while(Z!==null&&Z!==r);if(j===null?C=g:j.next=R,!rr(g,t.memoizedState)&&(wn=!0,de&&(a=$o,a!==null)))throw a;t.memoizedState=g,t.baseState=C,t.baseQueue=j,l.lastRenderedState=g}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Af(t){var r=an(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,g=r.memoizedState;if(f!==null){a.pending=null;var C=f=f.next;do g=t(g,C.action),C=C.next;while(C!==f);rr(g,r.memoizedState)||(wn=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),a.lastRenderedState=g}return[g,l]}function uv(t,r,a){var l=Ye,f=an(),g=mt;if(g){if(a===void 0)throw Error(s(407));a=a()}else a=r();var C=!rr((Et||f).memoizedState,a);if(C&&(f.memoizedState=a,wn=!0),f=f.queue,tl(2048,8,pv.bind(null,l,f,t),[t]),f.getSnapshot!==r||C||rn!==null&&rn.memoizedState.tag&1){if(l.flags|=2048,Ko(9,Pc(),fv.bind(null,l,f,a,r),null),Nt===null)throw Error(s(349));g||Xi&124||dv(l,r,a)}return a}function dv(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ye.updateQueue,r===null?(r=Mf(),Ye.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function fv(t,r,a,l){r.value=a,r.getSnapshot=l,mv(r)&&hv(t)}function pv(t,r,a){return a(function(){mv(r)&&hv(t)})}function mv(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!rr(t,a)}catch{return!0}}function hv(t){var r=qo(t,2);r!==null&&lr(r,t,2)}function jf(t){var r=Hn();if(typeof t=="function"){var a=t;if(t=a(),Ya){yt(!0);try{a()}finally{yt(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},r}function gv(t,r,a,l){return t.baseState=a,If(t,Et,typeof l=="function"?l:_i)}function W3(t,r,a,l,f){if(Mc(t))throw Error(s(485));if(t=r.action,t!==null){var g={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){g.listeners.push(C)}};oe.T===null?g.isTransition=!1:a(!0),l(g),a=r.pending,a===null?(g.next=r.pending=g,yv(r,g)):(g.next=a.next,r.pending=a.next=g)}}function yv(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var g=oe.T,C={};oe.T=C;try{var R=a(f,l),j=oe.S;j!==null&&j(C,R),vv(t,r,R)}catch(Z){qf(t,r,Z)}finally{oe.T=g}}else try{g=a(f,l),vv(t,r,g)}catch(Z){qf(t,r,Z)}}function vv(t,r,a){typeof a=="object"&&a&&typeof a.then=="function"?a.then(function(l){bv(t,r,l)},function(l){return qf(t,r,l)}):bv(t,r,a)}function bv(t,r,a){r.status="fulfilled",r.value=a,wv(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,yv(t,a)))}function qf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,wv(r),r=r.next;while(r!==l)}t.action=null}function wv(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function _v(t,r){return r}function xv(t,r){if(mt){var a=Nt.formState;if(a!==null){e:{var l=Ye;if(mt){if(Wt){t:{for(var f=Wt,g=Zr;f.nodeType!==8;){if(!g){f=null;break t}if(f=Fr(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Wt=Fr(f.nextSibling),l=f.data==="F!";break e}}Ua(l)}l=!1}l&&(r=a[0])}}return a=Hn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_v,lastRenderedState:r},a.queue=l,a=Bv.bind(null,Ye,l),l.dispatch=a,l=jf(!1),g=$f.bind(null,Ye,!1,l.queue),l=Hn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=W3.bind(null,Ye,f,g,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function kv(t){return Cv(an(),Et,t)}function Cv(t,r,a){if(r=If(t,r,_v)[0],t=Oc(_i)[0],typeof r=="object"&&r&&typeof r.then=="function")try{var l=el(r)}catch(C){throw C===Qs?Cc:C}else l=r;r=an();var f=r.queue,g=f.dispatch;return a!==r.memoizedState&&(Ye.flags|=2048,Ko(9,Pc(),U3.bind(null,f,a),null)),[l,g,t]}function U3(t,r){t.action=r}function Sv(t){var r=an(),a=Et;if(a!==null)return Cv(r,a,t);an(),r=r.memoizedState,a=an();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ko(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ye.updateQueue,r===null&&(r=Mf(),Ye.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Pc(){return{destroy:void 0,resource:void 0}}function Ev(){return an().memoizedState}function Lc(t,r,a,l){var f=Hn();l=l===void 0?null:l,Ye.flags|=t,f.memoizedState=Ko(1|r,Pc(),a,l)}function tl(t,r,a,l){var f=an();l=l===void 0?null:l;var g=f.memoizedState.inst;Et!==null&&l!==null&&Rf(l,Et.memoizedState.deps)?f.memoizedState=Ko(r,g,a,l):(Ye.flags|=t,f.memoizedState=Ko(1|r,g,a,l))}function Tv(t,r){Lc(8390656,8,t,r)}function Rv(t,r){tl(2048,8,t,r)}function Dv(t,r){return tl(4,2,t,r)}function Ov(t,r){return tl(4,4,t,r)}function Pv(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Lv(t,r,a){a=a==null?null:a.concat([t]),tl(4,4,Pv.bind(null,r,t),a)}function zf(){}function Mv(t,r){var a=an();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Rf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Nv(t,r){var a=an();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Rf(r,l[1]))return l[0];if(l=t(),Ya){yt(!0);try{t()}finally{yt(!1)}}return a.memoizedState=[l,r],l}function Ff(t,r,a){return a===void 0||Xi&1073741824?t.memoizedState=r:(t.memoizedState=a,t=N1(),Ye.lanes|=t,ia|=t,a)}function Iv(t,r,a,l){return rr(a,r)?a:Ho.current===null?Xi&42?(t=N1(),Ye.lanes|=t,ia|=t,r):(wn=!0,t.memoizedState=a):(t=Ff(t,a,l),rr(t,r)||(wn=!0),t)}function Av(t,r,a,l,f){var g=$.p;$.p=g!==0&&8>g?g:8;var C=oe.T,R={};oe.T=R,$f(t,!1,r,a);try{var j=f(),Z=oe.S;Z!==null&&Z(R,j),typeof j=="object"&&j&&typeof j.then=="function"?nl(t,r,V3(j,l),xr(t)):nl(t,r,l,xr(t))}catch(de){nl(t,r,{then:function(){},status:"rejected",reason:de},xr())}finally{$.p=g,oe.T=C}}function K3(){}function Bf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=jv(t).queue;Av(t,f,r,Ne,a===null?K3:function(){return qv(t),a(l)})}function jv(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:Ne},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function qv(t){var r=jv(t).next.queue;nl(t,r,{},xr())}function Vf(){return Ln(wl)}function zv(){return an().memoizedState}function Fv(){return an().memoizedState}function Q3(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=xr();t=Ja(a);var l=Xa(r,t,a);l!==null&&(lr(l,r,a),Js(l,r,a)),r={cache:vf()},t.payload=r;return}r=r.return}}function G3(t,r,a){var l=xr();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Mc(t)?Vv(r,a):(a=lf(t,r,a,l),a!==null&&(lr(a,t,l),$v(a,r,l)))}function Bv(t,r,a){nl(t,r,a,xr())}function nl(t,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mc(t))Vv(r,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var C=r.lastRenderedState,R=g(C,a);if(f.hasEagerState=!0,f.eagerState=R,rr(R,C))return gc(t,r,f,0),Nt===null&&hc(),!1}catch{}if(a=lf(t,r,f,l),a!==null)return lr(a,t,l),$v(a,r,l),!0}return!1}function $f(t,r,a,l){if(l={lane:2,revertLane:_p(),action:l,hasEagerState:!1,eagerState:null,next:null},Mc(t)){if(r)throw Error(s(479))}else r=lf(t,a,l,2),r!==null&&lr(r,t,2)}function Mc(t){var r=t.alternate;return t===Ye||r!==null&&r===Ye}function Vv(t,r){Wo=Tc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function $v(t,r,a){if(a&4194048){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,jn(t,a)}}var Nc={readContext:Ln,use:Dc,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},Hv={readContext:Ln,use:Dc,useCallback:function(t,r){return Hn().memoizedState=[t,r===void 0?null:r],t},useContext:Ln,useEffect:Tv,useImperativeHandle:function(t,r,a){a=a==null?null:a.concat([t]),Lc(4194308,4,Pv.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Lc(4194308,4,t,r)},useInsertionEffect:function(t,r){Lc(4,2,t,r)},useMemo:function(t,r){var a=Hn();r=r===void 0?null:r;var l=t();if(Ya){yt(!0);try{t()}finally{yt(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=Hn();if(a!==void 0){var f=a(r);if(Ya){yt(!0);try{a(r)}finally{yt(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=G3.bind(null,Ye,t),[l.memoizedState,t]},useRef:function(t){var r=Hn();return t={current:t},r.memoizedState=t},useState:function(t){t=jf(t);var r=t.queue,a=Bv.bind(null,Ye,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:zf,useDeferredValue:function(t,r){return Ff(Hn(),t,r)},useTransition:function(){var t=jf(!1);return t=Av.bind(null,Ye,t.queue,!0,!1),Hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ye,f=Hn();if(mt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Nt===null)throw Error(s(349));ot&124||dv(l,r,a)}f.memoizedState=a;var g={value:a,getSnapshot:r};return f.queue=g,Tv(pv.bind(null,l,g,t),[t]),l.flags|=2048,Ko(9,Pc(),fv.bind(null,l,g,a,r),null),a},useId:function(){var t=Hn(),r=Nt.identifierPrefix;if(mt){var a=vi,l=yi;a=(l&~(1<<32-Ft(l)-1)).toString(32)+a,r="\xAB"+r+"R"+a,a=Rc++,0<a&&(r+="H"+a.toString(32)),r+="\xBB"}else a=$3++,r="\xAB"+r+"r"+a.toString(32)+"\xBB";return t.memoizedState=r},useHostTransitionStatus:Vf,useFormState:xv,useActionState:xv,useOptimistic:function(t){var r=Hn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=$f.bind(null,Ye,!0,a),a.dispatch=r,[t,r]},useMemoCache:Nf,useCacheRefresh:function(){return Hn().memoizedState=Q3.bind(null,Ye)}},Wv={readContext:Ln,use:Dc,useCallback:Mv,useContext:Ln,useEffect:Rv,useImperativeHandle:Lv,useInsertionEffect:Dv,useLayoutEffect:Ov,useMemo:Nv,useReducer:Oc,useRef:Ev,useState:function(){return Oc(_i)},useDebugValue:zf,useDeferredValue:function(t,r){return Iv(an(),Et.memoizedState,t,r)},useTransition:function(){var t=Oc(_i)[0],r=an().memoizedState;return[typeof t=="boolean"?t:el(t),r]},useSyncExternalStore:uv,useId:zv,useHostTransitionStatus:Vf,useFormState:kv,useActionState:kv,useOptimistic:function(t,r){return gv(an(),Et,t,r)},useMemoCache:Nf,useCacheRefresh:Fv},J3={readContext:Ln,use:Dc,useCallback:Mv,useContext:Ln,useEffect:Rv,useImperativeHandle:Lv,useInsertionEffect:Dv,useLayoutEffect:Ov,useMemo:Nv,useReducer:Af,useRef:Ev,useState:function(){return Af(_i)},useDebugValue:zf,useDeferredValue:function(t,r){var a=an();return Et===null?Ff(a,t,r):Iv(a,Et.memoizedState,t,r)},useTransition:function(){var t=Af(_i)[0],r=an().memoizedState;return[typeof t=="boolean"?t:el(t),r]},useSyncExternalStore:uv,useId:zv,useHostTransitionStatus:Vf,useFormState:Sv,useActionState:Sv,useOptimistic:function(t,r){var a=an();return Et===null?(a.baseState=t,[t,a.queue.dispatch]):gv(a,Et,t,r)},useMemoCache:Nf,useCacheRefresh:Fv},Qo=null,rl=0;function Ic(t){var r=rl;return rl+=1,Qo===null&&(Qo=[]),nv(Qo,t,r)}function il(t,r){r=r.props.ref,t.ref=r===void 0?null:r}function Ac(t,r){throw r.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Uv(t){var r=t._init;return r(t._payload)}function Kv(t){function r(H,z){if(t){var G=H.deletions;G===null?(H.deletions=[z],H.flags|=16):G.push(z)}}function a(H,z){if(!t)return null;for(;z!==null;)r(H,z),z=z.sibling;return null}function l(H){for(var z=new Map;H!==null;)H.key===null?z.set(H.index,H):z.set(H.key,H),H=H.sibling;return z}function f(H,z){return H=gi(H,z),H.index=0,H.sibling=null,H}function g(H,z,G){return H.index=G,t?(G=H.alternate,G===null?(H.flags|=67108866,z):(G=G.index,G<z?(H.flags|=67108866,z):G)):(H.flags|=1048576,z)}function C(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function R(H,z,G,fe){return z===null||z.tag!==6?(z=uf(G,H.mode,fe),z.return=H,z):(z=f(z,G),z.return=H,z)}function j(H,z,G,fe){var Ee=G.type;return Ee===M?de(H,z,G.props.children,fe,G.key):z!==null&&(z.elementType===Ee||typeof Ee=="object"&&Ee&&Ee.$$typeof===be&&Uv(Ee)===z.type)?(z=f(z,G.props),il(z,G),z.return=H,z):(z=vc(G.type,G.key,G.props,null,H.mode,fe),il(z,G),z.return=H,z)}function Z(H,z,G,fe){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=df(G,H.mode,fe),z.return=H,z):(z=f(z,G.children||[]),z.return=H,z)}function de(H,z,G,fe,Ee){return z===null||z.tag!==7?(z=Va(G,H.mode,fe,Ee),z.return=H,z):(z=f(z,G),z.return=H,z)}function ge(H,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=uf(""+z,H.mode,G),z.return=H,z;if(typeof z=="object"&&z){switch(z.$$typeof){case E:return G=vc(z.type,z.key,z.props,null,H.mode,G),il(G,z),G.return=H,G;case D:return z=df(z,H.mode,G),z.return=H,z;case be:var fe=z._init;return z=fe(z._payload),ge(H,z,G)}if(ne(z)||_e(z))return z=Va(z,H.mode,G,null),z.return=H,z;if(typeof z.then=="function")return ge(H,Ic(z),G);if(z.$$typeof===ce)return ge(H,xc(H,z),G);Ac(H,z)}return null}function te(H,z,G,fe){var Ee=z===null?null:z.key;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ee===null?R(H,z,""+G,fe):null;if(typeof G=="object"&&G){switch(G.$$typeof){case E:return G.key===Ee?j(H,z,G,fe):null;case D:return G.key===Ee?Z(H,z,G,fe):null;case be:return Ee=G._init,G=Ee(G._payload),te(H,z,G,fe)}if(ne(G)||_e(G))return Ee===null?de(H,z,G,fe,null):null;if(typeof G.then=="function")return te(H,z,Ic(G),fe);if(G.$$typeof===ce)return te(H,z,xc(H,G),fe);Ac(H,G)}return null}function ie(H,z,G,fe,Ee){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return H=H.get(G)||null,R(z,H,""+fe,Ee);if(typeof fe=="object"&&fe){switch(fe.$$typeof){case E:return H=H.get(fe.key===null?G:fe.key)||null,j(z,H,fe,Ee);case D:return H=H.get(fe.key===null?G:fe.key)||null,Z(z,H,fe,Ee);case be:var et=fe._init;return fe=et(fe._payload),ie(H,z,G,fe,Ee)}if(ne(fe)||_e(fe))return H=H.get(G)||null,de(z,H,fe,Ee,null);if(typeof fe.then=="function")return ie(H,z,G,Ic(fe),Ee);if(fe.$$typeof===ce)return ie(H,z,G,xc(z,fe),Ee);Ac(z,fe)}return null}function qe(H,z,G,fe){for(var Ee=null,et=null,Oe=z,Me=z=0,xn=null;Oe!==null&&Me<G.length;Me++){Oe.index>Me?(xn=Oe,Oe=null):xn=Oe.sibling;var dt=te(H,Oe,G[Me],fe);if(dt===null){Oe===null&&(Oe=xn);break}t&&Oe&&dt.alternate===null&&r(H,Oe),z=g(dt,z,Me),et===null?Ee=dt:et.sibling=dt,et=dt,Oe=xn}if(Me===G.length)return a(H,Oe),mt&&Ha(H,Me),Ee;if(Oe===null){for(;Me<G.length;Me++)Oe=ge(H,G[Me],fe),Oe!==null&&(z=g(Oe,z,Me),et===null?Ee=Oe:et.sibling=Oe,et=Oe);return mt&&Ha(H,Me),Ee}for(Oe=l(Oe);Me<G.length;Me++)xn=ie(Oe,H,Me,G[Me],fe),xn!==null&&(t&&xn.alternate!==null&&Oe.delete(xn.key===null?Me:xn.key),z=g(xn,z,Me),et===null?Ee=xn:et.sibling=xn,et=xn);return t&&Oe.forEach(function(pa){return r(H,pa)}),mt&&Ha(H,Me),Ee}function Le(H,z,G,fe){if(G==null)throw Error(s(151));for(var Ee=null,et=null,Oe=z,Me=z=0,xn=null,dt=G.next();Oe!==null&&!dt.done;Me++,dt=G.next()){Oe.index>Me?(xn=Oe,Oe=null):xn=Oe.sibling;var pa=te(H,Oe,dt.value,fe);if(pa===null){Oe===null&&(Oe=xn);break}t&&Oe&&pa.alternate===null&&r(H,Oe),z=g(pa,z,Me),et===null?Ee=pa:et.sibling=pa,et=pa,Oe=xn}if(dt.done)return a(H,Oe),mt&&Ha(H,Me),Ee;if(Oe===null){for(;!dt.done;Me++,dt=G.next())dt=ge(H,dt.value,fe),dt!==null&&(z=g(dt,z,Me),et===null?Ee=dt:et.sibling=dt,et=dt);return mt&&Ha(H,Me),Ee}for(Oe=l(Oe);!dt.done;Me++,dt=G.next())dt=ie(Oe,H,Me,dt.value,fe),dt!==null&&(t&&dt.alternate!==null&&Oe.delete(dt.key===null?Me:dt.key),z=g(dt,z,Me),et===null?Ee=dt:et.sibling=dt,et=dt);return t&&Oe.forEach(function(eT){return r(H,eT)}),mt&&Ha(H,Me),Ee}function Rt(H,z,G,fe){if(typeof G=="object"&&G&&G.type===M&&G.key===null&&(G=G.props.children),typeof G=="object"&&G){switch(G.$$typeof){case E:e:{for(var Ee=G.key;z!==null;){if(z.key===Ee){if(Ee=G.type,Ee===M){if(z.tag===7){a(H,z.sibling),fe=f(z,G.props.children),fe.return=H,H=fe;break e}}else if(z.elementType===Ee||typeof Ee=="object"&&Ee&&Ee.$$typeof===be&&Uv(Ee)===z.type){a(H,z.sibling),fe=f(z,G.props),il(fe,G),fe.return=H,H=fe;break e}a(H,z);break}else r(H,z);z=z.sibling}G.type===M?(fe=Va(G.props.children,H.mode,fe,G.key),fe.return=H,H=fe):(fe=vc(G.type,G.key,G.props,null,H.mode,fe),il(fe,G),fe.return=H,H=fe)}return C(H);case D:e:{for(Ee=G.key;z!==null;){if(z.key===Ee)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){a(H,z.sibling),fe=f(z,G.children||[]),fe.return=H,H=fe;break e}else{a(H,z);break}else r(H,z);z=z.sibling}fe=df(G,H.mode,fe),fe.return=H,H=fe}return C(H);case be:return Ee=G._init,G=Ee(G._payload),Rt(H,z,G,fe)}if(ne(G))return qe(H,z,G,fe);if(_e(G)){if(Ee=_e(G),typeof Ee!="function")throw Error(s(150));return G=Ee.call(G),Le(H,z,G,fe)}if(typeof G.then=="function")return Rt(H,z,Ic(G),fe);if(G.$$typeof===ce)return Rt(H,z,xc(H,G),fe);Ac(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(a(H,z.sibling),fe=f(z,G),fe.return=H,H=fe):(a(H,z),fe=uf(G,H.mode,fe),fe.return=H,H=fe),C(H)):a(H,z)}return function(H,z,G,fe){try{rl=0;var Ee=Rt(H,z,G,fe);return Qo=null,Ee}catch(Oe){if(Oe===Qs||Oe===Cc)throw Oe;var et=ir(29,Oe,null,H.mode);return et.lanes=fe,et.return=H,et}}}var Go=Kv(!0),Qv=Kv(!1),wr=Fe(null),xi=null;function Yi(t){var r=t.alternate;Re(un,un.current&1),Re(wr,t),xi===null&&(r===null||Ho.current!==null||r.memoizedState!==null)&&(xi=t)}function Gv(t){if(t.tag===22){if(Re(un,un.current),Re(wr,t),xi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(xi=t)}}else Zi(t)}function Zi(){Re(un,un.current),Re(wr,wr.current)}function ki(t){We(wr),xi===t&&(xi=null),We(un)}var un=Fe(0);function jc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Lp(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Hf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:w({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Wf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=xr(),f=Ja(l);f.payload=r,a!=null&&(f.callback=a),r=Xa(t,f,l),r!==null&&(lr(r,t,l),Js(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=xr(),f=Ja(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Xa(t,f,l),r!==null&&(lr(r,t,l),Js(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=xr(),l=Ja(a);l.tag=2,r!=null&&(l.callback=r),r=Xa(t,l,a),r!==null&&(lr(r,t,a),Js(r,t,a))}};function Jv(t,r,a,l,f,g,C){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,g,C):r.prototype&&r.prototype.isPureReactComponent?!Fs(a,l)||!Fs(f,g):!0}function Xv(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Wf.enqueueReplaceState(r,r.state,null)}function Za(t,r){var a=r;if("ref"in r)for(var l in a={},r)l!=="ref"&&(a[l]=r[l]);if(t=t.defaultProps)for(var f in a===r&&(a=w({},a)),t)a[f]===void 0&&(a[f]=t[f]);return a}var qc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function X3(t){qc(t)}function Y3(t){console.error(t)}function Z3(t){qc(t)}function zc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Yv(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Uf(t,r,a){return a=Ja(a),a.tag=3,a.payload={element:null},a.callback=function(){zc(t,r)},a}function Zv(t){return t=Ja(t),t.tag=3,t}function e1(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var g=l.value;t.payload=function(){return f(g)},t.callback=function(){Yv(r,a,l)}}var C=a.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(t.callback=function(){Yv(r,a,l),typeof f!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var R=l.stack;this.componentDidCatch(l.value,{componentStack:R===null?"":R})})}function eE(t,r,a,l,f){if(a.flags|=32768,typeof l=="object"&&l&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ws(r,a,f,!0),a=wr.current,a!==null){switch(a.tag){case 13:return xi===null?gp():a.alternate===null&&Ut===0&&(Ut=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===_f?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),vp(t,l,f)),!1;case 22:return a.flags|=65536,l===_f?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),vp(t,l,f)),!1}throw Error(s(435,a.tag))}return vp(t,l,f),gp(),!1}if(mt)return r=wr.current,r===null?(l!==mf&&(r=Error(s(423),{cause:l}),Hs(gr(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=gr(l,a),f=Uf(t.stateNode,l,f),Cf(t,f),Ut!==4&&(Ut=2)):(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==mf&&(t=Error(s(422),{cause:l}),Hs(gr(t,a)))),!1;var g=Error(s(520),{cause:l});if(g=gr(g,a),dl===null?dl=[g]:dl.push(g),Ut!==4&&(Ut=2),r===null)return!0;l=gr(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Uf(a.stateNode,l,t),Cf(a,t),!1;case 1:if(r=a.type,g=a.stateNode,!(a.flags&128)&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(aa===null||!aa.has(g))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Zv(f),e1(f,t,a,l),Cf(a,f),!1}a=a.return}while(a!==null);return!1}var t1=Error(s(461)),wn=!1;function Sn(t,r,a,l){r.child=t===null?Qv(r,null,a,l):Go(r,t.child,a,l)}function n1(t,r,a,l,f){a=a.render;var g=r.ref;if("ref"in l){var C={};for(var R in l)R!=="ref"&&(C[R]=l[R])}else C=l;return Qa(r),l=Df(t,r,a,C,g,f),R=Of(),t!==null&&!wn?(Pf(t,r,f),Ci(t,r,f)):(mt&&R&&ff(r),r.flags|=1,Sn(t,r,l,f),r.child)}function r1(t,r,a,l,f){if(t===null){var g=a.type;return typeof g=="function"&&!cf(g)&&g.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=g,i1(t,r,g,l,f)):(t=vc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(g=t.child,!ep(t,f)){var C=g.memoizedProps;if(a=a.compare,a=a===null?Fs:a,a(C,l)&&t.ref===r.ref)return Ci(t,r,f)}return r.flags|=1,t=gi(g,l),t.ref=r.ref,t.return=r,r.child=t}function i1(t,r,a,l,f){if(t!==null){var g=t.memoizedProps;if(Fs(g,l)&&t.ref===r.ref)if(wn=!1,r.pendingProps=l=g,ep(t,f))t.flags&131072&&(wn=!0);else return r.lanes=t.lanes,Ci(t,r,f)}return Kf(t,r,a,l,f)}function a1(t,r,a){var l=r.pendingProps,f=l.children,g=t===null?null:t.memoizedState;if(l.mode==="hidden"){if(r.flags&128){if(l=g===null?a:g.baseLanes|a,t!==null){for(f=r.child=t.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;r.childLanes=g&~l}else r.childLanes=0,r.child=null;return o1(t,r,l,a)}if(a&536870912)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&kc(r,g===null?null:g.cachePool),g===null?Ef():sv(r,g),Gv(r);else return r.lanes=r.childLanes=536870912,o1(t,r,g===null?a:g.baseLanes|a,a)}else g===null?(t!==null&&kc(r,null),Ef(),Zi(r)):(kc(r,g.cachePool),sv(r,g),Zi(r),r.memoizedState=null);return Sn(t,r,f,a),r.child}function o1(t,r,a,l){var f=wf();return f=f===null?null:{parent:cn._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&kc(r,null),Ef(),Gv(r),t!==null&&Ws(t,r,l,!0),null}function Fc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Kf(t,r,a,l,f){return Qa(r),a=Df(t,r,a,l,void 0,f),l=Of(),t!==null&&!wn?(Pf(t,r,f),Ci(t,r,f)):(mt&&l&&ff(r),r.flags|=1,Sn(t,r,a,f),r.child)}function s1(t,r,a,l,f,g){return Qa(r),r.updateQueue=null,a=cv(r,l,a,f),lv(t),l=Of(),t!==null&&!wn?(Pf(t,r,g),Ci(t,r,g)):(mt&&l&&ff(r),r.flags|=1,Sn(t,r,a,g),r.child)}function l1(t,r,a,l,f){if(Qa(r),r.stateNode===null){var g=zo,C=a.contextType;typeof C=="object"&&C&&(g=Ln(C)),g=new a(l,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Wf,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=l,g.state=r.memoizedState,g.refs={},xf(r),C=a.contextType,g.context=typeof C=="object"&&C?Ln(C):zo,g.state=r.memoizedState,C=a.getDerivedStateFromProps,typeof C=="function"&&(Hf(r,a,C,l),g.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(C=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),C!==g.state&&Wf.enqueueReplaceState(g,g.state,null),Ys(r,l,g,f),Xs(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){g=r.stateNode;var R=r.memoizedProps,j=Za(a,R);g.props=j;var Z=g.context,de=a.contextType;C=zo,typeof de=="object"&&de&&(C=Ln(de));var ge=a.getDerivedStateFromProps;de=typeof ge=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=r.pendingProps!==R,de||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||Z!==C)&&Xv(r,g,l,C),Ji=!1;var te=r.memoizedState;g.state=te,Ys(r,l,g,f),Xs(),Z=r.memoizedState,R||te!==Z||Ji?(typeof ge=="function"&&(Hf(r,a,ge,l),Z=r.memoizedState),(j=Ji||Jv(r,a,j,l,te,Z,C))?(de||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=Z),g.props=l,g.state=Z,g.context=C,l=j):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{g=r.stateNode,kf(t,r),C=r.memoizedProps,de=Za(a,C),g.props=de,ge=r.pendingProps,te=g.context,Z=a.contextType,j=zo,typeof Z=="object"&&Z&&(j=Ln(Z)),R=a.getDerivedStateFromProps,(Z=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C!==ge||te!==j)&&Xv(r,g,l,j),Ji=!1,te=r.memoizedState,g.state=te,Ys(r,l,g,f),Xs();var ie=r.memoizedState;C!==ge||te!==ie||Ji||t!==null&&t.dependencies!==null&&_c(t.dependencies)?(typeof R=="function"&&(Hf(r,a,R,l),ie=r.memoizedState),(de=Ji||Jv(r,a,de,l,te,ie,j)||t!==null&&t.dependencies!==null&&_c(t.dependencies))?(Z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,ie,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,ie,j)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||C===t.memoizedProps&&te===t.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&te===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=ie),g.props=l,g.state=ie,g.context=j,l=de):(typeof g.componentDidUpdate!="function"||C===t.memoizedProps&&te===t.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&te===t.memoizedState||(r.flags|=1024),l=!1)}return g=l,Fc(t,r),l=(r.flags&128)!=0,g||l?(g=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,t!==null&&l?(r.child=Go(r,t.child,null,f),r.child=Go(r,null,a,f)):Sn(t,r,a,f),r.memoizedState=g.state,t=r.child):t=Ci(t,r,f),t}function c1(t,r,a,l){return $s(),r.flags|=256,Sn(t,r,a,l),r.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(t){return{baseLanes:t,cachePool:Zy()}}function Jf(t,r,a){return t=t===null?0:t.childLanes&~a,r&&(t|=_r),t}function u1(t,r,a){var l=r.pendingProps,f=!1,g=(r.flags&128)!=0,C;if((C=g)||(C=t!==null&&t.memoizedState===null?!1:(un.current&2)!=0),C&&(f=!0,r.flags&=-129),C=(r.flags&32)!=0,r.flags&=-33,t===null){if(mt){if(f?Yi(r):Zi(r),mt){var R=Wt,j;if(j=R){e:{for(j=R,R=Zr;j.nodeType!==8;){if(!R){R=null;break e}if(j=Fr(j.nextSibling),j===null){R=null;break e}}R=j}R===null?j=!1:(r.memoizedState={dehydrated:R,treeContext:$a===null?null:{id:yi,overflow:vi},retryLane:536870912,hydrationErrors:null},j=ir(18,null,null,0),j.stateNode=R,j.return=r,r.child=j,qn=r,Wt=null,j=!0)}j||Ua(r)}if(R=r.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Lp(R)?r.lanes=32:r.lanes=536870912,null;ki(r)}return R=l.children,l=l.fallback,f?(Zi(r),f=r.mode,R=Bc({mode:"hidden",children:R},f),l=Va(l,f,a,null),R.return=r,l.return=r,R.sibling=l,r.child=R,f=r.child,f.memoizedState=Gf(a),f.childLanes=Jf(t,C,a),r.memoizedState=Qf,l):(Yi(r),Xf(r,R))}if(j=t.memoizedState,j!==null&&(R=j.dehydrated,R!==null)){if(g)r.flags&256?(Yi(r),r.flags&=-257,r=Yf(t,r,a)):r.memoizedState===null?(Zi(r),f=l.fallback,R=r.mode,l=Bc({mode:"visible",children:l.children},R),f=Va(f,R,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Go(r,t.child,null,a),l=r.child,l.memoizedState=Gf(a),l.childLanes=Jf(t,C,a),r.memoizedState=Qf,r=f):(Zi(r),r.child=t.child,r.flags|=128,r=null);else if(Yi(r),Lp(R)){if(C=R.nextSibling&&R.nextSibling.dataset,C)var Z=C.dgst;C=Z,l=Error(s(419)),l.stack="",l.digest=C,Hs({value:l,source:null,stack:null}),r=Yf(t,r,a)}else if(wn||Ws(t,r,a,!1),C=(a&t.childLanes)!==0,wn||C){if(C=Nt,C!==null&&(l=a&-a,l=l&42?1:Vn(l),l=(l&(C.suspendedLanes|a))===0?l:0,l!==0&&l!==j.retryLane))throw j.retryLane=l,qo(t,l),lr(C,t,l),t1;R.data==="$?"||gp(),r=Yf(t,r,a)}else R.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=j.treeContext,Wt=Fr(R.nextSibling),qn=r,mt=!0,Wa=null,Zr=!1,t!==null&&(vr[br++]=yi,vr[br++]=vi,vr[br++]=$a,yi=t.id,vi=t.overflow,$a=r),r=Xf(r,l.children),r.flags|=4096);return r}return f?(Zi(r),f=l.fallback,R=r.mode,j=t.child,Z=j.sibling,l=gi(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,Z===null?(f=Va(f,R,a,null),f.flags|=2):f=gi(Z,f),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,R=t.child.memoizedState,R===null?R=Gf(a):(j=R.cachePool,j===null?j=Zy():(Z=cn._currentValue,j=j.parent===Z?j:{parent:Z,pool:Z}),R={baseLanes:R.baseLanes|a,cachePool:j}),f.memoizedState=R,f.childLanes=Jf(t,C,a),r.memoizedState=Qf,l):(Yi(r),a=t.child,t=a.sibling,a=gi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(C=r.deletions,C===null?(r.deletions=[t],r.flags|=16):C.push(t)),r.child=a,r.memoizedState=null,a)}function Xf(t,r){return r=Bc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Bc(t,r){return t=ir(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Yf(t,r,a){return Go(r,t.child,null,a),t=Xf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function d1(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),gf(t.return,r,a)}function Zf(t,r,a,l,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=f)}function f1(t,r,a){var l=r.pendingProps,f=l.revealOrder,g=l.tail;if(Sn(t,r,l.children,a),l=un.current,l&2)l=l&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&d1(t,a,r);else if(t.tag===19)d1(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Re(un,l),f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&jc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Zf(r,!1,f,a,g);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&jc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Zf(r,!0,a,null,g);break;case"together":Zf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ci(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),ia|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Ws(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=gi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=gi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function ep(t,r){return(t.lanes&r)===0?(t=t.dependencies,!!(t!==null&&_c(t))):!0}function tE(t,r,a){switch(r.tag){case 3:sn(r,r.stateNode.containerInfo),Gi(r,cn,t.memoizedState.cache),$s();break;case 27:case 5:tn(r);break;case 4:sn(r,r.stateNode.containerInfo);break;case 10:Gi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated===null?(a&r.child.childLanes)===0?(Yi(r),t=Ci(t,r,a),t===null?null:t.sibling):u1(t,r,a):(Yi(r),r.flags|=128,null);Yi(r);break;case 19:var f=(t.flags&128)!=0;if(l=(a&r.childLanes)!==0,l||(l=(Ws(t,r,a,!1),(a&r.childLanes)!==0)),f){if(l)return f1(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Re(un,un.current),l)break;return null;case 22:case 23:return r.lanes=0,a1(t,r,a);case 24:Gi(r,cn,t.memoizedState.cache)}return Ci(t,r,a)}function p1(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)wn=!0;else{if(!ep(t,a)&&!(r.flags&128))return wn=!1,tE(t,r,a);wn=!!(t.flags&131072)}else wn=!1,mt&&r.flags&1048576&&Uy(r,wc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")cf(l)?(t=Za(l,t),r.tag=1,r=l1(null,r,l,t,a)):(r.tag=0,r=Kf(null,r,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===he){r.tag=11,r=n1(null,r,l,t,a);break e}else if(f===ue){r.tag=14,r=r1(null,r,l,t,a);break e}}throw r=ae(l)||l,Error(s(306,r,""))}}return r;case 0:return Kf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Za(l,r.pendingProps),l1(t,r,l,f,a);case 3:e:{if(sn(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var g=r.memoizedState;f=g.element,kf(t,r),Ys(r,l,null,a);var C=r.memoizedState;if(l=C.cache,Gi(r,cn,l),l!==g.cache&&yf(r,[cn],a,!0),Xs(),l=C.element,g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=c1(t,r,l,a);break e}else if(l!==f){f=gr(Error(s(424)),r),Hs(f),r=c1(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Wt=Fr(t.firstChild),qn=r,mt=!0,Wa=null,Zr=!0,a=Qv(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($s(),l===f){r=Ci(t,r,a);break e}Sn(t,r,l,a)}r=r.child}return r;case 26:return Fc(t,r),t===null?(a=vb(r.type,null,r.pendingProps,null))?r.memoizedState=a:mt||(a=r.type,t=r.pendingProps,l=tu(At.current).createElement(a),l[bt]=r,l[jt]=t,Tn(l,a,t),Ve(l),r.stateNode=l):r.memoizedState=vb(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return tn(r),t===null&&mt&&(l=r.stateNode=hb(r.type,r.pendingProps,At.current),qn=r,Zr=!0,f=Wt,la(r.type)?(Mp=f,Wt=Fr(l.firstChild)):Wt=f),Sn(t,r,r.pendingProps.children,a),Fc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&mt&&((f=l=Wt)&&(l=TE(l,r.type,r.pendingProps,Zr),l===null?f=!1:(r.stateNode=l,qn=r,Wt=Fr(l.firstChild),Zr=!1,f=!0)),f||Ua(r)),tn(r),f=r.type,g=r.pendingProps,C=t===null?null:t.memoizedProps,l=g.children,Dp(f,g)?l=null:C!==null&&Dp(f,C)&&(r.flags|=32),r.memoizedState!==null&&(f=Df(t,r,H3,null,null,a),wl._currentValue=f),Fc(t,r),Sn(t,r,l,a),r.child;case 6:return t===null&&mt&&((t=a=Wt)&&(a=RE(a,r.pendingProps,Zr),a===null?t=!1:(r.stateNode=a,qn=r,Wt=null,t=!0)),t||Ua(r)),null;case 13:return u1(t,r,a);case 4:return sn(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Go(r,null,l,a):Sn(t,r,l,a),r.child;case 11:return n1(t,r,r.type,r.pendingProps,a);case 7:return Sn(t,r,r.pendingProps,a),r.child;case 8:return Sn(t,r,r.pendingProps.children,a),r.child;case 12:return Sn(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Gi(r,r.type,l.value),Sn(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Qa(r),f=Ln(f),l=l(f),r.flags|=1,Sn(t,r,l,a),r.child;case 14:return r1(t,r,r.type,r.pendingProps,a);case 15:return i1(t,r,r.type,r.pendingProps,a);case 19:return f1(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Bc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=gi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return a1(t,r,a);case 24:return Qa(r),l=Ln(cn),t===null?(f=wf(),f===null&&(f=Nt,g=vf(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=a),f=g),r.memoizedState={parent:l,cache:f},xf(r),Gi(r,cn,f)):((t.lanes&a)!==0&&(kf(t,r),Ys(r,null,null,a),Xs()),f=t.memoizedState,g=r.memoizedState,f.parent===l?(l=g.cache,Gi(r,cn,l),l!==f.cache&&yf(r,[cn],a,!0)):(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Gi(r,cn,l))),Sn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Si(t){t.flags|=4}function m1(t,r){if(r.type!=="stylesheet"||r.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!kb(r)){if(r=wr.current,r!==null&&((ot&4194048)===ot?xi!==null:(ot&62914560)!==ot&&!(ot&536870912)||r!==xi))throw Gs=_f,ev;t.flags|=8192}}function Vc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag===22?536870912:Kr(),t.lanes|=r,Zo|=r)}function al(t,r){if(!mt)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Bt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function nE(t,r,a){var l=r.pendingProps;switch(pf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(r),null;case 1:return Bt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),wi(cn),Ue(),a.pendingContext&&(a.pendingContext=(a.context=a.pendingContext,null)),(t===null||t.child===null)&&(Vs(r)?Si(r):t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Gy())),Bt(r),null;case 26:return a=r.memoizedState,t===null?(Si(r),a===null?(Bt(r),r.flags&=-16777217):(Bt(r),m1(r,a))):a?a===t.memoizedState?(Bt(r),r.flags&=-16777217):(Si(r),Bt(r),m1(r,a)):(t.memoizedProps!==l&&Si(r),Bt(r),r.flags&=-16777217),null;case 27:gt(r),a=At.current;var f=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Si(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Bt(r),null}t=Pe.current,Vs(r)?Ky(r,t):(t=hb(f,l,a),r.stateNode=t,Si(r))}return Bt(r),null;case 5:if(gt(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Si(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Bt(r),null}if(t=Pe.current,Vs(r))Ky(r,t);else{switch(f=tu(At.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[bt]=r,t[jt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=t;e:switch(Tn(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Si(r)}}return Bt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Si(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=At.current,Vs(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=qn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[bt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||lb(t.nodeValue,a)),t||Ua(r)}else t=tu(t).createTextNode(l),t[bt]=r,r.stateNode=t}return Bt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Vs(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f===null?null:f.dehydrated,!f)throw Error(s(317));f[bt]=r}else $s(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Bt(r),f=!1}else f=Gy(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(ki(r),r):(ki(r),null)}if(ki(r),r.flags&128)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var g=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==f&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Vc(r,r.updateQueue),Bt(r),null;case 4:return Ue(),t===null&&ib(r.stateNode.containerInfo),Bt(r),null;case 10:return wi(r.type),Bt(r),null;case 19:if(We(un),f=r.memoizedState,f===null)return Bt(r),null;if(l=(r.flags&128)!=0,g=f.rendering,g===null)if(l)al(f,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(g=jc(t),g!==null){for(r.flags|=128,al(f,!1),t=g.updateQueue,r.updateQueue=t,Vc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Wy(a,t),a=a.sibling;return Re(un,un.current&1|2),r.child}t=t.sibling}f.tail!==null&&vn()>Wc&&(r.flags|=128,l=!0,al(f,!1),r.lanes=4194304)}else{if(!l)if(t=jc(g),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Vc(r,t),al(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!mt)return Bt(r),null}else 2*vn()-f.renderingStartTime>Wc&&a!==536870912&&(r.flags|=128,l=!0,al(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(t=f.last,t===null?r.child=g:t.sibling=g,f.last=g)}return f.tail===null?(Bt(r),null):(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=vn(),r.sibling=null,t=un.current,Re(un,l?t&1|2:t&1),r);case 22:case 23:return ki(r),Tf(),l=r.memoizedState!==null,t===null?l&&(r.flags|=8192):t.memoizedState!==null!==l&&(r.flags|=8192),l?a&536870912&&!(r.flags&128)&&(Bt(r),r.subtreeFlags&6&&(r.flags|=8192)):Bt(r),a=r.updateQueue,a!==null&&Vc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&We(Ga),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),wi(cn),Bt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function rE(t,r){switch(pf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return wi(cn),Ue(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return gt(r),null;case 13:if(ki(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));$s()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return We(un),null;case 4:return Ue(),null;case 10:return wi(r.type),null;case 22:case 23:return ki(r),Tf(),t!==null&&We(Ga),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return wi(cn),null;case 25:return null;default:return null}}function h1(t,r){switch(pf(r),r.tag){case 3:wi(cn),Ue();break;case 26:case 27:case 5:gt(r);break;case 4:Ue();break;case 13:ki(r);break;case 19:We(un);break;case 10:wi(r.type);break;case 22:case 23:ki(r),Tf(),t!==null&&We(Ga);break;case 24:wi(cn)}}function ol(t,r){try{var a=r.updateQueue,l=a===null?null:a.lastEffect;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var g=a.create,C=a.inst;l=g(),C.destroy=l}a=a.next}while(a!==f)}}catch(R){Lt(r,r.return,R)}}function ea(t,r,a){try{var l=r.updateQueue,f=l===null?null:l.lastEffect;if(f!==null){var g=f.next;l=g;do{if((l.tag&t)===t){var C=l.inst,R=C.destroy;if(R!==void 0){C.destroy=void 0,f=r;var j=a,Z=R;try{Z()}catch(de){Lt(f,j,de)}}}l=l.next}while(l!==g)}}catch(de){Lt(r,r.return,de)}}function g1(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{ov(r,a)}catch(l){Lt(t,t.return,l)}}}function y1(t,r,a){a.props=Za(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Lt(t,r,l)}}function sl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Lt(t,r,f)}}function ei(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Lt(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Lt(t,r,f)}else a.current=null}function v1(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Lt(t,t.return,f)}}function tp(t,r,a){try{var l=t.stateNode;xE(l,t.type,a,r),l[jt]=r}catch(f){Lt(t,t.return,f)}}function b1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&la(t.type)||t.tag===4}function np(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||b1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&la(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rp(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=eu));else if(l!==4&&(l===27&&la(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(rp(t,r,a),t=t.sibling;t!==null;)rp(t,r,a),t=t.sibling}function $c(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&la(t.type)&&(a=t.stateNode),t=t.child,t!==null))for($c(t,r,a),t=t.sibling;t!==null;)$c(t,r,a),t=t.sibling}function w1(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Tn(r,l,a),r[bt]=t,r[jt]=a}catch(g){Lt(t,t.return,g)}}var Ei=!1,Yt=!1,ip=!1,_1=typeof WeakSet=="function"?WeakSet:Set,_n=null;function iE(t,r){if(t=t.containerInfo,Tp=su,t=Iy(t),tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,g=l.focusNode;l=l.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var C=0,R=-1,j=-1,Z=0,de=0,ge=t,te=null;t:for(;;){for(var ie;ge!==a||f!==0&&ge.nodeType!==3||(R=C+f),ge!==g||l!==0&&ge.nodeType!==3||(j=C+l),ge.nodeType===3&&(C+=ge.nodeValue.length),(ie=ge.firstChild)!==null;)te=ge,ge=ie;for(;;){if(ge===t)break t;if(te===a&&++Z===f&&(R=C),te===g&&++de===l&&(j=C),(ie=ge.nextSibling)!==null)break;ge=te,te=ge.parentNode}ge=ie}a=R===-1||j===-1?null:{start:R,end:j}}else a=null}a||(a={start:0,end:0})}else a=null;for(Rp={focusedElem:t,selectionRange:a},su=!1,_n=r;_n!==null;)if(r=_n,t=r.child,r.subtreeFlags&1024&&t!==null)t.return=r,_n=t;else for(;_n!==null;){switch(r=_n,g=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&g!==null){t=void 0,a=r,f=g.memoizedProps,g=g.memoizedState,l=a.stateNode;try{var qe=Za(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(qe,g),l.__reactInternalSnapshotBeforeUpdate=t}catch(Le){Lt(a,a.return,Le)}}break;case 3:if(t&1024){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Pp(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,_n=t;break}_n=r.return}}function x1(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ta(t,a),l&4&&ol(5,a);break;case 1:if(ta(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(C){Lt(a,a.return,C)}else{var f=Za(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(C){Lt(a,a.return,C)}}l&64&&g1(a),l&512&&sl(a,a.return);break;case 3:if(ta(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ov(t,r)}catch(C){Lt(a,a.return,C)}}break;case 27:r===null&&l&4&&w1(a);case 26:case 5:ta(t,a),r===null&&l&4&&v1(a),l&512&&sl(a,a.return);break;case 12:ta(t,a);break;case 13:ta(t,a),l&4&&S1(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=pE.bind(null,a),DE(t,a))));break;case 22:if(l=a.memoizedState!==null||Ei,!l){r=r!==null&&r.memoizedState!==null||Yt,f=Ei;var g=Yt;Ei=l,(Yt=r)&&!g?na(t,a,(a.subtreeFlags&8772)!=0):ta(t,a),Ei=f,Yt=g}break;case 30:break;default:ta(t,a)}}function k1(t){var r=t.alternate;r!==null&&(t.alternate=null,k1(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&pt(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var zt=null,Wn=!1;function Ti(t,r,a){for(a=a.child;a!==null;)C1(t,r,a),a=a.sibling}function C1(t,r,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Vt,a)}catch{}switch(a.tag){case 26:Yt||ei(a,r),Ti(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Yt||ei(a,r);var l=zt,f=Wn;la(a.type)&&(zt=a.stateNode,Wn=!1),Ti(t,r,a),gl(a.stateNode),zt=l,Wn=f;break;case 5:Yt||ei(a,r);case 6:if(l=zt,f=Wn,zt=null,Ti(t,r,a),zt=l,Wn=f,zt!==null)if(Wn)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(a.stateNode)}catch(g){Lt(a,r,g)}else try{zt.removeChild(a.stateNode)}catch(g){Lt(a,r,g)}break;case 18:zt!==null&&(Wn?(t=zt,pb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cl(t)):pb(zt,a.stateNode));break;case 4:l=zt,f=Wn,zt=a.stateNode.containerInfo,Wn=!0,Ti(t,r,a),zt=l,Wn=f;break;case 0:case 11:case 14:case 15:Yt||ea(2,a,r),Yt||ea(4,a,r),Ti(t,r,a);break;case 1:Yt||(ei(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&y1(a,r,l)),Ti(t,r,a);break;case 21:Ti(t,r,a);break;case 22:Yt=(l=Yt)||a.memoizedState!==null,Ti(t,r,a),Yt=l;break;default:Ti(t,r,a)}}function S1(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){Lt(r,r.return,a)}}function aE(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new _1),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new _1),r;default:throw Error(s(435,t.tag))}}function ap(t,r){var a=aE(t);r.forEach(function(l){var f=mE.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function ar(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],g=t,C=r,R=C;e:for(;R!==null;){switch(R.tag){case 27:if(la(R.type)){zt=R.stateNode,Wn=!1;break e}break;case 5:zt=R.stateNode,Wn=!1;break e;case 3:case 4:zt=R.stateNode.containerInfo,Wn=!0;break e}R=R.return}if(zt===null)throw Error(s(160));C1(g,C,f),zt=null,Wn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)E1(r,t),r=r.sibling}var zr=null;function E1(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ar(r,t),or(t),l&4&&(ea(3,t,t.return),ol(3,t),ea(5,t,t.return));break;case 1:ar(r,t),or(t),l&512&&(Yt||a===null||ei(a,a.return)),l&64&&Ei&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=zr;if(ar(r,t),or(t),l&512&&(Yt||a===null||ei(a,a.return)),l&4){var g=a===null?null:a.memoizedState;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":g=f.getElementsByTagName("title")[0],(!g||g[ke]||g[bt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(l),f.head.insertBefore(g,f.querySelector("head > title"))),Tn(g,l,a),g[bt]=t,Ve(g),l=g;break e;case"link":var C=_b("link","href",f).get(l+(a.href||""));if(C){for(var R=0;R<C.length;R++)if(g=C[R],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){C.splice(R,1);break t}}g=f.createElement(l),Tn(g,l,a),f.head.appendChild(g);break;case"meta":if(C=_b("meta","content",f).get(l+(a.content||""))){for(R=0;R<C.length;R++)if(g=C[R],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){C.splice(R,1);break t}}g=f.createElement(l),Tn(g,l,a),f.head.appendChild(g);break;default:throw Error(s(468,l))}g[bt]=t,Ve(g),l=g}t.stateNode=l}else xb(f,t.type,t.stateNode);else t.stateNode=wb(f,l,t.memoizedProps);else g===l?l===null&&t.stateNode!==null&&tp(t,t.memoizedProps,a.memoizedProps):(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,l===null?xb(f,t.type,t.stateNode):wb(f,l,t.memoizedProps))}break;case 27:ar(r,t),or(t),l&512&&(Yt||a===null||ei(a,a.return)),a!==null&&l&4&&tp(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ar(r,t),or(t),l&512&&(Yt||a===null||ei(a,a.return)),t.flags&32){f=t.stateNode;try{Jr(f,"")}catch(ie){Lt(t,t.return,ie)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,tp(t,f,a===null?f:a.memoizedProps)),l&1024&&(ip=!0);break;case 6:if(ar(r,t),or(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ie){Lt(t,t.return,ie)}}break;case 3:if(iu=null,f=zr,zr=nu(r.containerInfo),ar(r,t),zr=f,or(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(r.containerInfo)}catch(ie){Lt(t,t.return,ie)}ip&&(ip=!1,T1(t));break;case 4:l=zr,zr=nu(t.stateNode.containerInfo),ar(r,t),or(t),zr=l;break;case 12:ar(r,t),or(t);break;case 13:ar(r,t),or(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dp=vn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ap(t,l)));break;case 22:f=t.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,Z=Ei,de=Yt;if(Ei=Z||f,Yt=de||j,ar(r,t),Yt=de,Ei=Z,or(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||j||Ei||Yt||eo(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){j=a=r;try{if(g=j.stateNode,f)C=g.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{R=j.stateNode;var ge=j.memoizedProps.style,te=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;R.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ie){Lt(j,j.return,ie)}}}else if(r.tag===6){if(a===null){j=r;try{j.stateNode.nodeValue=f?"":j.memoizedProps}catch(ie){Lt(j,j.return,ie)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ap(t,a))));break;case 19:ar(r,t),or(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ap(t,l)));break;case 30:break;case 21:break;default:ar(r,t),or(t)}}function or(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(b1(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode;$c(t,np(t),f);break;case 5:var g=a.stateNode;a.flags&32&&(Jr(g,""),a.flags&=-33),$c(t,np(t),g);break;case 3:case 4:var C=a.stateNode.containerInfo;rp(t,np(t),C);break;default:throw Error(s(161))}}catch(R){Lt(t,t.return,R)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function T1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;T1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ta(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)x1(t,r.alternate,r),r=r.sibling}function eo(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ea(4,r,r.return),eo(r);break;case 1:ei(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&y1(r,r.return,a),eo(r);break;case 27:gl(r.stateNode);case 26:case 5:ei(r,r.return),eo(r);break;case 22:r.memoizedState===null&&eo(r);break;case 30:eo(r);break;default:eo(r)}t=t.sibling}}function na(t,r,a){for(a&&(a=(r.subtreeFlags&8772)!=0),r=r.child;r!==null;){var l=r.alternate,f=t,g=r,C=g.flags;switch(g.tag){case 0:case 11:case 15:na(f,g,a),ol(4,g);break;case 1:if(na(f,g,a),l=g,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Z){Lt(l,l.return,Z)}if(l=g,f=l.updateQueue,f!==null){var R=l.stateNode;try{var j=f.shared.hiddenCallbacks;if(j!==null)for(f.shared.hiddenCallbacks=null,f=0;f<j.length;f++)av(j[f],R)}catch(Z){Lt(l,l.return,Z)}}a&&C&64&&g1(g),sl(g,g.return);break;case 27:w1(g);case 26:case 5:na(f,g,a),a&&l===null&&C&4&&v1(g),sl(g,g.return);break;case 12:na(f,g,a);break;case 13:na(f,g,a),a&&C&4&&S1(f,g);break;case 22:g.memoizedState===null&&na(f,g,a),sl(g,g.return);break;case 30:break;default:na(f,g,a)}r=r.sibling}}function op(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Us(a))}function sp(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Us(t))}function ti(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)R1(t,r,a,l),r=r.sibling}function R1(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ti(t,r,a,l),f&2048&&ol(9,r);break;case 1:ti(t,r,a,l);break;case 3:ti(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Us(t)));break;case 12:if(f&2048){ti(t,r,a,l),t=r.stateNode;try{var g=r.memoizedProps,C=g.id,R=g.onPostCommit;typeof R=="function"&&R(C,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){Lt(r,r.return,j)}}else ti(t,r,a,l);break;case 13:ti(t,r,a,l);break;case 23:break;case 22:g=r.stateNode,C=r.alternate,r.memoizedState===null?g._visibility&2?ti(t,r,a,l):(g._visibility|=2,Jo(t,r,a,l,(r.subtreeFlags&10256)!=0)):g._visibility&2?ti(t,r,a,l):ll(t,r),f&2048&&op(C,r);break;case 24:ti(t,r,a,l),f&2048&&sp(r.alternate,r);break;default:ti(t,r,a,l)}}function Jo(t,r,a,l,f){for(f&&(f=(r.subtreeFlags&10256)!=0),r=r.child;r!==null;){var g=t,C=r,R=a,j=l,Z=C.flags;switch(C.tag){case 0:case 11:case 15:Jo(g,C,R,j,f),ol(8,C);break;case 23:break;case 22:var de=C.stateNode;C.memoizedState===null?(de._visibility|=2,Jo(g,C,R,j,f)):de._visibility&2?Jo(g,C,R,j,f):ll(g,C),f&&Z&2048&&op(C.alternate,C);break;case 24:Jo(g,C,R,j,f),f&&Z&2048&&sp(C.alternate,C);break;default:Jo(g,C,R,j,f)}r=r.sibling}}function ll(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:ll(a,l),f&2048&&op(l.alternate,l);break;case 24:ll(a,l),f&2048&&sp(l.alternate,l);break;default:ll(a,l)}r=r.sibling}}var cl=8192;function Xo(t){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)D1(t),t=t.sibling}function D1(t){switch(t.tag){case 26:Xo(t),t.flags&cl&&t.memoizedState!==null&&VE(zr,t.memoizedState,t.memoizedProps);break;case 5:Xo(t);break;case 3:case 4:var r=zr;zr=nu(t.stateNode.containerInfo),Xo(t),zr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=cl,cl=16777216,Xo(t),cl=r):Xo(t));break;default:Xo(t)}}function O1(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function ul(t){var r=t.deletions;if(t.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];_n=l,L1(l,t)}O1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)P1(t),t=t.sibling}function P1(t){switch(t.tag){case 0:case 11:case 15:ul(t),t.flags&2048&&ea(9,t,t.return);break;case 3:ul(t);break;case 12:ul(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Hc(t)):ul(t);break;default:ul(t)}}function Hc(t){var r=t.deletions;if(t.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];_n=l,L1(l,t)}O1(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ea(8,r,r.return),Hc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Hc(r));break;default:Hc(r)}t=t.sibling}}function L1(t,r){for(;_n!==null;){var a=_n;switch(a.tag){case 0:case 11:case 15:ea(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Us(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,_n=l;else e:for(a=t;_n!==null;){l=_n;var f=l.sibling,g=l.return;if(k1(l),l===a){_n=null;break e}if(f!==null){f.return=g,_n=f;break e}_n=g}}}var oE={getCacheForType:function(t){var r=Ln(cn),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},sE=typeof WeakMap=="function"?WeakMap:Map,_t=0,Nt=null,nt=null,ot=0,xt=0,sr=null,ra=!1,Yo=!1,lp=!1,Ri=0,Ut=0,ia=0,to=0,cp=0,_r=0,Zo=0,dl=null,Un=null,up=!1,dp=0,Wc=1/0,Uc=null,aa=null,En=0,oa=null,es=null,ts=0,fp=0,pp=null,M1=null,fl=0,mp=null;function xr(){if(_t&2&&ot!==0)return ot&-ot;if(oe.T!==null){var t=Vo;return t===0?_p():t}return mi()}function N1(){_r===0&&(_r=!(ot&536870912)||mt?On():536870912);var t=wr.current;return t!==null&&(t.flags|=32),_r}function lr(t,r,a){(t===Nt&&(xt===2||xt===9)||t.cancelPendingCommit!==null)&&(ns(t,0),sa(t,ot,_r,!1)),Zn(t,a),(!(_t&2)||t!==Nt)&&(t===Nt&&(!(_t&2)&&(to|=a),Ut===4&&sa(t,ot,_r,!1)),Di(t))}function I1(t,r,a){if(_t&6)throw Error(s(327));var l=!a&&(r&124)==0&&(r&t.expiredLanes)===0||lt(t,r),f=l?uE(t,r):yp(t,r,!0),g=l;do{if(f===0){Yo&&!l&&sa(t,r,0,!1);break}else{if(a=t.current.alternate,g&&!lE(a)){f=yp(t,r,!1),g=!1;continue}if(f===2){if(g=r,t.errorRecoveryDisabledLanes&g)var C=0;else C=t.pendingLanes&-536870913,C=C===0?C&536870912?536870912:0:C;if(C!==0){r=C;e:{var R=t;f=dl;var j=R.current.memoizedState.isDehydrated;if(j&&(ns(R,C).flags|=256),C=yp(R,C,!1),C!==2){if(lp&&!j){R.errorRecoveryDisabledLanes|=g,to|=g,f=4;break e}g=Un,Un=f,g!==null&&(Un===null?Un=g:Un.push.apply(Un,g))}f=C}if(g=!1,f!==2)continue}}if(f===1){ns(t,0),sa(t,r,0,!0);break}e:{switch(l=t,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:sa(l,r,_r,!ra);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=dp+300-vn(),10<f)){if(sa(l,r,_r,!ra),$t(l,0,!0)!==0)break e;l.timeoutHandle=db(A1.bind(null,l,a,Un,Uc,up,r,_r,to,Zo,ra,g,2,-0,0),f);break e}A1(l,a,Un,Uc,up,r,_r,to,Zo,ra,g,0,-0,0)}}break}while(!0);Di(t)}function A1(t,r,a,l,f,g,C,R,j,Z,de,ge,te,ie){if(t.timeoutHandle=-1,ge=r.subtreeFlags,(ge&8192||(ge&16785408)==16785408)&&(bl={stylesheets:null,count:0,unsuspend:BE},D1(r),ge=$E(),ge!==null)){t.cancelPendingCommit=ge($1.bind(null,t,r,g,a,l,f,C,R,j,de,1,te,ie)),sa(t,g,C,!Z);return}$1(t,r,g,a,l,f,C,R,j)}function lE(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],g=f.getSnapshot;f=f.value;try{if(!rr(g(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function sa(t,r,a,l){r&=~cp,r&=~to,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var g=31-Ft(f),C=1<<g;l[g]=-1,f&=~C}a!==0&&pi(t,a,r)}function Kc(){return _t&6?!0:(pl(0,!1),!1)}function hp(){if(nt!==null){if(xt===0)var t=nt.return;else t=nt,bi=Ka=null,Lf(t),Qo=null,rl=0,t=nt;for(;t!==null;)h1(t.alternate,t),t=t.return;nt=null}}function ns(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,CE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hp(),Nt=t,nt=a=gi(t.current,null),ot=r,xt=0,sr=null,ra=!1,Yo=lt(t,r),lp=!1,Zo=_r=cp=to=ia=Ut=0,Un=dl=null,up=!1,r&8&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-Ft(l),g=1<<f;r|=t[f],l&=~g}return Ri=r,hc(),a}function j1(t,r){Ye=null,oe.H=Nc,r===Qs||r===Cc?(r=rv(),xt=3):r===ev?(r=rv(),xt=4):xt=r===t1?8:typeof r=="object"&&r&&typeof r.then=="function"?6:1,sr=r,nt===null&&(Ut=1,zc(t,gr(r,t.current)))}function q1(){var t=oe.H;return oe.H=Nc,t===null?Nc:t}function z1(){var t=oe.A;return oe.A=oE,t}function gp(){Ut=4,ra||(ot&4194048)!==ot&&wr.current!==null||(Yo=!0),!(ia&134217727)&&!(to&134217727)||Nt===null||sa(Nt,ot,_r,!1)}function yp(t,r,a){var l=_t;_t|=2;var f=q1(),g=z1();(Nt!==t||ot!==r)&&(Uc=null,ns(t,r)),r=!1;var C=Ut;e:do try{if(xt!==0&&nt!==null){var R=nt,j=sr;switch(xt){case 8:hp(),C=6;break e;case 3:case 2:case 9:case 6:wr.current===null&&(r=!0);var Z=xt;if(xt=0,sr=null,rs(t,R,j,Z),a&&Yo){C=0;break e}break;default:Z=xt,xt=0,sr=null,rs(t,R,j,Z)}}cE(),C=Ut;break}catch(de){j1(t,de)}while(!0);return r&&t.shellSuspendCounter++,bi=Ka=null,_t=l,oe.H=f,oe.A=g,nt===null&&(Nt=null,ot=0,hc()),C}function cE(){for(;nt!==null;)F1(nt)}function uE(t,r){var a=_t;_t|=2;var l=q1(),f=z1();Nt!==t||ot!==r?(Uc=null,Wc=vn()+500,ns(t,r)):Yo=lt(t,r);e:do try{if(xt!==0&&nt!==null){r=nt;var g=sr;t:switch(xt){case 1:xt=0,sr=null,rs(t,r,g,1);break;case 2:case 9:if(tv(g)){xt=0,sr=null,B1(r);break}r=function(){xt!==2&&xt!==9||Nt!==t||(xt=7),Di(t)},g.then(r,r);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:tv(g)?(xt=0,sr=null,B1(r)):(xt=0,sr=null,rs(t,r,g,7));break;case 5:var C=null;switch(nt.tag){case 26:C=nt.memoizedState;case 5:case 27:var R=nt;if(!C||kb(C)){xt=0,sr=null;var j=R.sibling;if(j!==null)nt=j;else{var Z=R.return;Z===null?nt=null:(nt=Z,Qc(Z))}break t}}xt=0,sr=null,rs(t,r,g,5);break;case 6:xt=0,sr=null,rs(t,r,g,6);break;case 8:hp(),Ut=6;break e;default:throw Error(s(462))}}dE();break}catch(de){j1(t,de)}while(!0);return bi=Ka=null,oe.H=l,oe.A=f,_t=a,nt===null?(Nt=null,ot=0,hc(),Ut):0}function dE(){for(;nt!==null&&!ui();)F1(nt)}function F1(t){var r=p1(t.alternate,t,Ri);t.memoizedProps=t.pendingProps,r===null?Qc(t):nt=r}function B1(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=s1(a,r,r.pendingProps,r.type,void 0,ot);break;case 11:r=s1(a,r,r.pendingProps,r.type.render,r.ref,ot);break;case 5:Lf(r);default:h1(a,r),r=nt=Wy(r,Ri),r=p1(a,r,Ri)}t.memoizedProps=t.pendingProps,r===null?Qc(t):nt=r}function rs(t,r,a,l){bi=Ka=null,Lf(r),Qo=null,rl=0;var f=r.return;try{if(eE(t,f,r,a,ot)){Ut=1,zc(t,gr(a,t.current)),nt=null;return}}catch(g){if(f!==null)throw nt=f,g;Ut=1,zc(t,gr(a,t.current)),nt=null;return}r.flags&32768?(mt||l===1?t=!0:Yo||ot&536870912?t=!1:(ra=t=!0,(l===2||l===9||l===3||l===6)&&(l=wr.current,l!==null&&l.tag===13&&(l.flags|=16384))),V1(r,t)):Qc(r)}function Qc(t){var r=t;do{if(r.flags&32768){V1(r,ra);return}t=r.return;var a=nE(r.alternate,r,Ri);if(a!==null){nt=a;return}if(r=r.sibling,r!==null){nt=r;return}nt=r=t}while(r!==null);Ut===0&&(Ut=5)}function V1(t,r){do{var a=rE(t.alternate,t);if(a!==null){a.flags&=32767,nt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){nt=t;return}nt=t=a}while(t!==null);Ut=6,nt=null}function $1(t,r,a,l,f,g,C,R,j){t.cancelPendingCommit=null;do Gc();while(En!==0);if(_t&6)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=sf,Qr(t,a,g,C,R,j),t===Nt&&(nt=Nt=null,ot=0),es=r,oa=t,ts=a,fp=g,pp=f,M1=l,r.subtreeFlags&10256||r.flags&10256?(t.callbackNode=null,t.callbackPriority=0,hE(nn,function(){return Q1(!0),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!=0,r.subtreeFlags&13878||l){l=oe.T,oe.T=null,f=$.p,$.p=2,C=_t,_t|=4;try{iE(t,r,a)}finally{_t=C,$.p=f,oe.T=l}}En=1,H1(),W1(),U1()}}function H1(){if(En===1){En=0;var t=oa,r=es,a=(r.flags&13878)!=0;if(r.subtreeFlags&13878||a){a=oe.T,oe.T=null;var l=$.p;$.p=2;var f=_t;_t|=4;try{E1(r,t);var g=Rp,C=Iy(t.containerInfo),R=g.focusedElem,j=g.selectionRange;if(C!==R&&R&&R.ownerDocument&&Ny(R.ownerDocument.documentElement,R)){if(j!==null&&tf(R)){var Z=j.start,de=j.end;if(de===void 0&&(de=Z),"selectionStart"in R)R.selectionStart=Z,R.selectionEnd=Math.min(de,R.value.length);else{var ge=R.ownerDocument||document,te=ge&&ge.defaultView||window;if(te.getSelection){var ie=te.getSelection(),qe=R.textContent.length,Le=Math.min(j.start,qe),Rt=j.end===void 0?Le:Math.min(j.end,qe);!ie.extend&&Le>Rt&&(C=Rt,Rt=Le,Le=C);var H=My(R,Le),z=My(R,Rt);if(H&&z&&(ie.rangeCount!==1||ie.anchorNode!==H.node||ie.anchorOffset!==H.offset||ie.focusNode!==z.node||ie.focusOffset!==z.offset)){var G=ge.createRange();G.setStart(H.node,H.offset),ie.removeAllRanges(),Le>Rt?(ie.addRange(G),ie.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),ie.addRange(G))}}}}for(ge=[],ie=R;ie=ie.parentNode;)ie.nodeType===1&&ge.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ge.length;R++){var fe=ge[R];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}su=!!Tp,Rp=Tp=null}finally{_t=f,$.p=l,oe.T=a}}t.current=r,En=2}}function W1(){if(En===2){En=0;var t=oa,r=es,a=(r.flags&8772)!=0;if(r.subtreeFlags&8772||a){a=oe.T,oe.T=null;var l=$.p;$.p=2;var f=_t;_t|=4;try{x1(t,r.alternate,r)}finally{_t=f,$.p=l,oe.T=a}}En=3}}function U1(){if(En===4||En===3){En=0,yn();var t=oa,r=es,a=ts,l=M1;r.subtreeFlags&10256||r.flags&10256?En=5:(En=0,es=oa=null,K1(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(aa=null),Gr(a),r=r.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Vt,r,void 0,(r.current.flags&128)==128)}catch{}if(l!==null){r=oe.T,f=$.p,$.p=2,oe.T=null;try{for(var g=t.onRecoverableError,C=0;C<l.length;C++){var R=l[C];g(R.value,{componentStack:R.stack})}}finally{oe.T=r,$.p=f}}ts&3&&Gc(),Di(t),f=t.pendingLanes,a&4194090&&f&42?t===mp?fl++:(fl=0,mp=t):fl=0,pl(0,!1)}}function K1(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Us(r)))}function Gc(t){return H1(),W1(),U1(),Q1(t)}function Q1(){if(En!==5)return!1;var t=oa,r=fp;fp=0;var a=Gr(ts),l=oe.T,f=$.p;try{$.p=32>a?32:a,oe.T=null,a=pp,pp=null;var g=oa,C=ts;if(En=0,es=oa=null,ts=0,_t&6)throw Error(s(331));var R=_t;if(_t|=4,P1(g.current),R1(g,g.current,C,a),_t=R,pl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Vt,g)}catch{}return!0}finally{$.p=f,oe.T=l,K1(t,r)}}function G1(t,r,a){r=gr(a,r),r=Uf(t.stateNode,r,2),t=Xa(t,r,2),t!==null&&(Zn(t,2),Di(t))}function Lt(t,r,a){if(t.tag===3)G1(t,t,a);else for(;r!==null;){if(r.tag===3){G1(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(aa===null||!aa.has(l))){t=gr(a,t),a=Zv(2),l=Xa(r,a,2),l!==null&&(e1(a,l,r,t),Zn(l,2),Di(l));break}}r=r.return}}function vp(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new sE;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(lp=!0,f.add(a),t=fE.bind(null,t,r,a),r.then(t,t))}function fE(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Nt===t&&(ot&a)===a&&(Ut===4||Ut===3&&(ot&62914560)===ot&&300>vn()-dp?!(_t&2)&&ns(t,0):cp|=a,Zo===ot&&(Zo=0)),Di(t)}function J1(t,r){r===0&&(r=Kr()),t=qo(t,r),t!==null&&(Zn(t,r),Di(t))}function pE(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),J1(t,a)}function mE(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),J1(t,a)}function hE(t,r){return Yn(t,r)}var Jc=null,is=null,bp=!1,Xc=!1,wp=!1,no=0;function Di(t){t!==is&&t.next===null&&(is===null?Jc=is=t:is=is.next=t),Xc=!0,bp||(bp=!0,yE())}function pl(t,r){if(!wp&&Xc){wp=!0;do for(var a=!1,l=Jc;l!==null;){if(!r)if(t!==0){var f=l.pendingLanes;if(f===0)var g=0;else{var C=l.suspendedLanes,R=l.pingedLanes;g=(1<<31-Ft(42|t)+1)-1,g&=f&~(C&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,eb(l,g))}else g=ot,g=$t(l,l===Nt?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),!(g&3)||lt(l,g)||(a=!0,eb(l,g));l=l.next}while(a);wp=!1}}function gE(){X1()}function X1(){Xc=bp=!1;var t=0;no!==0&&(kE()&&(t=no),no=0);for(var r=vn(),a=null,l=Jc;l!==null;){var f=l.next,g=Y1(l,r);g===0?(l.next=null,a===null?Jc=f:a.next=f,f===null&&(is=a)):(a=l,(t!==0||g&3)&&(Xc=!0)),l=f}pl(t,!1)}function Y1(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var C=31-Ft(g),R=1<<C,j=f[C];j===-1?((R&a)===0||(R&l)!==0)&&(f[C]=vt(R,r)):j<=r&&(t.expiredLanes|=R),g&=~R}if(r=Nt,a=ot,a=$t(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(xt===2||xt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&kt(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||lt(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&kt(l),Gr(a)){case 2:case 8:a=An;break;case 32:a=nn;break;case 268435456:a=Ur;break;default:a=nn}return l=Z1.bind(null,t),a=Yn(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&kt(l),t.callbackPriority=2,t.callbackNode=null,2}function Z1(t,r){if(En!==0&&En!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Gc(!0)&&t.callbackNode!==a)return null;var l=ot;return l=$t(t,t===Nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(I1(t,l,r),Y1(t,vn()),t.callbackNode!=null&&t.callbackNode===a?Z1.bind(null,t):null)}function eb(t,r){if(Gc())return null;I1(t,r,!0)}function yE(){SE(function(){_t&6?Yn(Mr,gE):X1()})}function _p(){return no===0&&(no=On()),no}function tb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pa(""+t)}function nb(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function vE(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var g=tb((f[jt]||null).action),C=l.submitter;C&&(r=(r=C[jt]||null)?tb(r.formAction):C.getAttribute("formAction"),r!==null&&(g=r,C=null));var R=new Ki("action","action",null,l,f);t.push({event:R,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(no!==0){var j=C?nb(f,C):new FormData(f);Bf(a,{pending:!0,data:j,method:f.method,action:g},null,j)}}else typeof g=="function"&&(R.preventDefault(),j=C?nb(f,C):new FormData(f),Bf(a,{pending:!0,data:j,method:f.method,action:g},g,j))},currentTarget:f}]})}}for(var xp=0;xp<of.length;xp++){var kp=of[xp];qr(kp.toLowerCase(),"on"+(kp[0].toUpperCase()+kp.slice(1)))}qr(qy,"onAnimationEnd"),qr(zy,"onAnimationIteration"),qr(Fy,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(N3,"onTransitionRun"),qr(I3,"onTransitionStart"),qr(A3,"onTransitionCancel"),qr(By,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),Ht("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ht("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ht("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ht("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function rb(t,r){r=(r&4)!=0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var g=void 0;if(r)for(var C=l.length-1;0<=C;C--){var R=l[C],j=R.instance,Z=R.currentTarget;if(R=R.listener,j!==g&&f.isPropagationStopped())break e;g=R,f.currentTarget=Z;try{g(f)}catch(de){qc(de)}f.currentTarget=null,g=j}else for(C=0;C<l.length;C++){if(R=l[C],j=R.instance,Z=R.currentTarget,R=R.listener,j!==g&&f.isPropagationStopped())break e;g=R,f.currentTarget=Z;try{g(f)}catch(de){qc(de)}f.currentTarget=null,g=j}}}}function rt(t,r){var a=r[Je];a===void 0&&(a=r[Je]=new Set);var l=t+"__bubble";a.has(l)||(ab(r,t,2,!1),a.add(l))}function Cp(t,r,a){var l=0;r&&(l|=4),ab(a,t,l,r)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function ib(t){if(!t[Yc]){t[Yc]=!0,at.forEach(function(a){a!=="selectionchange"&&(bE.has(a)||Cp(a,!1,t),Cp(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Yc]||(r[Yc]=!0,Cp("selectionchange",!1,r))}}function ab(t,r,a,l){switch(Tb(r)){case 2:var f=QE;break;case 8:f=GE;break;default:f=qp}a=f.bind(null,r,a,t),f=void 0,!Ms||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f===void 0?t.addEventListener(r,a,!0):t.addEventListener(r,a,{capture:!0,passive:f}):f===void 0?t.addEventListener(r,a,!1):t.addEventListener(r,a,{passive:f})}function Sp(t,r,a,l,f){var g=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var C=l.tag;if(C===3||C===4){var R=l.stateNode.containerInfo;if(R===f)break;if(C===4)for(C=l.return;C!==null;){var j=C.tag;if((j===3||j===4)&&C.stateNode.containerInfo===f)return;C=C.return}for(;R!==null;){if(C=tt(R),C===null)return;if(j=C.tag,j===5||j===6||j===26||j===27){l=g=C;continue e}R=R.parentNode}}l=l.return}fc(function(){var Z=g,de=No(a),ge=[];e:{var te=Vy.get(t);if(te!==void 0){var ie=Ki,qe=t;switch(t){case"keypress":if(Aa(a)===0)break e;case"keydown":case"keyup":ie=we;break;case"focusin":qe="focus",ie=O;break;case"focusout":qe="blur",ie=O;break;case"beforeblur":case"afterblur":ie=O;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=k;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=T;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Ce;break;case qy:case zy:case Fy:ie=L;break;case By:ie=Ie;break;case"scroll":case"scrollend":ie=u;break;case"wheel":ie=ct;break;case"copy":case"cut":case"paste":ie=A;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=je;break;case"toggle":case"beforetoggle":ie=Xe}var Le=(r&4)!=0,Rt=!Le&&(t==="scroll"||t==="scrollend"),H=Le?te===null?null:te+"Capture":te;Le=[];for(var z=Z,G;z!==null;){var fe=z;if(G=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||G===null||H===null||(fe=Ma(z,H),fe!=null&&Le.push(hl(z,fe,G))),Rt)break;z=z.return}0<Le.length&&(te=new ie(te,qe,null,a,de),ge.push({event:te,listeners:Le}))}}if(!(r&7)){e:{if(te=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",te&&a!==Ls&&(qe=a.relatedTarget||a.fromElement)&&(tt(qe)||qe[P]))break e;if((ie||te)&&(te=de.window===de?de:(te=de.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(qe=a.relatedTarget||a.toElement,ie=Z,qe=qe?tt(qe):null,qe!==null&&(Rt=d(qe),Le=qe.tag,qe!==Rt||Le!==5&&Le!==27&&Le!==6)&&(qe=null)):(ie=null,qe=Z),ie!==qe)){if(Le=k,fe="onMouseLeave",H="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(Le=je,fe="onPointerLeave",H="onPointerEnter",z="pointer"),Rt=ie==null?te:wt(ie),G=qe==null?te:wt(qe),te=new Le(fe,z+"leave",ie,a,de),te.target=Rt,te.relatedTarget=G,fe=null,tt(de)===Z&&(Le=new Le(H,z+"enter",qe,a,de),Le.target=G,Le.relatedTarget=Rt,fe=Le),Rt=fe,ie&&qe)t:{for(Le=ie,H=qe,z=0,G=Le;G;G=as(G))z++;for(G=0,fe=H;fe;fe=as(fe))G++;for(;0<z-G;)Le=as(Le),z--;for(;0<G-z;)H=as(H),G--;for(;z--;){if(Le===H||H!==null&&Le===H.alternate)break t;Le=as(Le),H=as(H)}Le=null}else Le=null;ie!==null&&ob(ge,te,ie,Le,!1),qe!==null&&Rt!==null&&ob(ge,Rt,qe,Le,!0)}}e:{if(te=Z?wt(Z):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var Ee=Ty;else if(Sy(te))if(Ry)Ee=P3;else{Ee=D3;var et=R3}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&Os(Z.elementType)&&(Ee=Ty):Ee=O3;if(Ee&&(Ee=Ee(t,Z))){Ey(ge,Ee,a,de);break e}et&&et(t,te,Z),t==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&Ds(te,"number",te.value)}switch(et=Z?wt(Z):window,t){case"focusin":(Sy(et)||et.contentEditable==="true")&&(Io=et,nf=Z,Bs=null);break;case"focusout":Bs=nf=Io=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,Ay(ge,a,de);break;case"selectionchange":if(M3)break;case"keydown":case"keyup":Ay(ge,a,de)}var Oe;if(Pt)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Qi?za(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Gt&&a.locale!=="ko"&&(Qi||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Qi&&(Oe=Is()):(Xr=de,Ns="value"in Xr?Xr.value:Xr.textContent,Qi=!0)),et=Zc(Z,Me),0<et.length&&(Me=new N(Me,t,null,a,de),ge.push({event:Me,listeners:et}),Oe?Me.data=Oe:(Oe=pc(a),Oe!==null&&(Me.data=Oe)))),(Oe=Ke?js(t,a):S3(t,a))&&(Me=Zc(Z,"onBeforeInput"),0<Me.length&&(et=new N("onBeforeInput","beforeinput",null,a,de),ge.push({event:et,listeners:Me}),et.data=Oe)),vE(ge,t,Z,a,de)}rb(ge,r)})}function hl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Zc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Ma(t,a),f!=null&&l.unshift(hl(t,f,g)),f=Ma(t,r),f!=null&&l.push(hl(t,f,g))),t.tag===3)return l;t=t.return}return[]}function as(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ob(t,r,a,l,f){for(var g=r._reactName,C=[];a!==null&&a!==l;){var R=a,j=R.alternate,Z=R.stateNode;if(R=R.tag,j!==null&&j===l)break;R!==5&&R!==26&&R!==27||Z===null||(j=Z,f?(Z=Ma(a,g),Z!=null&&C.unshift(hl(a,Z,j))):f||(Z=Ma(a,g),Z!=null&&C.push(hl(a,Z,j)))),a=a.return}C.length!==0&&t.push({event:r,listeners:C})}var wE=/\r\n?/g,_E=/\u0000|\uFFFD/g;function sb(t){return(typeof t=="string"?t:""+t).replace(wE,`
`).replace(_E,"")}function lb(t,r){return r=sb(r),sb(t)===r}function eu(){}function Tt(t,r,a,l,f,g){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Jr(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Jr(t,""+l);break;case"className":Lo(t,"class",l);break;case"tabIndex":Lo(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Lo(t,a,l);break;case"style":hi(t,l,g);break;case"data":if(r!=="object"){Lo(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Pa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(r!=="input"&&Tt(t,r,"name",f.name,f,null),Tt(t,r,"formEncType",f.formEncType,f,null),Tt(t,r,"formMethod",f.formMethod,f,null),Tt(t,r,"formTarget",f.formTarget,f,null)):(Tt(t,r,"encType",f.encType,f,null),Tt(t,r,"method",f.method,f,null),Tt(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Pa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=eu);break;case"onScroll":l!=null&&rt("scroll",t);break;case"onScrollEnd":l!=null&&rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Pa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":rt("beforetoggle",t),rt("toggle",t),Ta(t,"popover",l);break;case"xlinkActuate":mr(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mr(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mr(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mr(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mr(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mr(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mr(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ta(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ps.get(a)||a,Ta(t,a,l))}}function Ep(t,r,a,l,f,g){switch(a){case"style":hi(t,l,g);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Jr(t,l):(typeof l=="number"||typeof l=="bigint")&&Jr(t,""+l);break;case"onScroll":l!=null&&rt("scroll",t);break;case"onScrollEnd":l!=null&&rt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=eu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ht.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),g=t[jt]||null,g=g==null?null:g[a],typeof g=="function"&&t.removeEventListener(r,g,f),typeof l=="function")){typeof g!="function"&&g!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ta(t,a,l)}}}function Tn(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",t),rt("load",t);var l=!1,f=!1,g;for(g in a)if(a.hasOwnProperty(g)){var C=a[g];if(C!=null)switch(g){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Tt(t,r,g,C,a,null)}}f&&Tt(t,r,"srcSet",a.srcSet,a,null),l&&Tt(t,r,"src",a.src,a,null);return;case"input":rt("invalid",t);var R=g=C=f=null,j=null,Z=null;for(l in a)if(a.hasOwnProperty(l)){var de=a[l];if(de!=null)switch(l){case"name":f=de;break;case"type":C=de;break;case"checked":j=de;break;case"defaultChecked":Z=de;break;case"value":g=de;break;case"defaultValue":R=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(s(137,r));break;default:Tt(t,r,l,de,a,null)}}Oa(t,g,R,j,Z,C,f,!1),Ra(t);return;case"select":for(f in rt("invalid",t),l=C=g=null,a)if(a.hasOwnProperty(f)&&(R=a[f],R!=null))switch(f){case"value":g=R;break;case"defaultValue":C=R;break;case"multiple":l=R;default:Tt(t,r,f,R,a,null)}r=g,a=C,t.multiple=!!l,r==null?a!=null&&hr(t,!!l,a,!0):hr(t,!!l,r,!1);return;case"textarea":for(C in rt("invalid",t),g=f=l=null,a)if(a.hasOwnProperty(C)&&(R=a[C],R!=null))switch(C){case"value":l=R;break;case"defaultValue":f=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(91));break;default:Tt(t,r,C,R,a,null)}Wi(t,l,f,g),Ra(t);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Tt(t,r,j,l,a,null)}return;case"dialog":rt("beforetoggle",t),rt("toggle",t),rt("cancel",t),rt("close",t);break;case"iframe":case"object":rt("load",t);break;case"video":case"audio":for(l=0;l<ml.length;l++)rt(ml[l],t);break;case"image":rt("error",t),rt("load",t);break;case"details":rt("toggle",t);break;case"embed":case"source":case"link":rt("error",t),rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in a)if(a.hasOwnProperty(Z)&&(l=a[Z],l!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Tt(t,r,Z,l,a,null)}return;default:if(Os(r)){for(de in a)a.hasOwnProperty(de)&&(l=a[de],l!==void 0&&Ep(t,r,de,l,a,void 0));return}}for(R in a)a.hasOwnProperty(R)&&(l=a[R],l!=null&&Tt(t,r,R,l,a,null))}function xE(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,C=null,R=null,j=null,Z=null,de=null;for(ie in a){var ge=a[ie];if(a.hasOwnProperty(ie)&&ge!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":j=ge;default:l.hasOwnProperty(ie)||Tt(t,r,ie,null,l,ge)}}for(var te in l){var ie=l[te];if(ge=a[te],l.hasOwnProperty(te)&&(ie!=null||ge!=null))switch(te){case"type":g=ie;break;case"name":f=ie;break;case"checked":Z=ie;break;case"defaultChecked":de=ie;break;case"value":C=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:ie!==ge&&Tt(t,r,te,ie,l,ge)}}Rs(t,C,R,j,Z,de,g,f);return;case"select":for(g in ie=C=R=te=null,a)if(j=a[g],a.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":ie=j;default:l.hasOwnProperty(g)||Tt(t,r,g,null,l,j)}for(f in l)if(g=l[f],j=a[f],l.hasOwnProperty(f)&&(g!=null||j!=null))switch(f){case"value":te=g;break;case"defaultValue":R=g;break;case"multiple":C=g;default:g!==j&&Tt(t,r,f,g,l,j)}r=R,a=C,l=ie,te==null?!!l!=!!a&&(r==null?hr(t,!!a,a?[]:"",!1):hr(t,!!a,r,!0)):hr(t,!!a,te,!1);return;case"textarea":for(R in ie=te=null,a)if(f=a[R],a.hasOwnProperty(R)&&f!=null&&!l.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Tt(t,r,R,null,l,f)}for(C in l)if(f=l[C],g=a[C],l.hasOwnProperty(C)&&(f!=null||g!=null))switch(C){case"value":te=f;break;case"defaultValue":ie=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Tt(t,r,C,f,l,g)}cc(t,te,ie);return;case"option":for(var qe in a)if(te=a[qe],a.hasOwnProperty(qe)&&te!=null&&!l.hasOwnProperty(qe))switch(qe){case"selected":t.selected=!1;break;default:Tt(t,r,qe,null,l,te)}for(j in l)if(te=l[j],ie=a[j],l.hasOwnProperty(j)&&te!==ie&&(te!=null||ie!=null))switch(j){case"selected":t.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Tt(t,r,j,te,l,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in a)te=a[Le],a.hasOwnProperty(Le)&&te!=null&&!l.hasOwnProperty(Le)&&Tt(t,r,Le,null,l,te);for(Z in l)if(te=l[Z],ie=a[Z],l.hasOwnProperty(Z)&&te!==ie&&(te!=null||ie!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:Tt(t,r,Z,te,l,ie)}return;default:if(Os(r)){for(var Rt in a)te=a[Rt],a.hasOwnProperty(Rt)&&te!==void 0&&!l.hasOwnProperty(Rt)&&Ep(t,r,Rt,void 0,l,te);for(de in l)te=l[de],ie=a[de],!l.hasOwnProperty(de)||te===ie||te===void 0&&ie===void 0||Ep(t,r,de,te,l,ie);return}}for(var H in a)te=a[H],a.hasOwnProperty(H)&&te!=null&&!l.hasOwnProperty(H)&&Tt(t,r,H,null,l,te);for(ge in l)te=l[ge],ie=a[ge],!l.hasOwnProperty(ge)||te===ie||te==null&&ie==null||Tt(t,r,ge,te,l,ie)}var Tp=null,Rp=null;function tu(t){return t.nodeType===9?t:t.ownerDocument}function cb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ub(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Dp(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Op=null;function kE(){var t=window.event;return t&&t.type==="popstate"?t===Op?!1:(Op=t,!0):(Op=null,!1)}var db=typeof setTimeout=="function"?setTimeout:void 0,CE=typeof clearTimeout=="function"?clearTimeout:void 0,fb=typeof Promise=="function"?Promise:void 0,SE=typeof queueMicrotask=="function"?queueMicrotask:fb===void 0?db:function(t){return fb.resolve(null).then(t).catch(EE)};function EE(t){setTimeout(function(){throw t})}function la(t){return t==="head"}function pb(t,r){var a=r,l=0,f=0;do{var g=a.nextSibling;if(t.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<l&&8>l){a=l;var C=t.ownerDocument;if(a&1&&gl(C.documentElement),a&2&&gl(C.body),a&4)for(a=C.head,gl(a),C=a.firstChild;C;){var R=C.nextSibling,j=C.nodeName;C[ke]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&C.rel.toLowerCase()==="stylesheet"||a.removeChild(C),C=R}}if(f===0){t.removeChild(g),Cl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=g}while(a);Cl(r)}function Pp(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pp(a),pt(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function TE(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ke])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence")||g!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Fr(t.nextSibling),t===null)break}return null}function RE(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fr(t.nextSibling),t===null))return null;return t}function Lp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function DE(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Mp=null;function mb(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function hb(t,r,a){switch(r=tu(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function gl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);pt(t)}var kr=new Map,gb=new Set;function nu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oi=$.d;$.d={f:OE,r:PE,D:LE,C:ME,L:NE,m:IE,X:jE,S:AE,M:qE};function OE(){var t=Oi.f(),r=Kc();return t||r}function PE(t){var r=it(t);r!==null&&r.tag===5&&r.type==="form"?qv(r):Oi.r(t)}var os=typeof document>"u"?null:document;function yb(t,r,a){var l=os;if(l&&typeof r=="string"&&r){var f=$e(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),gb.has(f)||(gb.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Tn(r,"link",t),Ve(r),l.head.appendChild(r)))}}function LE(t){Oi.D(t),yb("dns-prefetch",t,null)}function ME(t,r){Oi.C(t,r),yb("preconnect",t,r)}function NE(t,r,a){Oi.L(t,r,a);var l=os;if(l&&t&&r){var f='link[rel="preload"][as="'+$e(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+$e(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+$e(a.imageSizes)+'"]')):f+='[href="'+$e(t)+'"]';var g=f;switch(r){case"style":g=ss(t);break;case"script":g=ls(t)}kr.has(g)||(t=w({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),kr.set(g,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(yl(g))||r==="script"&&l.querySelector(vl(g))||(r=l.createElement("link"),Tn(r,"link",t),Ve(r),l.head.appendChild(r)))}}function IE(t,r){Oi.m(t,r);var a=os;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+$e(l)+'"][href="'+$e(t)+'"]',g=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ls(t)}if(!kr.has(g)&&(t=w({rel:"modulepreload",href:t},r),kr.set(g,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(g)))return}l=a.createElement("link"),Tn(l,"link",t),Ve(l),a.head.appendChild(l)}}}function AE(t,r,a){Oi.S(t,r,a);var l=os;if(l&&t){var f=He(l).hoistableStyles,g=ss(t);r||(r="default");var C=f.get(g);if(!C){var R={loading:0,preload:null};if(C=l.querySelector(yl(g)))R.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":r},a),(a=kr.get(g))&&Np(t,a);var j=C=l.createElement("link");Ve(j),Tn(j,"link",t),j._p=new Promise(function(Z,de){j.onload=Z,j.onerror=de}),j.addEventListener("load",function(){R.loading|=1}),j.addEventListener("error",function(){R.loading|=2}),R.loading|=4,ru(C,r,l)}C={type:"stylesheet",instance:C,count:1,state:R},f.set(g,C)}}}function jE(t,r){Oi.X(t,r);var a=os;if(a&&t){var l=He(a).hoistableScripts,f=ls(t),g=l.get(f);g||(g=a.querySelector(vl(f)),g||(t=w({src:t,async:!0},r),(r=kr.get(f))&&Ip(t,r),g=a.createElement("script"),Ve(g),Tn(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(f,g))}}function qE(t,r){Oi.M(t,r);var a=os;if(a&&t){var l=He(a).hoistableScripts,f=ls(t),g=l.get(f);g||(g=a.querySelector(vl(f)),g||(t=w({src:t,async:!0,type:"module"},r),(r=kr.get(f))&&Ip(t,r),g=a.createElement("script"),Ve(g),Tn(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(f,g))}}function vb(t,r,a,l){var f=(f=At.current)?nu(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ss(a.href),a=He(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ss(a.href);var g=He(f).hoistableStyles,C=g.get(t);if(C||(f=f.ownerDocument||f,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,C),(g=f.querySelector(yl(t)))&&!g._p&&(C.instance=g,C.state.loading=5),kr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kr.set(t,a),g||zE(f,t,a,C.state))),r&&l===null)throw Error(s(528,""));return C}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ls(a),a=He(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ss(t){return'href="'+$e(t)+'"'}function yl(t){return'link[rel="stylesheet"]['+t+"]"}function bb(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function zE(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Tn(r,"link",a),Ve(r),t.head.appendChild(r))}function ls(t){return'[src="'+$e(t)+'"]'}function vl(t){return"script[async]"+t}function wb(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+$e(a.href)+'"]');if(l)return r.instance=l,Ve(l),l;var f=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ve(l),Tn(l,"style",f),ru(l,a.precedence,t),r.instance=l;case"stylesheet":f=ss(a.href);var g=t.querySelector(yl(f));if(g)return r.state.loading|=4,r.instance=g,Ve(g),g;l=bb(a),(f=kr.get(f))&&Np(l,f),g=(t.ownerDocument||t).createElement("link"),Ve(g);var C=g;return C._p=new Promise(function(R,j){C.onload=R,C.onerror=j}),Tn(g,"link",l),r.state.loading|=4,ru(g,a.precedence,t),r.instance=g;case"script":return g=ls(a.src),(f=t.querySelector(vl(g)))?(r.instance=f,Ve(f),f):(l=a,(f=kr.get(g))&&(l=w({},a),Ip(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ve(f),Tn(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(l=r.instance,r.state.loading|=4,ru(l,a.precedence,t));return r.instance}function ru(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,g=f,C=0;C<l.length;C++){var R=l[C];if(R.dataset.precedence===r)g=R;else if(g!==f)break}g?g.parentNode.insertBefore(t,g.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Np(t,r){t.crossOrigin??(t.crossOrigin=r.crossOrigin),t.referrerPolicy??(t.referrerPolicy=r.referrerPolicy),t.title??(t.title=r.title)}function Ip(t,r){t.crossOrigin??(t.crossOrigin=r.crossOrigin),t.referrerPolicy??(t.referrerPolicy=r.referrerPolicy),t.integrity??(t.integrity=r.integrity)}var iu=null;function _b(t,r,a){if(iu===null){var l=new Map,f=iu=new Map;f.set(a,l)}else f=iu,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var g=a[f];if(!(g[ke]||g[bt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var C=g.getAttribute(r)||"";C=t+C;var R=l.get(C);R?R.push(g):l.set(C,[g])}}return l}function xb(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function FE(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function kb(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var bl=null;function BE(){}function VE(t,r,a){if(bl===null)throw Error(s(475));var l=bl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var f=ss(a.href),g=t.querySelector(yl(f));if(g){t=g._p,typeof t=="object"&&t&&typeof t.then=="function"&&(l.count++,l=au.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=g,Ve(g);return}g=t.ownerDocument||t,a=bb(a),(f=kr.get(f))&&Np(a,f),g=g.createElement("link"),Ve(g);var C=g;C._p=new Promise(function(R,j){C.onload=R,C.onerror=j}),Tn(g,"link",a),r.instance=g}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(l.count++,r=au.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function $E(){if(bl===null)throw Error(s(475));var t=bl;return t.stylesheets&&t.count===0&&Ap(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Ap(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function au(){if(this.count--,this.count===0){if(this.stylesheets)Ap(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ou=null;function Ap(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ou=new Map,r.forEach(HE,t),ou=null,au.call(t))}function HE(t,r){if(!(r.state.loading&4)){var a=ou.get(t);if(a)var l=a.get(null);else{a=new Map,ou.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var C=f[g];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(a.set(C.dataset.precedence,C),l=C)}l&&a.set(null,l)}f=r.instance,C=f.getAttribute("data-precedence"),g=a.get(C)||l,g===l&&a.set(null,f),a.set(C,f),this.count++,l=au.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),g?g.parentNode.insertBefore(f,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var wl={$$typeof:ce,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function WE(t,r,a,l,f,g,C,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=St(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.hiddenUpdates=St(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function UE(t,r,a,l,f,g,C,R,j,Z,de,ge){return t=new WE(t,r,a,C,R,j,Z,ge),r=1,g===!0&&(r|=24),g=ir(3,null,null,r),t.current=g,g.stateNode=t,r=vf(),r.refCount++,t.pooledCache=r,r.refCount++,g.memoizedState={element:l,isDehydrated:a,cache:r},xf(g),t}function KE(t){return t?(t=zo,t):zo}function Cb(t,r,a,l,f,g){f=KE(f),l.context===null?l.context=f:l.pendingContext=f,l=Ja(r),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=Xa(t,l,r),a!==null&&(lr(a,t,r),Js(a,t,r))}function Sb(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function jp(t,r){Sb(t,r),(t=t.alternate)&&Sb(t,r)}function Eb(t){if(t.tag===13){var r=qo(t,67108864);r!==null&&lr(r,t,67108864),jp(t,67108864)}}var su=!0;function QE(t,r,a,l){var f=oe.T;oe.T=null;var g=$.p;try{$.p=2,qp(t,r,a,l)}finally{$.p=g,oe.T=f}}function GE(t,r,a,l){var f=oe.T;oe.T=null;var g=$.p;try{$.p=8,qp(t,r,a,l)}finally{$.p=g,oe.T=f}}function qp(t,r,a,l){if(su){var f=zp(l);if(f===null)Sp(t,r,l,lu,a),Rb(t,l);else if(XE(f,t,r,a,l))l.stopPropagation();else if(Rb(t,l),r&4&&-1<JE.indexOf(t)){for(;f!==null;){var g=it(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var C=Ge(g.pendingLanes);if(C!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;C;){var j=1<<31-Ft(C);R.entanglements[1]|=j,C&=~j}Di(g),!(_t&6)&&(Wc=vn()+500,pl(0,!1))}}break;case 13:R=qo(g,2),R!==null&&lr(R,g,2),Kc(),jp(g,2)}if(g=zp(l),g===null&&Sp(t,r,l,lu,a),g===f)break;f=g}f!==null&&l.stopPropagation()}else Sp(t,r,l,null,a)}}function zp(t){return t=No(t),Fp(t)}var lu=null;function Fp(t){if(lu=null,t=tt(t),t!==null){var r=d(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=p(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return lu=t,null}function Tb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(In()){case Mr:return 2;case An:return 8;case nn:case $i:return 32;case Ur:return 268435456;default:return 32}default:return 32}}var Bp=!1,ca=null,ua=null,da=null,_l=new Map,xl=new Map,fa=[],JE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rb(t,r){switch(t){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":_l.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(r.pointerId)}}function kl(t,r,a,l,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:g,targetContainers:[f]},r!==null&&(r=it(r),r!==null&&Eb(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function XE(t,r,a,l,f){switch(r){case"focusin":return ca=kl(ca,t,r,a,l,f),!0;case"dragenter":return ua=kl(ua,t,r,a,l,f),!0;case"mouseover":return da=kl(da,t,r,a,l,f),!0;case"pointerover":var g=f.pointerId;return _l.set(g,kl(_l.get(g)||null,t,r,a,l,f)),!0;case"gotpointercapture":return g=f.pointerId,xl.set(g,kl(xl.get(g)||null,t,r,a,l,f)),!0}return!1}function Db(t){var r=tt(t.target);if(r!==null){var a=d(r);if(a!==null){if(r=a.tag,r===13){if(r=p(a),r!==null){t.blockedOn=r,er(t.priority,function(){if(a.tag===13){var l=xr();l=Vn(l);var f=qo(a,l);f!==null&&lr(f,a,l),jp(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=zp(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ls=l,a.target.dispatchEvent(l),Ls=null}else return r=it(a),r!==null&&Eb(r),t.blockedOn=a,!1;r.shift()}return!0}function Ob(t,r,a){cu(t)&&a.delete(r)}function YE(){Bp=!1,ca!==null&&cu(ca)&&(ca=null),ua!==null&&cu(ua)&&(ua=null),da!==null&&cu(da)&&(da=null),_l.forEach(Ob),xl.forEach(Ob)}function uu(t,r){t.blockedOn===r&&(t.blockedOn=null,Bp||(Bp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,YE)))}var du=null;function Pb(t){du!==t&&(du=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){du===t&&(du=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Fp(l||a)===null)continue;break}var g=it(a);g!==null&&(t.splice(r,3),r-=3,Bf(g,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Cl(t){function r(j){return uu(j,t)}ca!==null&&uu(ca,t),ua!==null&&uu(ua,t),da!==null&&uu(da,t),_l.forEach(r),xl.forEach(r);for(var a=0;a<fa.length;a++){var l=fa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<fa.length&&(a=fa[0],a.blockedOn===null);)Db(a),a.blockedOn===null&&fa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],g=a[l+1],C=f[jt]||null;if(typeof g=="function")C||Pb(a);else if(C){var R=null;if(g&&g.hasAttribute("formAction")){if(f=g,C=g[jt]||null)R=C.formAction;else if(Fp(f)!==null)continue}else R=C.action;typeof R=="function"?a[l+1]=R:(a.splice(l,3),l-=3),Pb(a)}}}function Vp(t){this._internalRoot=t}$p.prototype.render=Vp.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current;Cb(a,xr(),t,r,null,null)},$p.prototype.unmount=Vp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Cb(t.current,2,null,t,null,null),Kc(),r[P]=null}};function $p(t){this._internalRoot=t}$p.prototype.unstable_scheduleHydration=function(t){if(t){var r=mi();t={blockedOn:null,target:t,priority:r};for(var a=0;a<fa.length&&r!==0&&r<fa[a].priority;a++);fa.splice(a,0,t),a===0&&Db(t)}};var Lb=i.version;if(Lb!=="19.1.1")throw Error(s(527,Lb,"19.1.1"));$.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=b(r),t=t===null?null:x(t),t=t===null?null:t.stateNode,t};var ZE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:oe,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{Vt=fu.inject(ZE),Kt=fu}catch{}}e.createRoot=function(t,r){if(!c(t))throw Error(s(299));var a=!1,l="",f=X3,g=Y3,C=Z3,R=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks)),r=UE(t,1,!1,null,null,a,l,f,g,C,R,null),t[P]=r.current,ib(t),new Vp(r)}})),Mu=Te(((e,n)=>{function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(o){console.error(o)}}i(),n.exports=va()})),Km="Expected a function";function r_(e,n){var i;if(typeof n!="function")throw TypeError(Km);return e=mT(e),function(){return--e>0&&(i=n.apply(this,arguments)),e<=1&&(n=void 0),i}}var i_=r_;function a_(e){return i_(2,e)}let Qm;rm=a_,Qm=Math.max;function o_(e){if(!(e&&e.length))return[];var n=0;return e=yT(e,function(i){if(gT(i))return n=Qm(i.length,n),!0}),fT(n,function(i){return pT(e,vT(i))})}var s_=hT(o_);Wm=function(e,n){if(e==null)throw Error(n||`Expected value but got ${e}`)},BigInt.prototype.toJSON=function(){return JSON.rawJSON(this.toString())},mm=function(e){try{return JSON.parse(e,(n,i)=>nd(i))}catch{}if(e==null||e==="")return{};try{return e??(e=""),e=e.replaceAll(new RegExp(`(?<=\\s|^|\\[|,|:)(NaN|-Infinity|Infinity)(?=(?:[^"'\\\\]*(\\\\.|'([^'\\\\]*\\\\.)*[^'\\\\]*'|"([^"\\\\]*\\\\.)*[^"\\\\]*"))*[^"']*$)`,"g"),'"\u25D0$1\u25D0"'),JSON.parse(e,(n,i)=>typeof i=="string"?i==="\u25D0NaN\u25D0"?NaN:i==="\u25D0Infinity\u25D0"?1/0:i==="\u25D0-Infinity\u25D0"?-1/0:nd(i):nd(i))}catch{return{}}},W2=function(e){if(e.length===0)return"";let n=Object.keys(e[0]),i=e.map(o=>n.map(s=>o[s]).join("	"));return`${n.join("	")}
${i.join(`
`)}`};function nd(e){return typeof e=="object"&&e&&"$bigint"in e&&typeof e.$bigint=="string"?BigInt(e.$bigint):e}var Gm="abcdefghijklmnopqrstuvwxyz",Jm=Gm+Gm.toUpperCase(),Xm=new Set;ha={create(){let e=0,n;do{let i="";for(let o=0;o<4;o++)i+=Jm[Math.floor(Math.random()*Jm.length)];n=i,e++}while(Xm.has(n)&&e<100);if(e>=100)throw Error("Failed to generate unique CellId after 100 attempts");return Xm.add(n),n}},ur={create(e){return kn(e!=null,"cellId is required"),`cell-${e}`},parse(e){return e.slice(5)},findElement(e){return e.closest('div[id^="cell-"]')},findElementThroughShadowDOMs(e){let n=e;for(;n;){let i=ur.findElement(n);if(i)return i;let o=n.getRootNode();if(n=o instanceof ShadowRoot?o.host:n.parentElement,n===o)break}return null}},D2=function(e){let n=null,i=ur.findElement(e);return i&&(n=ur.parse(i.id)),n},Tu={parse(e){return e.getAttribute("object-id")},parseOrThrow(e){let n=Tu.parse(e);return kn(n,"<marimo-ui-element/> missing object-id attribute"),n}},z2={create(e){return`output-${e}`}},Mm=new class{getFilename(){return this.getSearchParam("filename")}setFilename(e){this.setSearchParam("filename",e)}getCodeFromSearchParam(){return this.getSearchParam("code")}getCodeFromHash(){let e=window.location.hash;return e.startsWith("#code/")?e.slice(6):null}setCodeForHash(e){window.location.hash=`#code/${e}`}setSearchParam(e,n){let i=new URL(window.location.href);i.searchParams.set(e,n),window.history.replaceState({},"",i.toString())}getSearchParam(e){return new URL(window.location.href).searchParams.get(e)}},Pu=function(e){return mm(e??"")},Rw=function(e){return ni.mapValues(e.dataset,n=>typeof n=="string"?Pu(n):n)},y2=function(e,n){let i=e.parentElement?Tu.parse(e.parentElement):void 0;return i&&n.has(i)?n.lookupValue(i):Pu(e.dataset.initialValue)},Pl=function(){if(xT())return document.title||null;if(kT()){let i=Mm.getFilename();if(i)return i}let e=document.querySelector("marimo-filename");Wm(e,"marimo-filename tag not found");let n=e.innerHTML;return n.length===0?null:n};var l_=Symbol("");J2=function(e,n){return Be(e,function(i,o,s){o(this,n(i(this),s))})};function rd(e,n){let i=null,o=new Map,s=new Set,c=p=>{let h;if(n===void 0)h=o.get(p);else for(let[x,w]of o)if(n(x,p)){h=w;break}if(h!==void 0)if(i!=null&&i(h[1],p))c.remove(p);else return h[0];let b=e(p);return o.set(p,[b,Date.now()]),d("CREATE",p,b),b},d=(p,h,b)=>{for(let x of s)x({type:p,param:h,atom:b})};return c.unstable_listen=p=>(s.add(p),()=>{s.delete(p)}),c.getParams=()=>o.keys(),c.remove=p=>{if(n===void 0){if(!o.has(p))return;let[h]=o.get(p);o.delete(p),d("REMOVE",p,h)}else for(let[h,[b]]of o)if(n(h,p)){o.delete(h),d("REMOVE",h,b);break}},c.setShouldRemove=p=>{if(i=p,i)for(let[h,[b,x]]of o)i(x,h)&&(o.delete(h),d("REMOVE",h,b))},c}var id=(e,n,i)=>(n.has(i)?n:n.set(i,e())).get(i),c_=new WeakMap,u_=(e,n,i,o)=>id(e,id(()=>new WeakMap,id(()=>new WeakMap,c_,n),i),o);function d_(e,n,i=Object.is){return u_(()=>{let o=Symbol(),s=([d,p])=>{if(p===o)return n(d);let h=n(d,p);return i(p,h)?p:h},c=Be(d=>{let p=d(c);return s([d(e),p])});return c.init=o,c},e,n,i)}var Ym=(e,n,i)=>(n.has(i)?n:n.set(i,e())).get(i),f_=new WeakMap,p_=(e,n,i)=>Ym(e,Ym(()=>new WeakMap,f_,n),i),m_={},Zm=e=>!!e.write,h_=e=>typeof e=="function";function g_(e,n){return p_(()=>{let i=new WeakMap,o=(d,p)=>{let h=i.get(d);if(h)return h;let b=p&&i.get(p),x=[],w=[];return d.forEach((S,E)=>{let D=n?n(S):E;w[E]=D;let M=b&&b.atomList[b.keyList.indexOf(D)];if(M){x[E]=M;return}let F=J=>{let K=J(s),V=J(e),ce=o(V,K==null?void 0:K.arr).keyList.indexOf(D);if(ce<0||ce>=V.length){let he=d[o(d).keyList.indexOf(D)];if(he)return he;throw Error("splitAtom: index out of bounds for read")}return V[ce]};x[E]=Zm(e)?Be(F,(J,K,V)=>{let ce=J(s),he=J(e),B=o(he,ce==null?void 0:ce.arr).keyList.indexOf(D);if(B<0||B>=he.length)throw Error("splitAtom: index out of bounds for write");let W=h_(V)?V(he[B]):V;Object.is(he[B],W)||K(e,[...he.slice(0,B),W,...he.slice(B+1)])}):Be(F)}),h=b&&b.keyList.length===w.length&&b.keyList.every((S,E)=>S===w[E])?b:{arr:d,atomList:x,keyList:w},i.set(d,h),h},s=Be(d=>{let p=d(s);return o(d(e),p==null?void 0:p.arr)});s.init=void 0;let c=Zm(e)?Be(d=>d(s).atomList,(d,p,h)=>{switch(h.type){case"remove":{let b=d(c).indexOf(h.atom);if(b>=0){let x=d(e);p(e,[...x.slice(0,b),...x.slice(b+1)])}break}case"insert":{let b=h.before?d(c).indexOf(h.before):d(c).length;if(b>=0){let x=d(e);p(e,[...x.slice(0,b),h.value,...x.slice(b)])}break}case"move":{let b=d(c).indexOf(h.atom),x=h.before?d(c).indexOf(h.before):d(c).length;if(b>=0&&x>=0){let w=d(e);b<x?p(e,[...w.slice(0,b),...w.slice(b+1,x),w[b],...w.slice(x)]):p(e,[...w.slice(0,x),w[b],...w.slice(x,b),...w.slice(b+1)])}break}}}):Be(d=>d(s).atomList);return c},e,n||m_)}var eh=e=>typeof(e==null?void 0:e.then)=="function";function y_(e=()=>{try{return window.localStorage}catch{return}},n){var p;let i,o,s={getItem:(h,b)=>{var S;let x=E=>{if(E||(E=""),i!==E){try{o=JSON.parse(E,n==null?void 0:n.reviver)}catch{return b}i=E}return o},w=((S=e())==null?void 0:S.getItem(h))??null;return eh(w)?w.then(x):x(w)},setItem:(h,b)=>{var x;return(x=e())==null?void 0:x.setItem(h,JSON.stringify(b,n==null?void 0:n.replacer))},removeItem:h=>{var b;return(b=e())==null?void 0:b.removeItem(h)}},c=h=>(b,x,w)=>h(b,S=>{let E;try{E=JSON.parse(S||"")}catch{E=w}x(E)}),d;try{d=(p=e())==null?void 0:p.subscribe}catch{}return!d&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(d=(h,b)=>{if(!(e()instanceof window.Storage))return()=>{};let x=w=>{w.storageArea===e()&&w.key===h&&b(w.newValue)};return window.addEventListener("storage",x),()=>{window.removeEventListener("storage",x)}}),d&&(s.subscribe=c(d)),s}var v_=y_();Eu=function(e,n,i=v_,o){let s=Be(o!=null&&o.getOnInit?i.getItem(e,n):n);return s.onMount=c=>{c(i.getItem(e,n));let d;return i.subscribe&&(d=i.subscribe(e,c,n)),d},Be(c=>c(s),(c,d,p)=>{let h=typeof p=="function"?p(c(s)):p;return h===l_?(d(s,n),i.removeItem(e)):eh(h)?h.then(b=>(d(s,b),i.setItem(e,b))):(d(s,h),i.setItem(e,h))})},Fn=function(e){let n,i,o;return typeof e=="object"?(n=e.hashFunction,i=e.expiring,o=e.tags):n=e,(s,c,d)=>{if(d.value!=null)d.value=th(d.value,n,i,o);else if(d.get!=null)d.get=th(d.get,n,i,o);else throw"Only put a Memoize() decorator on a method or get accessor."}};var ad=new Map;function th(e,n,i=0,o){let s=Symbol("__memoized_map__");return function(...c){let d;this.hasOwnProperty(s)||Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!1,value:new Map});let p=this[s];if(Array.isArray(o))for(let h of o)ad.has(h)?ad.get(h).push(p):ad.set(h,[p]);if(n||c.length>0||i>0){let h;h=n===!0?c.map(w=>w.toString()).join("!"):n?n.apply(this,c):c[0];let b=`${h}__timestamp`,x=!1;if(i>0)if(!p.has(b))x=!0;else{let w=p.get(b);x=Date.now()-w>i}p.has(h)&&!x?d=p.get(h):(d=e.apply(this,c),p.set(h,d),i>0&&p.set(b,Date.now()))}else{let h=this;p.has(h)?d=p.get(h):(d=e.apply(this,c),p.set(h,d))}return d}}fs=Be(Pl()),K2=Be(void 0);let Ii;fw=class{constructor(e){this.defaultValue=e}get(e){try{let n=window.localStorage.getItem(e);return n?JSON.parse(n):this.defaultValue}catch{return this.defaultValue}}set(e,n){window.localStorage.setItem(e,JSON.stringify(n))}remove(e){window.localStorage.removeItem(e)}},Xu=class{constructor(e,n){this.schema=e,this.getDefaultValue=n}get(e){try{let n=window.localStorage.getItem(e);if(n==null)return this.getDefaultValue();let i=this.schema.safeParse(JSON.parse(n));return i.success?i.data:(Ae.warn("Error parsing zod local storage",i.error),this.getDefaultValue())}catch(n){return Ae.warn("Error getting zod local storage",n),this.getDefaultValue()}}set(e,n){window.localStorage.setItem(e,JSON.stringify(n))}remove(e){window.localStorage.removeItem(e)}},Hm=class extends Xu{constructor(e,n,i){let o=st.get(fs);super(n,i),this.filename=o;try{this.unsubscribeFromFilename=st.sub(fs,()=>{let s=st.get(fs);this.handleFilenameChange(e,s)})}catch{this.unsubscribeFromFilename=null}}get(e){return super.get(this.createScopedKey(e,this.filename))}set(e,n){super.set(this.createScopedKey(e,this.filename),n)}remove(e){super.remove(this.createScopedKey(e,this.filename))}createScopedKey(e,n){return n?`${e}:${n}`:e}handleFilenameChange(e,n){if(n&&n!==this.filename){let i=this.get(e);this.remove(e),this.filename=n,this.set(e,i)}}dispose(){this.unsubscribeFromFilename&&(this.unsubscribeFromFilename=(this.unsubscribeFromFilename(),null))}},Ii="marimo:notebook-col-sizes";function b_(){return{widths:[]}}var ho=new Hm(Ii,qb({widths:cT(lT([sT(),oT("contentWidth")]).default("contentWidth"))}),b_);$w={getColumnWidth:e=>ho.get(Ii).widths[e]??"contentWidth",saveColumnWidth:(e,n)=>{let i=ho.get(Ii).widths;if(i[e])i[e]=n;else{for(;i.length<=e;)i.push("contentWidth");i[e]=n}ho.set(Ii,{widths:i})},clearStorage:()=>{ho.remove(Ii)}};function w_(e,n){let i=ho.get(Ii).widths,o=Tl(i,e,n);ho.set(Ii,{widths:o})}var nh,rh,ih,Rr,ah,oh,sh,lh,Bn,ch,uh,dh,fh,ph,mh,en;function Qn(e,n,i,o,s){var c={};return Object.keys(o).forEach(function(d){c[d]=o[d]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=i.slice().reverse().reduce(function(d,p){return p(e,n,d)||d},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0?(Object.defineProperty(e,n,c),null):c}let ba=(nh=Fn(),rh=Fn(),ih=Fn(),Rr=class{constructor(e,n,i){this.value=e,this.isCollapsed=n,this.children=i}geDescendantCount(){let e=0,n=[...this.children];for(;n.length>0;){let i=n.pop();e++;for(let o=i.children.length-1;o>=0;o--)n.push(i.children[o])}return e}getDescendants(){let e=[],n=[...this.children];for(;n.length>0;){let i=n.pop();e.push(i.value);for(let o=i.children.length-1;o>=0;o--)n.push(i.children[o])}return e}get inOrderIds(){let e=[],n=i=>{e.push(i.value);for(let o of i.children)n(o)};for(let i of this.children)n(i);return e}toString(){return this.isCollapsed?`${this.value} (collapsed)`:String(this.value)}equals(e){return this.value===e.value}},Qn(Rr.prototype,"geDescendantCount",[nh],Object.getOwnPropertyDescriptor(Rr.prototype,"geDescendantCount"),Rr.prototype),Qn(Rr.prototype,"getDescendants",[rh],Object.getOwnPropertyDescriptor(Rr.prototype,"getDescendants"),Rr.prototype),Qn(Rr.prototype,"inOrderIds",[ih],Object.getOwnPropertyDescriptor(Rr.prototype,"inOrderIds"),Rr.prototype),Rr);var __=0;let go;go=(ah=Fn(),oh=Fn(),sh=Fn(),lh=Fn(),Bn=class mo{constructor(n,i){this.nodes=n,this.id=i}static from(n){let i=`tree_${__++}`;return new mo(n.map(o=>new ba(o,!1,[])),i)}static fromWithPreviousShape(n,i){var c;if(!i)return mo.from(n);let o=i.id,s=new mo(n.map(d=>new ba(d,!1,[])),o);for(let d of n)if(i.isCollapsed(d)){let p=((c=i._nodeMap.get(d))==null?void 0:c.children)??[];for(let h=p.length-1;h>=0;h--){let b=p[h];if(s._nodeMap.has(b.value)){s=s.collapse(d,b.value);break}}}return s}withNodes(n){return new mo(n,this.id)}get topLevelIds(){return this.nodes.map(n=>n.value)}get inOrderIds(){return this.nodes.flatMap(n=>[n.value,...n.inOrderIds])}get idSet(){return new Set(this.inOrderIds)}get length(){return this.nodes.length}get _nodeMap(){let n=new Map;for(let i of this.nodes)n.set(i.value,i);return n}getDescendants(n){let i=this._nodeMap.get(n);return i?i.getDescendants():(Ae.warn(`Node ${n} not found in tree. Valid ids: ${this.topLevelIds}`),[])}isCollapsed(n){let i=this._nodeMap.get(n);return i?i.isCollapsed:(Ae.warn(`Node ${n} not found in tree. Valid ids: ${this.topLevelIds}`),!1)}indexOfOrThrow(n){let i=this.nodes.findIndex(o=>o.value===n);if(i===-1)throw Error(`Node ${n} not found in tree. Valid ids: ${this.topLevelIds}`);return i}slice(n,i){return this.nodes.slice(n,i).map(o=>o.value)}moveToFront(n){let i=this.indexOfOrThrow(n);return this.withNodes(Tl(this.nodes,i,0))}moveToBack(n){let i=this.indexOfOrThrow(n);return this.withNodes(Tl(this.nodes,i,this.nodes.length-1))}collapse(n,i){let o=this.nodes.findIndex(h=>h.value===n);if(o===-1)throw Error(`Node ${n} not found in tree. Valid ids: ${this.topLevelIds}`);let s=i===void 0?this.nodes.length:this.nodes.findIndex(h=>h.value===i);if(s===-1)throw Error(`Node ${i} not found in tree`);if(s<o)throw Error(`Node ${i} is before node ${n}`);let c=[...this.nodes],d=c[o];if(d.isCollapsed)throw Error(`Node ${n} is already collapsed`);let p=c.splice(o+1,s-o);return c[o]=new ba(d.value,!0,p),this.withNodes(c)}collapseAll(n){let i=[...this.nodes];if(n.length===0)throw Error("No collapse ranges provided");if(n.length!==i.length)throw Error(`Collapse ranges length ${n.length} does not match tree length ${i.length}`);let o=i.length-1;for(;o>=0;){let s=i[o],c=n[o];if(!s.isCollapsed&&c){let{id:d,until:p}=c;if(d!==s.value)throw Error(`Node ${s.value} does not match collapse range id ${d}`);let h=p===void 0?i.length:i.findIndex(x=>x.value===p);if(h===-1)throw Error(`Node ${p} not found in tree`);if(h<o)throw Error(`Node ${p} is before node ${d}`);let b=i.splice(o+1,h-o);i[o]=new ba(s.value,!0,b),o--}else o--}return this.withNodes(i)}expand(n){let i=this.nodes.findIndex(c=>c.value===n);if(i===-1)throw Error(`Node ${n} not found in tree. Valid ids: ${this.topLevelIds}`);let o=[...this.nodes],s=o[i];if(!s.isCollapsed)throw Error(`Node ${n} is already expanded`);return o[i]=new ba(s.value,!1,[]),o=t2(o,i+1,s.children),this.withNodes(o)}expandAll(){let n=[...this.nodes],i=0;for(;i<n.length;){let o=n[i];o.isCollapsed&&(n[i]=new ba(o.value,!1,[]),n=t2(n,i+1,o.children)),i++}return this.withNodes(n)}move(n,i){return this.withNodes(Tl(this.nodes,n,i))}at(n){var i;return(i=this.nodes.at(n))==null?void 0:i.value}atOrThrow(n){let i=this.nodes.at(n);if(i===void 0)throw Error(`Node at index ${n} not found in tree`);return i.value}first(){return this.atOrThrow(0)}last(){return this.atOrThrow(this.nodes.length-1)}after(n){let i=this.indexOfOrThrow(n);if(i!==this.nodes.length-1)return this.at(i+1)}before(n){let i=this.indexOfOrThrow(n);if(i!==0)return this.at(i-1)}insert(n,i){return this.withNodes(e2(this.nodes,i,new ba(n,!1,[])))}insertAtEnd(n){return this.insert(n,this.nodes.length)}insertAtStart(n){return this.insert(n,0)}deleteAtIndex(n){let i=this.atOrThrow(n),o=this.withNodes(this.nodes);try{o=o.expand(i)}catch{}return this.withNodes(e4(o.nodes,n))}delete(n){let i=this.indexOfOrThrow(n);return this.deleteAtIndex(i)}getCount(n){var i;return((i=this._nodeMap.get(n))==null?void 0:i.geDescendantCount())??0}findAndExpandDeep(n){let i=this.find(n);if(i.length===0)return this;let o=this.withNodes(this.nodes);for(let s of i)try{o=o.expand(s)}catch{}return o}find(n){function i(o,s){for(let c of o){if(c.value===n)return[...s,n];let d=i(c.children,[...s,c.value]);if(d.length>0)return d}return[]}return i(this.nodes,[])}split(n){let i=this.nodes.findIndex(c=>c.value===n);if(i===-1)throw Error(`Node ${n} not found in tree`);let o=this.nodes.slice(0,i),s=this.nodes.slice(i);return o.length===0?[mo.from([]),this.withNodes(s)]:[this.withNodes(o),mo.from([]).withNodes(s)]}equals(n){return this.nodes.length===n.nodes.length&&this.nodes.every((i,o)=>i.value===n.nodes[o].value)}toString(){let n=0,i="",o=s=>{for(let c of s)i+=`${" ".repeat(n*2)}${c.toString()}
`,n+=1,o(c.children),--n};return o(this.nodes),i}},Qn(Bn.prototype,"topLevelIds",[ah],Object.getOwnPropertyDescriptor(Bn.prototype,"topLevelIds"),Bn.prototype),Qn(Bn.prototype,"inOrderIds",[oh],Object.getOwnPropertyDescriptor(Bn.prototype,"inOrderIds"),Bn.prototype),Qn(Bn.prototype,"idSet",[sh],Object.getOwnPropertyDescriptor(Bn.prototype,"idSet"),Bn.prototype),Qn(Bn.prototype,"_nodeMap",[lh],Object.getOwnPropertyDescriptor(Bn.prototype,"_nodeMap"),Bn.prototype),Bn),Al=(ch=Fn(),uh=Fn(),dh=Fn(),fh=Fn(),ph=Fn(),mh=Fn(),en=class Mn{constructor(n){this.columns=n,n.length===0&&(this.columns=[go.from([])])}static from(n){return new Mn(n.map(i=>go.from(i)))}static fromWithPreviousShape(n,i){if(!i)return Mn.from([n]);let o=i.getColumns(),s=Array.from({length:o.length},()=>[]),c=0;for(let d of n){let p=o.findIndex(h=>h.idSet.has(d));p===-1?s[c].push(d):(c=p,s[p].push(d))}return new Mn(s.map((d,p)=>go.fromWithPreviousShape(d,o[p])))}isEmpty(){return this.columns.length===0?!0:this.columns.every(n=>n.nodes.length===0)}static fromIdsAndColumns(n){let i=Math.max(1,...n.map(([,c])=>(c??0)+1)),o=Array.from({length:i},()=>[]),s=0;for(let[c,d]of n)d==null||d<0?o[s].push(c):(o[d].push(c),s=d);return Mn.from(o)}get topLevelIds(){return this.columns.map(n=>n.topLevelIds)}get iterateTopLevelIds(){let n=this.columns;function*i(){for(let o of n)for(let s of o.topLevelIds)yield s}return i()}get inOrderIds(){return this.columns.flatMap(n=>n.inOrderIds)}get colLength(){return this.columns.length}get idLength(){return this.columns.reduce((n,i)=>n+i.nodes.length,0)}get _columnMap(){return new Map(this.columns.map(n=>[n.id,n]))}at(n){return this.columns[n]}get(n){return this._columnMap.get(n)}atOrThrow(n){let i=this.columns[n];if(!i)throw Error(`Column ${n} not found`);return i}hasOnlyOneColumn(){return this.columns.length===1}getColumns(){return this.columns}hasOnlyOneId(){return this.idLength===1}getColumnIds(){return this.columns.map(n=>n.id)}indexOf(n){return this.columns.indexOf(n)}addColumn(n,i=[]){return new Mn(this.columns.flatMap(o=>o.id===n?[o,go.from(i)]:[o]))}insertBreakpoint(n){let i=this.findWithId(n),[o,s]=i.split(n);return new Mn(this.columns.flatMap(c=>c===i?[o,s].filter(Boolean):[c]))}delete(n){if(this.columns.length<=1)return this;let i=this.indexOfOrThrow(n),o=i===0?1:i-1,s=[...this.columns],c=s[i];return s[o]=c.withNodes([...s[o].nodes,...c.nodes]),s.splice(i,1),new Mn(s)}mergeAllColumns(){if(this.columns.length<=1)return this;let n=this.columns.flatMap(o=>o.nodes),i=this.columns[0];return new Mn([i.withNodes(n)])}moveWithinColumn(n,i,o){return this.transform(n,s=>s.move(i,o))}moveAcrossColumns(n,i,o,s){let c=this.indexOfOrThrow(n),d=this.indexOfOrThrow(o),p=[...this.columns],h=p[c],b=h.nodes.findIndex(S=>S.value===i);if(b===-1)throw Error(`Node ${i} not found in column ${n}`);let x=h.nodes[b];p[c]=h.withNodes(h.nodes.filter((S,E)=>E!==b));let w=p[d];if(s){let S=w.indexOfOrThrow(s);p[d]=w.withNodes(e2(w.nodes,S,x))}else p[d]=w.withNodes([x,...w.nodes]);return new Mn(p)}indexOfOrThrow(n){let i=this.columns.findIndex(o=>o.id===n);if(i===-1)throw Error(`Column ${n} not found. Possible values: ${this.getColumnIds().join(", ")}`);return i}moveColumn(n,i){if(n===i)return this;let o=this.indexOfOrThrow(n),s=i==="_left_"?o-1:i==="_right_"?o+1:this.indexOfOrThrow(i);return w_(o,s),new Mn(Tl([...this.columns],o,s))}moveToNewColumn(n){let i=this.findWithId(n),o=this.columns.map(c=>c.id===i.id?c.delete(n):c),s=go.from([n]);return new Mn([...o,s])}findWithId(n){let i=this.columns.find(o=>o.inOrderIds.includes(n));if(!i)throw Ae.log(`Possible values: ${this.columns.map(o=>o.inOrderIds).join(", ")}`),Error(`Cell ${n} not found in any column`);return i}transformWithCellId(n,i){let o=!1,s=this.columns.map(c=>{if(c.inOrderIds.includes(n)){let d=i(c);return c!==d&&(o=!0),d}return c});return o?new Mn(s):this}insertId(n,i,o){return this.transform(i,s=>s.insert(n,o))}deleteById(n){return this.transformWithCellId(n,i=>i.delete(n))}compact(){return this.columns.length===1||!this.columns.some(n=>n.nodes.length===0)?this:new Mn(this.columns.filter(n=>n.nodes.length>0))}transform(n,i){let o=this._columnMap.get(n);if(!o)return Ae.warn(`Column ${n} not found`),this;let s=i(o);return o===s?this:new Mn(this.columns.map(c=>c.id===n?s:c))}transformAll(n){let i=!1,o=this.columns.map(s=>{let c=n(s);return s.equals(c)||(i=!0),c});return i?new Mn(o):this}},Qn(en.prototype,"isEmpty",[ch],Object.getOwnPropertyDescriptor(en.prototype,"isEmpty"),en.prototype),Qn(en.prototype,"topLevelIds",[uh],Object.getOwnPropertyDescriptor(en.prototype,"topLevelIds"),en.prototype),Qn(en.prototype,"inOrderIds",[dh],Object.getOwnPropertyDescriptor(en.prototype,"inOrderIds"),en.prototype),Qn(en.prototype,"idLength",[fh],Object.getOwnPropertyDescriptor(en.prototype,"idLength"),en.prototype),Qn(en.prototype,"_columnMap",[ph],Object.getOwnPropertyDescriptor(en.prototype,"_columnMap"),en.prototype),Qn(en.prototype,"getColumnIds",[mh],Object.getOwnPropertyDescriptor(en.prototype,"getColumnIds"),en.prototype),en);let Bl;Bl=(e,n)=>{let[i,...o]=n.split("."),s=(e.attribs.class||"").split(" ");return e.tagName===i&&o.every(c=>s.includes(c))},Lw=e=>{var n;return e&&Bl(e,"span.nb")&&e.firstChild instanceof ds.Text&&((n=e.firstChild.nodeValue)==null?void 0:n.includes("__marimo__"))},Rm=function(e){var n,i,o;if(e instanceof ds.Element&&e.firstChild instanceof ds.Text&&Bl(e,"span.nb")){let s=e.next;if(s&&s instanceof ds.Text){let c=s.next;if(c&&c instanceof ds.Element&&c.firstChild instanceof ds.Text&&Bl(c,"span.m")){let d=Number.parseInt(c.firstChild.nodeValue||"0",10);if((n=e.firstChild.nodeValue)!=null&&n.includes("__marimo__")){let p=(i=/__marimo__cell_(\w+)_/.exec(e.firstChild.nodeValue))==null?void 0:i[1];if(p&&d)return{kind:"cell",cellId:p,lineNumber:d}}else{let p=(o=/"(.+?)"/.exec(e.firstChild.nodeValue))==null?void 0:o[1];if(p&&d)return{kind:"file",filePath:p,lineNumber:d}}}}}return null},Om=function(e){let n=[];return t4(e,{replace:i=>{let o=Rm(i);if(o)return n.push(o),"dummy"}}),n};function hh(e){return n=>{let i=!1;for(let o of n)o&&(i=e(o)||i);return i}}const x_=hh(DT),k_=hh(ET);Wu=function(e,n,i={}){let{preserveCursor:o=!0,effects:s,userEvent:c}=i,d=e.state.doc;if(d.toString()!==n)if(o&&e.hasFocus){let p=e.state.selection.main.head,h=d.lineAt(p),b=h.number,x=p-h.from,w=e.state.update({changes:{from:0,to:d.length,insert:n}}).state.doc,S;if(b<=w.lines){let E=w.line(b),D=E.length;S=E.from+Math.min(x,D)}else S=w.line(w.lines).to;e.dispatch({changes:{from:0,to:d.length,insert:n},selection:{anchor:S},effects:s,userEvent:c})}else e.dispatch({changes:{from:0,to:d.length,insert:n},effects:s,userEvent:c})},co=function(){return Sl.define({combine:e=>e[0]})};const gh=co(),yh=co(),od=co(),sd=co(),vh=co();vw=function({completionConfig:e,hotkeys:n,placeholderType:i,lspConfig:o,diagnosticsConfig:s}){return[gh.of(e),yh.of(n),od.of(i),vh.of({...o,diagnostics:s})]},Gu=new gu;function C_(e){return Object.values(e.cellRuntime).some(n=>n.status==="running")}function S_(e){return Object.values(e.cellRuntime).filter(n=>n.status==="running"||n.status==="queued").length}function E_(e){return Nm(e).length>0}hw=function(e){return e.cellIds.inOrderIds.map(n=>e.cellData[n])};function T_({cellHandles:e}){let n={};for(let[i,o]of ni.entries(e))o.current&&(n[i]=o.current.editorView);return n}Lm=function(e){let{cellIds:n,cellData:i}=e,o=[];for(let s of n.inOrderIds)i[s].config.disabled&&o.push(s);return o},Cm=function(e){let{cellIds:n,cellData:i}=e,o=[];for(let s of n.inOrderIds)i[s].config.disabled||o.push(s);return o};function R_(e){return e.history.length>0}Nw=function(e,n){let i=e.cellIds.findWithId(n).getDescendants(n);return{stale:i.some(o=>{var s,c;return((s=e.cellRuntime[o])==null?void 0:s.staleInputs)||((c=e.cellData[o])==null?void 0:c.edited)}),errored:i.some(o=>{var s;return(s=e.cellRuntime[o])==null?void 0:s.errored}),runningOrQueued:i.some(o=>{var s,c;return((s=e.cellRuntime[o])==null?void 0:s.status)==="running"||((c=e.cellRuntime[o])==null?void 0:c.status)==="queued"})}},Nm=function(e){let{cellIds:n,cellData:i,cellRuntime:o}=e;return n.inOrderIds.filter(s=>qm({executionTime:o[s].runElapsedTimeMs??i[s].lastExecutionTime,status:o[s].status,errored:o[s].errored,interrupted:o[s].interrupted,stopped:o[s].stopped})||i[s].edited||o[s].interrupted||o[s].staleInputs&&!(o[s].status==="disabled-transitively"||i[s].config.disabled))},qm=function({executionTime:e,status:n,errored:i,interrupted:o,stopped:s}){return e===null&&n!=="queued"&&n!=="running"&&!(i||o||s)};let yo;Dt=Sl.define({combine:e=>e[0]}),po=Sl.define({combine:e=>e[0]}),yo=ma.define(),Qu=async function(e){let{sendFormat:n}=Li(),i=ni.mapValues(e,s=>oi(s)),o=await n({codes:i,lineLength:Hp().formatting.line_length});for(let[s,c]of ni.entries(o.codes)){let d=s,p=i[d],h=e[d];h&&c!==p&&(h.state.facet(Dt).updateCellCode({cellId:d,code:c,formattingChange:!0}),ps(h,c))}},ww=function(){return Qu(T_(zu()))};async function D_(e){let{formatDialect:n,duckdb:i}=await le(async()=>{let{formatDialect:b,duckdb:x}=await import("./esm-C9yOjhyY.js").then(async w=>(await w.__tla,w));return{formatDialect:b,duckdb:x}},__vite__mapDeps([0,1]),import.meta.url),o=e.state.field(Er),s=LT(e.state);if(o.type!=="sql"){Ae.error("Language adapter is not SQL");return}let c=n(e.state.doc.toString(),{dialect:i,tabWidth:s,useTabs:!1}),d=o.transformIn(c)[0],p=e.state.facet(Dt),h=e.state.facet(sd);p.updateCellCode({cellId:h,code:d,formattingChange:!0}),Wu(e,c,{effects:[yo.of(!0)]})}var O_=dn(Mu()),q=dn(dT());function P_(e,n){let i=document.createElement("div"),o;return{dom:i,mount(){o=(0,O_.createRoot)(i),o.render((0,q.jsx)(Ib,{store:st,children:(0,q.jsx)(n,{view:e})}))},update(){o==null||o.render((0,q.jsx)(Ib,{store:st,children:(0,q.jsx)(n,{view:e})}))},destroy(){o==null||o.unmount()}}}function pe(e){return new Jb(Gb.define(e))}function Ai(e){return le(()=>import("./dist-CcnP7P30.js").then(async n=>(await n.__tla,n)),__vite__mapDeps([2,3,4,5]),import.meta.url).then(n=>n.sql({dialect:n[e]}))}var L_=[se.of({name:"C",extensions:["c","h","ino"],load(){return le(()=>import("./dist-BkTbXs-9.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([6,7,4]),import.meta.url).then(e=>e.cpp())}}),se.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return le(()=>import("./dist-BkTbXs-9.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([6,7,4]),import.meta.url).then(e=>e.cpp())}}),se.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return Ai("Cassandra")}}),se.of({name:"CSS",extensions:["css"],load(){return le(()=>import("./dist-CevMHxHd.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([8,9,4]),import.meta.url).then(e=>e.css())}}),se.of({name:"Go",extensions:["go"],load(){return le(()=>import("./dist-B9LY5i-U.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([10,3,4,11]),import.meta.url).then(e=>e.go())}}),se.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return le(()=>import("./dist-CqR45uAA.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([12,3,4,9,13,14]),import.meta.url).then(e=>e.html())}}),se.of({name:"Java",extensions:["java"],load(){return le(()=>import("./dist-D5dUkQU2.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([15,16,4]),import.meta.url).then(e=>e.java())}}),se.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return le(()=>import("./dist-BxyarAxr.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([17,3,4,14]),import.meta.url).then(e=>e.javascript())}}),se.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return le(()=>import("./dist-CnQ3TmvS.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([18,19,4]),import.meta.url).then(e=>e.json())}}),se.of({name:"JSX",extensions:["jsx"],load(){return le(()=>import("./dist-BxyarAxr.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([17,3,4,14]),import.meta.url).then(e=>e.javascript({jsx:!0}))}}),se.of({name:"LESS",extensions:["less"],load(){return le(()=>import("./dist-B0QJzk-q.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([20,9,4,21]),import.meta.url).then(e=>e.less())}}),se.of({name:"Liquid",extensions:["liquid"],load(){return le(()=>import("./dist-C349pGBh.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([22,3,4,9,13,14,23]),import.meta.url).then(e=>e.liquid())}}),se.of({name:"MariaDB SQL",load(){return Ai("MariaSQL")}}),se.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return le(()=>import("./dist-BDrVWEn0.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([24,3,4,9,13,14,25]),import.meta.url).then(e=>e.markdown())}}),se.of({name:"MS SQL",load(){return Ai("MSSQL")}}),se.of({name:"MySQL",load(){return Ai("MySQL")}}),se.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return le(()=>import("./dist-CnGX7H5g.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([26,3,4,9,13,14,27]),import.meta.url).then(e=>e.php())}}),se.of({name:"PLSQL",extensions:["pls"],load(){return Ai("PLSQL")}}),se.of({name:"PostgreSQL",load(){return Ai("PostgreSQL")}}),se.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return le(()=>import("./dist-CSIOMCg9.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([28,3,4,29]),import.meta.url).then(e=>e.python())}}),se.of({name:"Rust",extensions:["rs"],load(){return le(()=>import("./dist-CK8b3BEl.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([30,31,4]),import.meta.url).then(e=>e.rust())}}),se.of({name:"Sass",extensions:["sass"],load(){return le(()=>import("./dist-DD4viQm6.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([32,9,4,33]),import.meta.url).then(e=>e.sass({indented:!0}))}}),se.of({name:"SCSS",extensions:["scss"],load(){return le(()=>import("./dist-DD4viQm6.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([32,9,4,33]),import.meta.url).then(e=>e.sass())}}),se.of({name:"SQL",extensions:["sql"],load(){return Ai("StandardSQL")}}),se.of({name:"SQLite",load(){return Ai("SQLite")}}),se.of({name:"TSX",extensions:["tsx"],load(){return le(()=>import("./dist-BxyarAxr.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([17,3,4,14]),import.meta.url).then(e=>e.javascript({jsx:!0,typescript:!0}))}}),se.of({name:"TypeScript",alias:["ts"],extensions:["ts","mts","cts"],load(){return le(()=>import("./dist-BxyarAxr.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([17,3,4,14]),import.meta.url).then(e=>e.javascript({typescript:!0}))}}),se.of({name:"WebAssembly",extensions:["wat","wast"],load(){return le(()=>import("./dist-DjdYKrn5.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([34,35,4]),import.meta.url).then(e=>e.wast())}}),se.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return le(()=>import("./dist-DeNigpv_.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([36,37,4]),import.meta.url).then(e=>e.xml())}}),se.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return le(()=>import("./dist-Zu-ccwyD.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([38,39,4]),import.meta.url).then(e=>e.yaml())}}),se.of({name:"APL",extensions:["dyalog","apl"],load(){return le(()=>import("./apl-BhHmyKLp.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([40,41]),import.meta.url).then(e=>pe(e.apl))}}),se.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return le(()=>import("./asciiarmor-CFD08zRX.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([42,43]),import.meta.url).then(e=>pe(e.asciiArmor))}}),se.of({name:"ASN.1",extensions:["asn","asn1"],load(){return le(()=>import("./asn1-D3xLhHTQ.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([44,45]),import.meta.url).then(e=>pe(e.asn1({})))}}),se.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return le(()=>import("./asterisk-BdH-viAa.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>pe(e.asterisk))}}),se.of({name:"Brainfuck",extensions:["b","bf"],load(){return le(()=>import("./brainfuck-DSVuJlz_.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([46,47]),import.meta.url).then(e=>pe(e.brainfuck))}}),se.of({name:"Cobol",extensions:["cob","cpy"],load(){return le(()=>import("./cobol-C2GNp1Zz.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([48,49]),import.meta.url).then(e=>pe(e.cobol))}}),se.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return le(()=>import("./clike-DGylk-Tp.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([50,51]),import.meta.url).then(e=>pe(e.csharp))}}),se.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return le(()=>import("./clojure-Br1lxBux.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([52,53]),import.meta.url).then(e=>pe(e.clojure))}}),se.of({name:"ClojureScript",extensions:["cljs"],load(){return le(()=>import("./clojure-Br1lxBux.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([52,53]),import.meta.url).then(e=>pe(e.clojure))}}),se.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return le(()=>import("./css-QKbkhJ30.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([54,55]),import.meta.url).then(e=>pe(e.gss))}}),se.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return le(()=>import("./cmake-DAaZl07i.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([56,57]),import.meta.url).then(e=>pe(e.cmake))}}),se.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return le(()=>import("./coffeescript-C4WA4wjG.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([58,59]),import.meta.url).then(e=>pe(e.coffeeScript))}}),se.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return le(()=>import("./commonlisp-epU1R2kq.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([60,61]),import.meta.url).then(e=>pe(e.commonLisp))}}),se.of({name:"Cypher",extensions:["cyp","cypher"],load(){return le(()=>import("./cypher-B2FTLrka.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([62,63]),import.meta.url).then(e=>pe(e.cypher))}}),se.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return le(()=>import("./python-CIOAcKGE.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([64,65]),import.meta.url).then(e=>pe(e.cython))}}),se.of({name:"Crystal",extensions:["cr"],load(){return le(()=>import("./crystal-BRuBgLYy.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([66,67]),import.meta.url).then(e=>pe(e.crystal))}}),se.of({name:"D",extensions:["d"],load(){return le(()=>import("./d-B_A4vcp-.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([68,69]),import.meta.url).then(e=>pe(e.d))}}),se.of({name:"Dart",extensions:["dart"],load(){return le(()=>import("./clike-DGylk-Tp.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([50,51]),import.meta.url).then(e=>pe(e.dart))}}),se.of({name:"diff",extensions:["diff","patch"],load(){return le(()=>import("./diff-Bm-I-j2d.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([70,71]),import.meta.url).then(e=>pe(e.diff))}}),se.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return le(()=>import("./dockerfile-CMolim_w.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([72,73]),import.meta.url).then(e=>pe(e.dockerFile))}}),se.of({name:"DTD",extensions:["dtd"],load(){return le(()=>import("./dtd-Bi_GLa1h.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([74,75]),import.meta.url).then(e=>pe(e.dtd))}}),se.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return le(()=>import("./dylan-Bm77AuFY.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([76,77]),import.meta.url).then(e=>pe(e.dylan))}}),se.of({name:"EBNF",load(){return le(()=>import("./ebnf-DqMiDFc8.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>pe(e.ebnf))}}),se.of({name:"ECL",extensions:["ecl"],load(){return le(()=>import("./ecl-Bd_Pycv6.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([78,79]),import.meta.url).then(e=>pe(e.ecl))}}),se.of({name:"edn",extensions:["edn"],load(){return le(()=>import("./clojure-Br1lxBux.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([52,53]),import.meta.url).then(e=>pe(e.clojure))}}),se.of({name:"Eiffel",extensions:["e"],load(){return le(()=>import("./eiffel-05OOtoIk.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([80,81]),import.meta.url).then(e=>pe(e.eiffel))}}),se.of({name:"Elm",extensions:["elm"],load(){return le(()=>import("./elm-Bq2IAQOJ.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([82,83]),import.meta.url).then(e=>pe(e.elm))}}),se.of({name:"Erlang",extensions:["erl"],load(){return le(()=>import("./erlang-BJHwlMql.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([84,85]),import.meta.url).then(e=>pe(e.erlang))}}),se.of({name:"Esper",load(){return le(()=>import("./sql-DXG8OgOs.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>pe(e.esper))}}),se.of({name:"Factor",extensions:["factor"],load(){return le(()=>import("./factor-Bqc4an1k.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([86,87,73]),import.meta.url).then(e=>pe(e.factor))}}),se.of({name:"FCL",load(){return le(()=>import("./fcl-Cf-WUHg7.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>pe(e.fcl))}}),se.of({name:"Forth",extensions:["forth","fth","4th"],load(){return le(()=>import("./forth-DOTm_VMl.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([88,89]),import.meta.url).then(e=>pe(e.forth))}}),se.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return le(()=>import("./fortran-DC2kUtwn.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([90,91]),import.meta.url).then(e=>pe(e.fortran))}}),se.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return le(()=>import("./mllike-YgEvsJ1f.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([92,93]),import.meta.url).then(e=>pe(e.fSharp))}}),se.of({name:"Gas",extensions:["s"],load(){return le(()=>import("./gas-BvGvPkdJ.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([94,95]),import.meta.url).then(e=>pe(e.gas))}}),se.of({name:"Gherkin",extensions:["feature"],load(){return le(()=>import("./gherkin-C8IbAVqK.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([96,97]),import.meta.url).then(e=>pe(e.gherkin))}}),se.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return le(()=>import("./groovy-CfycCyAQ.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([98,99]),import.meta.url).then(e=>pe(e.groovy))}}),se.of({name:"Haskell",extensions:["hs"],load(){return le(()=>import("./haskell-D1sk6PLN.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([100,101]),import.meta.url).then(e=>pe(e.haskell))}}),se.of({name:"Haxe",extensions:["hx"],load(){return le(()=>import("./haxe-oZBT7-U-.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([102,103]),import.meta.url).then(e=>pe(e.haxe))}}),se.of({name:"HXML",extensions:["hxml"],load(){return le(()=>import("./haxe-oZBT7-U-.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([102,103]),import.meta.url).then(e=>pe(e.hxml))}}),se.of({name:"HTTP",load(){return le(()=>import("./http-C-DFlhhH.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>pe(e.http))}}),se.of({name:"IDL",extensions:["pro"],load(){return le(()=>import("./idl-BoTZq9lk.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([104,105]),import.meta.url).then(e=>pe(e.idl))}}),se.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return le(()=>import("./javascript-BjqKg5oB.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([106,107]),import.meta.url).then(e=>pe(e.jsonld))}}),se.of({name:"Jinja2",extensions:["j2","jinja","jinja2"],load(){return le(()=>import("./jinja2-DIV9cMBo.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([108,109]),import.meta.url).then(e=>pe(e.jinja2))}}),se.of({name:"Julia",extensions:["jl"],load(){return le(()=>import("./julia-B1lyRG3w.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([110,111]),import.meta.url).then(e=>pe(e.julia))}}),se.of({name:"Kotlin",extensions:["kt","kts"],load(){return le(()=>import("./clike-DGylk-Tp.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([50,51]),import.meta.url).then(e=>pe(e.kotlin))}}),se.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return le(()=>import("./livescript-D9kHzCya.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([112,113]),import.meta.url).then(e=>pe(e.liveScript))}}),se.of({name:"Lua",extensions:["lua"],load(){return le(()=>import("./lua-BNvCN5la.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([114,115]),import.meta.url).then(e=>pe(e.lua))}}),se.of({name:"mIRC",extensions:["mrc"],load(){return le(()=>import("./mirc-lQuOm8Tb.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([116,117]),import.meta.url).then(e=>pe(e.mirc))}}),se.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return le(()=>import("./mathematica-C-T485qV.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([118,119]),import.meta.url).then(e=>pe(e.mathematica))}}),se.of({name:"Modelica",extensions:["mo"],load(){return le(()=>import("./modelica-Le8WzQfb.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([120,121]),import.meta.url).then(e=>pe(e.modelica))}}),se.of({name:"MUMPS",extensions:["mps"],load(){return le(()=>import("./mumps-DwuSjZwG.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([122,123]),import.meta.url).then(e=>pe(e.mumps))}}),se.of({name:"Mbox",extensions:["mbox"],load(){return le(()=>import("./mbox-BuIsJsll.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([124,125]),import.meta.url).then(e=>pe(e.mbox))}}),se.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return le(()=>import("./nginx-DN4tv1wm.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>pe(e.nginx))}}),se.of({name:"NSIS",extensions:["nsh","nsi"],load(){return le(()=>import("./nsis-ZOfN2NMy.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([126,127,73]),import.meta.url).then(e=>pe(e.nsis))}}),se.of({name:"NTriples",extensions:["nt","nq"],load(){return le(()=>import("./ntriples-ms7g8m-J.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([128,129]),import.meta.url).then(e=>pe(e.ntriples))}}),se.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return le(()=>import("./clike-DGylk-Tp.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([50,51]),import.meta.url).then(e=>pe(e.objectiveC))}}),se.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return le(()=>import("./clike-DGylk-Tp.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([50,51]),import.meta.url).then(e=>pe(e.objectiveCpp))}}),se.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return le(()=>import("./mllike-YgEvsJ1f.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([92,93]),import.meta.url).then(e=>pe(e.oCaml))}}),se.of({name:"Octave",extensions:["m"],load(){return le(()=>import("./octave-C_E9zXQ8.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([130,131]),import.meta.url).then(e=>pe(e.octave))}}),se.of({name:"Oz",extensions:["oz"],load(){return le(()=>import("./oz-RxjFDx1I.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([132,133]),import.meta.url).then(e=>pe(e.oz))}}),se.of({name:"Pascal",extensions:["p","pas"],load(){return le(()=>import("./pascal-CmobH8OK.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([134,135]),import.meta.url).then(e=>pe(e.pascal))}}),se.of({name:"Perl",extensions:["pl","pm"],load(){return le(()=>import("./perl-ClrYw9Yp.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([136,137]),import.meta.url).then(e=>pe(e.perl))}}),se.of({name:"Pig",extensions:["pig"],load(){return le(()=>import("./pig-C8-Sc1Pz.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([138,139]),import.meta.url).then(e=>pe(e.pig))}}),se.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return le(()=>import("./powershell-wOPuuFug.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([140,141]),import.meta.url).then(e=>pe(e.powerShell))}}),se.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return le(()=>import("./properties-BaIJ6owP.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([142,143]),import.meta.url).then(e=>pe(e.properties))}}),se.of({name:"ProtoBuf",extensions:["proto"],load(){return le(()=>import("./protobuf-HzF8PtJa.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([144,145]),import.meta.url).then(e=>pe(e.protobuf))}}),se.of({name:"Pug",alias:["jade"],extensions:["pug","jade"],load(){return le(()=>import("./pug-CiS8jCm0.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([146,107,147]),import.meta.url).then(e=>pe(e.pug))}}),se.of({name:"Puppet",extensions:["pp"],load(){return le(()=>import("./puppet-CvLL5Xcr.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([148,149]),import.meta.url).then(e=>pe(e.puppet))}}),se.of({name:"Q",extensions:["q"],load(){return le(()=>import("./q-Ohf4OEVe.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([150,151]),import.meta.url).then(e=>pe(e.q))}}),se.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return le(()=>import("./r-D8GTItBf.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([152,153]),import.meta.url).then(e=>pe(e.r))}}),se.of({name:"RPM Changes",load(){return le(()=>import("./rpm-HGFHlACU.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([154,155]),import.meta.url).then(e=>pe(e.rpmChanges))}}),se.of({name:"RPM Spec",extensions:["spec"],load(){return le(()=>import("./rpm-HGFHlACU.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([154,155]),import.meta.url).then(e=>pe(e.rpmSpec))}}),se.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],filename:/^(Gemfile|Rakefile)$/,load(){return le(()=>import("./ruby-CBFXYnJ7.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([156,157]),import.meta.url).then(e=>pe(e.ruby))}}),se.of({name:"SAS",extensions:["sas"],load(){return le(()=>import("./sas-C2cNJ6Rh.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([158,159]),import.meta.url).then(e=>pe(e.sas))}}),se.of({name:"Scala",extensions:["scala"],load(){return le(()=>import("./clike-DGylk-Tp.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([50,51]),import.meta.url).then(e=>pe(e.scala))}}),se.of({name:"Scheme",extensions:["scm","ss"],load(){return le(()=>import("./scheme-Dj9SEcTx.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([160,161]),import.meta.url).then(e=>pe(e.scheme))}}),se.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return le(()=>import("./shell-BJJJuyrB.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([162,163]),import.meta.url).then(e=>pe(e.shell))}}),se.of({name:"Sieve",extensions:["siv","sieve"],load(){return le(()=>import("./sieve-kgn_cDXh.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([164,165]),import.meta.url).then(e=>pe(e.sieve))}}),se.of({name:"Smalltalk",extensions:["st"],load(){return le(()=>import("./smalltalk-Dozw7rGC.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([166,167]),import.meta.url).then(e=>pe(e.smalltalk))}}),se.of({name:"Solr",load(){return le(()=>import("./solr-QD_0rVCs.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>pe(e.solr))}}),se.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return le(()=>import("./mllike-YgEvsJ1f.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([92,93]),import.meta.url).then(e=>pe(e.sml))}}),se.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return le(()=>import("./sparql-DPqzz38h.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([168,169]),import.meta.url).then(e=>pe(e.sparql))}}),se.of({name:"Spreadsheet",alias:["excel","formula"],load(){return le(()=>import("./spreadsheet-BEe5ErZa.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>pe(e.spreadsheet))}}),se.of({name:"Squirrel",extensions:["nut"],load(){return le(()=>import("./clike-DGylk-Tp.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([50,51]),import.meta.url).then(e=>pe(e.squirrel))}}),se.of({name:"Stylus",extensions:["styl"],load(){return le(()=>import("./stylus-DqmYanw8.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([170,171]),import.meta.url).then(e=>pe(e.stylus))}}),se.of({name:"Swift",extensions:["swift"],load(){return le(()=>import("./swift-DLnIgvZd.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([172,173]),import.meta.url).then(e=>pe(e.swift))}}),se.of({name:"sTeX",load(){return le(()=>import("./stex-wt8gHRbn.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([174,175]),import.meta.url).then(e=>pe(e.stex))}}),se.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return le(()=>import("./stex-wt8gHRbn.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([174,175]),import.meta.url).then(e=>pe(e.stex))}}),se.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return le(()=>import("./verilog-BPjY2C3q.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([176,177]),import.meta.url).then(e=>pe(e.verilog))}}),se.of({name:"Tcl",extensions:["tcl"],load(){return le(()=>import("./tcl-BoB6B8o1.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([178,179]),import.meta.url).then(e=>pe(e.tcl))}}),se.of({name:"Textile",extensions:["textile"],load(){return le(()=>import("./textile-Dr1DXmS4.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([180,181]),import.meta.url).then(e=>pe(e.textile))}}),se.of({name:"TiddlyWiki",load(){return le(()=>import("./tiddlywiki-DgFOwsVP.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>pe(e.tiddlyWiki))}}),se.of({name:"Tiki wiki",load(){return le(()=>import("./tiki-DSpoqS_Q.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>pe(e.tiki))}}),se.of({name:"TOML",extensions:["toml"],load(){return le(()=>import("./toml-B3rKR2Tr.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([182,183]),import.meta.url).then(e=>pe(e.toml))}}),se.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return le(()=>import("./troff-DCOuQXdn.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([184,185]),import.meta.url).then(e=>pe(e.troff))}}),se.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return le(()=>import("./ttcn-BSyoPXFR.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([186,187]),import.meta.url).then(e=>pe(e.ttcn))}}),se.of({name:"TTCN_CFG",extensions:["cfg"],load(){return le(()=>import("./ttcn-cfg-DEkbF1uH.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([188,189]),import.meta.url).then(e=>pe(e.ttcnCfg))}}),se.of({name:"Turtle",extensions:["ttl"],load(){return le(()=>import("./turtle-B_FLfCG-.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([190,191]),import.meta.url).then(e=>pe(e.turtle))}}),se.of({name:"Web IDL",extensions:["webidl"],load(){return le(()=>import("./webidl-CCR5BmlO.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([192,193]),import.meta.url).then(e=>pe(e.webIDL))}}),se.of({name:"VB.NET",extensions:["vb"],load(){return le(()=>import("./vb-CQrDM8cu.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([194,195]),import.meta.url).then(e=>pe(e.vb))}}),se.of({name:"VBScript",extensions:["vbs"],load(){return le(()=>import("./vbscript-Dr5e9PNZ.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([196,197]),import.meta.url).then(e=>pe(e.vbScript))}}),se.of({name:"Velocity",extensions:["vtl"],load(){return le(()=>import("./velocity-At09gWCM.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([198,199]),import.meta.url).then(e=>pe(e.velocity))}}),se.of({name:"Verilog",extensions:["v"],load(){return le(()=>import("./verilog-BPjY2C3q.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([176,177]),import.meta.url).then(e=>pe(e.verilog))}}),se.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return le(()=>import("./vhdl-DU8HAK4N.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([200,201]),import.meta.url).then(e=>pe(e.vhdl))}}),se.of({name:"XQuery",extensions:["xy","xquery"],load(){return le(()=>import("./xquery-DfDym2ag.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([202,203]),import.meta.url).then(e=>pe(e.xQuery))}}),se.of({name:"Yacas",extensions:["ys"],load(){return le(()=>import("./yacas-BtUeMfq-.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([204,205]),import.meta.url).then(e=>pe(e.yacas))}}),se.of({name:"Z80",extensions:["z80"],load(){return le(()=>import("./z80-BGJP_qlm.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([206,207]),import.meta.url).then(e=>pe(e.z80))}}),se.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return le(()=>import("./mscgen-C5R1d-qY.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([208,209]),import.meta.url).then(e=>pe(e.mscgen))}}),se.of({name:"X\xF9",extensions:["xu"],load(){return le(()=>import("./mscgen-C5R1d-qY.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([208,209]),import.meta.url).then(e=>pe(e.xu))}}),se.of({name:"MsGenny",extensions:["msgenny"],load(){return le(()=>import("./mscgen-C5R1d-qY.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([208,209]),import.meta.url).then(e=>pe(e.msgenny))}}),se.of({name:"Vue",extensions:["vue"],load(){return le(()=>import("./dist-B96Z7z7d.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([210,3,4,9,13,14,211]),import.meta.url).then(e=>e.vue())}}),se.of({name:"Angular Template",load(){return le(()=>import("./dist-CI9c-vbV.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([212,3,4,9,13,14]),import.meta.url).then(e=>e.angular())}})],bh=new WeakMap,M_=/(\n|\r\n?|\u2028|\u2029)/g,N_=/^\s*/,I_=/\S/,A_=Array.prototype.slice,ld=48,wh=57,_h=97,j_=102,xh=65,q_=70;Ol=function(e){if(typeof e=="string")return Sh([e])[0];if(typeof e=="function")return function(){let o=A_.call(arguments);return o[0]=Ch(o[0]),e.apply(this,o)};let n=Ch(e),i=kh(n,0);for(let o=1;o<n.length;o++)i+=arguments[o]+kh(n,o);return i};function kh(e,n){let i=e[n];if(i===void 0)throw TypeError(`invalid cooked string at index ${n}`);return i}function Ch(e){let n=bh.get(e);if(n)return n;let i=Sh(e.raw),o=i.map(F_);return Object.defineProperty(o,"raw",{value:Object.freeze(i)}),Object.freeze(o),bh.set(e,o),o}function Sh(e){let n=e.map(s=>s.split(M_)),i;for(let s=0;s<n.length;s++){let c=n[s],d=s===0,p=s+1===n.length;if(d){if(c.length===1||c[0].length>0)throw Error("invalid content on opening line");c[1]=""}if(p){if(c.length===1||I_.test(c[c.length-1]))throw Error("invalid content on closing line");c[c.length-2]="",c[c.length-1]=""}for(let h=2;h<c.length;h+=2){let b=c[h],x=h+1===c.length&&!p,w=N_.exec(b)[0];if(!x&&w.length===b.length){c[h]="";continue}i=z_(w,i)}}let o=i?i.length:0;return n.map(s=>{let c=s[0];for(let d=1;d<s.length;d+=2){let p=s[d],h=s[d+1];c+=p+h.slice(o)}return c})}function z_(e,n){if(n===void 0||e===n)return e;let i=0;for(let o=Math.min(e.length,n.length);i<o&&e[i]===n[i];i++);return e.slice(0,i)}function F_(e){let n="",i=0,o=0;for(;(o=e.indexOf("\\",o))>-1;){if(n+=e.slice(i,o),++o===e.length)return;let s=e[o++];switch(s){case"b":n+="\b";break;case"t":n+="	";break;case"n":n+=`
`;break;case"v":n+="\v";break;case"f":n+="\f";break;case"r":n+="\r";break;case"\r":o<e.length&&e[o]===`
`&&++o;case`
`:case"\u2028":case"\u2029":break;case"0":if(Eh(e,o))return;n+="\0";break;case"x":{let c=cd(e,o,o+2);if(c===-1)return;o+=2,n+=String.fromCharCode(c);break}case"u":{let c;if(o<e.length&&e[o]==="{"){let d=e.indexOf("}",++o);if(d===-1)return;c=cd(e,o,d),o=d+1}else c=cd(e,o,o+4),o+=4;if(c===-1||c>1114111)return;n+=String.fromCodePoint(c);break}default:if(Eh(s,0))return;n+=s}i=o}return n+e.slice(i)}function Eh(e,n){let i=e.charCodeAt(n);return i>=ld&&i<=wh}function cd(e,n,i){if(i>=e.length)return-1;let o=0;for(;n<i;n++){let s=B_(e.charCodeAt(n));if(s===-1)return-1;o=o*16+s}return o}function B_(e){return e>=ld&&e<=wh?e-ld:e>=_h&&e<=j_?e-_h+10:e>=xh&&e<=q_?e-xh+10:-1}function V_(e,n){return{get:()=>n.get(e),sub:i=>n.sub(e,()=>i(n.get(e)))}}function $_(e,{offset:n,body:i=window}){let o=(n==null?void 0:n.top)??0,s=(n==null?void 0:n.bottom)??0,c=e.getBoundingClientRect();if(c.top<o){i.scrollBy({top:c.top-o,behavior:"smooth"});return}if(c.bottom>window.innerHeight-s){i.scrollBy({top:c.bottom-window.innerHeight+s,behavior:"smooth"});return}}Iu=function(e){return e?e.state.field(Er).type:"python"};function H_(e,n){return!e||Iu(e)===n?!1:e.state.doc.toString().trim()===""?!0:dr[n].isSupported(oi(e))}vm=function(e,n,i={}){return!i.force&&!H_(e,n)?!1:(Bm(e,{language:n}),n)};function W_(e){return io.of([{key:e.getHotkey("cell.format").key,preventDefault:!0,run:n=>(Qu({[n.state.facet(po)]:n}),!0)},{key:e.getHotkey("cell.viewAsMarkdown").key,preventDefault:!0,run:n=>{let i=Iu(n);if(i!=="markdown"&&i!=="python")return!1;let o=vm(n,i==="python"?"markdown":"python",{force:!0});return o==="markdown"&&n.state.facet(Dt).afterToggleMarkdown(),o!==!1}}])}nw=function(){return Zt.updateListener.of(e=>{if(e.view.hasFocus&&e.heightChanged&&e.docChanged){if(e.transactions.some(i=>i.effects.some(o=>o.is(yo))))return;let n=e.view.dom.getElementsByClassName("cm-activeLine cm-line");if(n.length===1){let i=n[0],o=document.getElementById("App");kn(o,"App not found"),$_(i,{offset:{top:30,bottom:150},body:o})}}})};function U_(){return{}}let K_,Q_,Th;({reducer:K_,createActions:Q_,valueAtom:ga,useActions:Th}=Rl(U_,{setVariables:(e,n)=>{let i={...e},o={};for(let s of n)o[s.name]={...i[s.name],...s};return o},addVariables:(e,n)=>{let i={...e};for(let o of n)i[o.name]={...i[o.name],...o};return i},setMetadata:(e,n)=>{let i={...e};for(let{name:o,value:s,dataType:c}of n)i[o]&&(i[o]={...i[o],value:s,dataType:c});return i}})),zw=()=>Kn(ga),O2=function(){return Th()};var G_=dn(Br()),Rh="marimo:sidebar",Dh=new Xu(qb({selectedPanel:uT().optional().transform(e=>e),isSidebarOpen:jb(),isTerminalOpen:jb()}),J_);function J_(){return{selectedPanel:"variables",isSidebarOpen:!1,isTerminalOpen:!1}}let X_,Y_,Oh;({reducer:X_,createActions:Y_,valueAtom:Nu,useActions:Oh}=Rl(()=>Dh.get(Rh),{openApplication:(e,n)=>({...e,selectedPanel:n,isSidebarOpen:!0}),toggleApplication:(e,n)=>({...e,selectedPanel:n,isSidebarOpen:e.isSidebarOpen?e.selectedPanel!==n:!0}),toggleSidebarPanel:e=>({...e,isSidebarOpen:!e.isSidebarOpen}),setIsSidebarOpen:(e,n)=>({...e,isSidebarOpen:n}),toggleTerminal:e=>({...e,isTerminalOpen:!e.isTerminalOpen}),setIsTerminalOpen:(e,n)=>({...e,isTerminalOpen:n})},[(e,n)=>Dh.set(Rh,n)])),L2=()=>{let e=(0,G_.c)(2),n=Kn(Nu);if(n.isSidebarOpen)return n;let i;return e[0]===n?i=e[1]:(i={...n,selectedPanel:void 0},e[0]=n,e[1]=i),i},S2=function(){return Oh()},wm=Be({terminal:!1,pylsp:!1,basedpyright:!1,ty:!1});function Vl(e){return st.get(wm)[e]??!1}var Ph=new Set(["FunctionDefinition","LambdaExpression","ArrayComprehensionExpression","SetComprehension","DictionaryComprehensionExpression","ComprehensionExpression","ClassDefinition"]);function Z_(e){let n=Yb(e.state);if(!n||nx(n))return[];let i=new Set(Object.keys(e.variables).filter(E=>{let D=e.variables[E];return D.dataType!=="module"&&!D.declaredBy.includes("setup")&&!D.declaredBy.includes(e.cellId)}));if(i.size===0)return[];let o=[],s=new Map,c=new Map,d=new Map;function p(E,D){var ce,he,B,W,ue,be,ye,xe,X,_e,Se;let M=E.cursor(),F=M.name,J=M.from,K=Ph.has(F),V=D;switch(K&&(V=[...D,J],s.set(J,new Set),c.set(J,F)),F){case"FunctionDefinition":{let ae=E.cursor();ae.firstChild();do if(ae.name==="VariableName"){let oe=e.state.doc.sliceString(ae.from,ae.to),$=D[D.length-1]??-1;s.has($)||s.set($,new Set),(ce=s.get($))==null||ce.add(oe);break}while(ae.nextSibling());let ne=E.cursor();ne.firstChild();do if(ne.name==="ParamList"){let oe=ne.node.cursor();oe.firstChild();do if(oe.name==="VariableName"){let $=e.state.doc.sliceString(oe.from,oe.to);(he=s.get(J))==null||he.add($)}while(oe.nextSibling())}while(ne.nextSibling());break}case"LambdaExpression":{let ae=E.cursor();ae.firstChild();do if(ae.name==="ParamList"){let ne=ae.node.cursor();ne.firstChild();do if(ne.name==="VariableName"){let oe=e.state.doc.sliceString(ne.from,ne.to);(B=s.get(J))==null||B.add(oe)}while(ne.nextSibling())}while(ae.nextSibling());break}case"ArrayComprehensionExpression":case"DictionaryComprehensionExpression":case"SetComprehension":case"ComprehensionExpression":{let ae=E.cursor();ae.firstChild();let ne=!1;do if(ae.name==="for")ne=!0;else if(ne&&ae.name==="VariableName"){let oe=e.state.doc.sliceString(ae.from,ae.to);(W=s.get(J))==null||W.add(oe)}else if(ne&&ae.name==="TupleExpression"){let oe=ae.node.cursor();oe.firstChild();do if(oe.name==="VariableName"){let $=e.state.doc.sliceString(oe.from,oe.to);(ue=s.get(J))==null||ue.add($)}while(oe.nextSibling())}else ne&&ae.name==="in"&&(ne=!1);while(ae.nextSibling());break}case"ClassDefinition":{let ae=E.cursor();ae.firstChild();do if(ae.name==="VariableName"){let ne=e.state.doc.sliceString(ae.from,ae.to),oe=D[D.length-1]??-1;s.has(oe)||s.set(oe,new Set),(be=s.get(oe))==null||be.add(ne);break}while(ae.nextSibling());d.set(J,[]);break}case"AssignStatement":{let ae=E.cursor(),ne=[];ae.firstChild();do ae.name==="AssignOp"&&ne.push(ae.from);while(ae.nextSibling());let oe=ne[ne.length-1],$=E.cursor();$.firstChild();let Ne=V[V.length-1]??-1;do $.from<oe&&ud($,{currentScope:Ne,state:e.state,allDeclarations:s,scopeTypes:c,classLevelDeclarations:d,assignmentPosition:M.to});while($.nextSibling());break}case"ForStatement":{let ae=E.cursor();ae.firstChild();let ne=!1;do if(ae.name==="for")ne=!0;else if(ne&&ae.name==="VariableName"){let oe=e.state.doc.sliceString(ae.from,ae.to),$=V[V.length-1]??-1;s.has($)||s.set($,new Set),(ye=s.get($))==null||ye.add(oe)}else ne&&ae.name==="in"&&(ne=!1);while(ae.nextSibling());break}case"ImportStatement":{let ae=E.cursor();ae.firstChild();do if(ae.name==="VariableName"){let ne=e.state.doc.sliceString(ae.from,ae.to),oe=V[V.length-1]??-1;s.has(oe)||s.set(oe,new Set),(xe=s.get(oe))==null||xe.add(ne)}while(ae.nextSibling());break}case"ImportFromStatement":{let ae=E.cursor();ae.firstChild();let ne=!1;do if(ae.name==="import")ne=!0;else if(ne&&ae.name==="VariableName"){let oe=e.state.doc.sliceString(ae.from,ae.to),$=V[V.length-1]??-1;s.has($)||s.set($,new Set),(X=s.get($))==null||X.add(oe)}while(ae.nextSibling());break}case"TryStatement":{let ae=E.cursor();ae.firstChild();let ne=!1;do if(ae.name==="as")ne=!0;else if(ne&&ae.name==="VariableName"){let oe=e.state.doc.sliceString(ae.from,ae.to),$=V[V.length-1]??-1;s.has($)||s.set($,new Set),(_e=s.get($))==null||_e.add(oe),ne=!1}while(ae.nextSibling());break}case"WithStatement":{let ae=E.cursor();ae.firstChild();let ne=!1;do if(ae.name==="as")ne=!0;else if(ne&&ae.name==="VariableName"){let oe=e.state.doc.sliceString(ae.from,ae.to),$=V[V.length-1]??-1;s.has($)||s.set($,new Set),(Se=s.get($))==null||Se.add(oe),ne=!1}while(ae.nextSibling());break}}S(M,ae=>{p(ae,V)})}function h(E,D,M){let F=d.get(D);return F?F.some(([J,K])=>J===E&&K<M):!1}function b(E,D,M){var F,J;for(let K of D)if(c.get(K)==="ClassDefinition"){if(h(E,K,M))return!0}else if((F=s.get(K))!=null&&F.has(E))return!0;return((J=s.get(-1))==null?void 0:J.has(E))??!1}function x(E,D){let M=E.cursor(),F=M.name,J=M.from,K=Ph.has(F),V=D;if(K&&(V=[...D,J]),F==="VariableName"){let ce=e.state.doc.sliceString(M.from,M.to);w(ce,M)&&(b(ce,V,M.from)||o.push({from:M.from,to:M.to,variableName:ce}))}S(M,ce=>{x(ce,V)})}function w(E,D){return i.has(E)&&!ex(D)&&!tx(D)}function S(E,D){if(E.firstChild())do D(E.node);while(E.nextSibling())}return p(n,[]),x(n,[]),o}function ex(e){let n=e.node.cursor();if(n.moveTo(e.from),n.parent()&&n.name==="CallExpression"&&n.firstChild())do if(n.name==="ArgList"&&n.firstChild()){do if(n.from===e.from&&n.to===e.to)return n.nextSibling()&&n.name==="AssignOp";while(n.nextSibling());break}while(n.nextSibling());return!1}function tx(e){let n=e.node.cursor();if(n.parent()&&n.name==="AssignStatement"){let i=n.node.cursor();i.firstChild();let o=-1;do if(i.name==="AssignOp"){o=i.from;break}while(i.nextSibling());return o!==-1&&e.from<o}return!1}function nx(e){let n=e.cursor();do if(n.name==="\u26A0"||n.type.isError)return!0;while(n.next());return!1}function ud(e,n){var i;switch(e.name){case"VariableName":{let o=n.state.doc.sliceString(e.from,e.to);if(n.currentScope!==-1&&n.scopeTypes.get(n.currentScope)==="ClassDefinition"){let s=n.classLevelDeclarations.get(n.currentScope);s&&s.push([o,n.assignmentPosition])}else n.allDeclarations.has(n.currentScope)||n.allDeclarations.set(n.currentScope,new Set),(i=n.allDeclarations.get(n.currentScope))==null||i.add(o);break}case"TupleExpression":{let o=e.node.cursor();o.firstChild();do ud(o,n);while(o.nextSibling());break}case"ArrayExpression":{let o=e.node.cursor();o.firstChild();do ud(o,n);while(o.nextSibling());break}}}var rx=Pi.mark({class:"mo-cm-reactive-reference"});b2=Pi.mark({class:"mo-cm-reactive-reference-hover"});var Lh=ma.define(),ix=class{constructor(e,n){De(this,"highlightDebounceMs",300);this.view=e,this.cellId=n,this.scheduleHighlighting=zb(()=>{this.runHighlighting()},this.highlightDebounceMs),this.variablesUnsubscribe=st.sub(ga,()=>{this.scheduleHighlighting()}),this.scheduleHighlighting()}update(e){(e.docChanged||e.focusChanged)&&this.scheduleHighlighting()}destroy(){this.scheduleHighlighting.cancel(),this.variablesUnsubscribe()}runHighlighting(){let e=Z_({state:this.view.state,cellId:this.cellId,variables:st.get(ga)});e.length>0&&Ae.debug(`Found ${e.length} reactive variables in cell ${this.cellId}`),queueMicrotask(()=>{this.view.dispatch({effects:Lh.of(e)})})}};Ru=El.define({create(){return{decorations:Pi.none,ranges:[]}},update(e,n){let i={decorations:e.decorations.map(n.changes),ranges:e.ranges};for(let o of n.effects)o.is(Lh)&&(i={decorations:Pi.set(o.value.map(s=>rx.range(s.from,s.to))),ranges:o.value});return i},provide:e=>Zt.decorations.from(e,n=>n.decorations)});function ax(e){return[Ru,ao.define(n=>new ix(n,e))]}Y2=function(e,n){return n?ax(e):[]};function Mh(e,n=!1){if(!e)return null;let i=document.createElement("span");if(i.classList.add("mo-cm-tooltip"),i.classList.add("docs-documentation"),n&&i.classList.add("cm-tooltip-section"),i.style.display="flex",i.style.flexDirection="column",i.style.gap=".8rem",i.innerHTML=e,n){let o=document.createElement("div");o.classList.add("text-xs","text-muted-foreground","font-medium","pt-1","-mt-2","border-t","border-border");let s=document.createElement("kbd");s.className="ml-1 rounded-md bg-muted/40 px-2 text-[0.75rem] font-prose center border border-foreground/20 text-muted-foreground inline whitespace-nowrap",s.textContent=_T()?"\u2318":"Ctrl",o.append(document.createTextNode("Jump to defining cell ")),o.append(s),o.append(document.createTextNode(" + Click")),i.append(o)}return i}Zu=new wu("autocomplete-result",async(e,n)=>{let{sendCodeCompletionRequest:i}=Li();await i({id:e,...n})});var ox={param:3,property:2};const dd={asCompletionResult(e,n){return{from:e-n.prefix_length,options:n.options.map(i=>({label:i.name,type:i.type,boost:ox[i.type]??1,info:()=>Mh(i.completion_info)})),validFor:/^\w*$/}},asHoverTooltip({position:e,message:n,limitToType:i,excludeTypes:o,exactName:s,showGoToDefinitionHint:c=!1}){let d=sx(n.options,s);if(!d)return;let p=e-n.prefix_length,h=Mh(d.completion_info,c);if(h&&!(i&&d.type!==i)&&!(o!=null&&o.includes(d.type)))return{pos:p,html:d.completion_info,end:p+d.name.length,above:!0,create:()=>({dom:h,resize:!1})}}};function sx(e,n){if(e.length!==0){if(e.length===1)return e[0];if(n)return e.find(i=>i.name===n)}}H2=function(e){var n;return[(n=e==null?void 0:e.pylsp)!=null&&n.enabled&&Vl("pylsp")?[]:Wp(async(i,o)=>{let s=await Nh({view:i,pos:o,excludeTypes:["tooltip"]});return s===null||s==="cancelled"?null:s},{hideOnChange:!0}),ux]};async function Nh({view:e,pos:n,excludeTypes:i}){var x;let o=ur.findElement(e.dom);if(!o)return Ae.error("Failed to find active cell."),null;let s=ur.parse(o.id),{startToken:c,endToken:d}=Ih(e.state.doc,n),p=((x=e.state.field(Ru,!1))==null?void 0:x.ranges.some(w=>n>=w.from&&n<=w.to))??!1,h=await Zu.request({document:e.state.doc.slice(0,d).toString(),cellId:s});if(!h)return"cancelled";let b=e.state.doc.slice(c,d).toString();return dd.asHoverTooltip({position:d,message:h,exactName:b,excludeTypes:i,showGoToDefinitionHint:p})??null}function Ih(e,n){let i=n,o=n;for(;i>0;){let s=e.sliceString(i-1,i);if(!/\w/.test(s))break;i--}for(;o<e.length;){let s=e.sliceString(o,o+1);if(!/\w/.test(s))break;o++}return{startToken:i,endToken:o}}function lx(e){let{head:n}=e.selection.main,i=e.doc.sliceString(n-1,n);return/\w/.test(i)}var cx=zb(async(e,n)=>{if(st.get(Nu).selectedPanel!=="documentation")return;let i=await Nh({view:e,pos:n});i!=="cancelled"&&st.set(n2,{documentation:(i==null?void 0:i.html)??null})},300),ux=Zt.updateListener.of(e=>{if(e.selectionSet&&lx(e.state)){let n=e.state.selection.main.head;cx(e.view,n)}});function Ah(e,n){e.focus(),requestAnimationFrame(()=>{e.dispatch({selection:{anchor:n,head:n},effects:Zt.scrollIntoView(n,{y:"center"})})})}Ou=function(e,n){let{state:i}=e,o=Yb(i),s=!1,c=0;return o.iterate({enter:d=>{if(s)return!1;if(d.name==="VariableName"&&i.doc.sliceString(d.from,d.to)===n)return c=d.from,s=!0,!1;if(d.name==="Comment"||d.name==="String")return!1}}),s?(Ah(e,c),!0):!1};function dx(e,n){return Ah(e,e.state.doc.line(n).from),!0}function fx(e){let{from:n,to:i}=e.selection.main;if(n===i){let{startToken:o,endToken:s}=Ih(e.doc,n);return e.doc.sliceString(o,s)}return e.doc.sliceString(n,i)}function px(e,n){if(!n)return null;let i=e[n];return!i||i.declaredBy.length===0?null:i.declaredBy[0]}function mx(e){return e.startsWith("_")}um=function(e){let{state:n}=e,i=fx(n);return i?(a2(e),e.dispatch({effects:OT}),sm(e,i)):!1},sm=function(e,n){let i=hx(e,n);return i?Ou(i,n):!1},$2=function(e,n){let i=jh(e);return i?dx(i,n):!1};function hx(e,n){if(mx(n))return e;let i=px(st.get(ga),n);return i?jh(i):null}function jh(e){var n;return((n=st.get(ft).cellHandles[e].current)==null?void 0:n.editorView)??null}function gx(e){var n=e.Pos;function i(u,m,y){if(m.line===y.line&&m.ch>=y.ch-1){var v=u.getLine(m.line).charCodeAt(m.ch);55296<=v&&v<=55551&&(y.ch+=1)}return{start:m,end:y}}var o=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"g<Up>",type:"keyToKey",toKeys:"gk"},{keys:"g<Down>",type:"keyToKey",toKeys:"gj"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h"},{keys:"<Del>",type:"keyToKey",toKeys:"x"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"keyToKey",toKeys:"i",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"g$",type:"motion",motion:"moveToEndOfDisplayLine"},{keys:"g^",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"g0",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<register>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<register>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"gn",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!0}},{keys:"gN",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!1}},{keys:"gq",type:"operator",operator:"hardWrap"},{keys:"gw",type:"operator",operator:"hardWrap",operatorArgs:{keepCursor:!0}},{keys:"g?",type:"operator",operator:"rot13"},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-u>",type:"operatorMotion",operator:"delete",motion:"moveToStartOfLine",context:"insert"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<register>",type:"action",action:"replayMacro"},{keys:"q<register>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<register>",type:"action",action:"setMark"},{keys:'"<register>',type:"action",action:"setRegister"},{keys:"<C-r><register>",type:"action",action:"insertRegister",context:"insert",isEdit:!0},{keys:"<C-o>",type:"action",action:"oneNormalCommand",context:"insert"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<register>",type:"motion",motion:"textObjectManipulation"},{keys:"i<register>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],s=Object.create(null),c=o.length,d=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"omap",shortName:"om"},{name:"noremap",shortName:"no"},{name:"nnoremap",shortName:"nn"},{name:"vnoremap",shortName:"vn"},{name:"inoremap",shortName:"ino"},{name:"onoremap",shortName:"ono"},{name:"unmap"},{name:"mapclear",shortName:"mapc"},{name:"nmapclear",shortName:"nmapc"},{name:"vmapclear",shortName:"vmapc"},{name:"imapclear",shortName:"imapc"},{name:"omapclear",shortName:"omapc"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"startinsert",shortName:"start"},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"marks",excludeFromCommandHistory:!0},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"delete",shortName:"d"},{name:"join",shortName:"j"},{name:"normal",shortName:"norm"},{name:"global",shortName:"g"}],p=gn("");function h(u){u.setOption("disableInput",!0),u.setOption("showCursorWhenSelecting",!1),e.signal(u,"vim-mode-change",{mode:"normal"}),u.on("cursorActivity",Is),oe(u),e.on(u.getInputField(),"paste",x(u))}function b(u){u.setOption("disableInput",!1),u.off("cursorActivity",Is),e.off(u.getInputField(),"paste",x(u)),u.state.vim=null,Wi&&clearTimeout(Wi)}function x(u){var m=u.state.vim;return m.onPasteFn||(m.onPasteFn=function(){m.insertMode||(u.setCursor(Ct(u.getCursor(),0,1)),Vt.enterInsertMode(u,{},m))}),m.onPasteFn}var w=/[\d]/,S=[e.isWordChar,function(u){return u&&!e.isWordChar(u)&&!/\s/.test(u)}],E=[function(u){return/\S/.test(u)}],D=["<",">"],M=["-",'"',".",":","_","/","+"],F=/^\w$/,J=/^[A-Z]$/;try{J=RegExp("^[\\p{Lu}]$","u")}catch{}function K(u,m){return m>=u.firstLine()&&m<=u.lastLine()}function V(u){return/^[a-z]$/.test(u)}function ce(u){return"()[]{}".indexOf(u)!=-1}function he(u){return w.test(u)}function B(u){return J.test(u)}function W(u){return/^\s*$/.test(u)}function ue(u){return".?!".indexOf(u)!=-1}function be(u,m){for(var y=0;y<m.length;y++)if(m[y]==u)return!0;return!1}var ye={};function xe(u,m,y,v,_){if(m===void 0&&!_)throw Error("defaultValue is required unless callback is provided");if(y||(y="string"),ye[u]={type:y,defaultValue:m,callback:_},v)for(var k=0;k<v.length;k++)ye[v[k]]=ye[u];m&&X(u,m)}function X(u,m,y,v){var _=ye[u];v||(v={});var k=v.scope;if(!_)return Error("Unknown option: "+u);if(_.type=="boolean"){if(m&&m!==!0)return Error("Invalid argument: "+u+"="+m);m!==!1&&(m=!0)}_.callback?(k!=="local"&&_.callback(m,void 0),k!=="global"&&y&&_.callback(m,y)):(k!=="local"&&(_.value=_.type=="boolean"?!!m:m),k!=="global"&&y&&(y.state.vim.options[u]={value:m}))}function _e(u,m,y){var v=ye[u];y||(y={});var _=y.scope;if(!v)return Error("Unknown option: "+u);if(v.callback){let k=m&&v.callback(void 0,m);return _!=="global"&&k!==void 0?k:_==="local"?void 0:v.callback()}else return(_!=="global"&&m&&m.state.vim.options[u]||_!=="local"&&v||{}).value}xe("filetype",void 0,"string",["ft"],function(u,m){if(m!==void 0)if(u===void 0){let y=m.getOption("mode");return y=="null"?"":y}else{let y=u==""?"null":u;m.setOption("mode",y)}}),xe("textwidth",80,"number",["tw"],function(u,m){if(m!==void 0){if(u===void 0)return m.getOption("textwidth");var y=Math.round(u);y>1&&m.setOption("textwidth",y)}});var Se=function(){var u=100,m=-1,y=0,v=0,_=Array(u);function k(L,A,N){var re=_[m%u];function ee(Q){var ve=++m%u,we=_[ve];we&&we.clear(),_[ve]=L.setBookmark(Q)}if(re){var U=re.find();U&&!$t(U,A)&&ee(A)}else ee(A);ee(N),y=m,v=m-u+1,v<0&&(v=0)}function T(L,A){m+=A,m>y?m=y:m<v&&(m=v);var N=_[(u+m)%u];if(N&&!N.find()){var re=A>0?1:-1,ee,U=L.getCursor();do if(m+=re,N=_[(u+m)%u],N&&(ee=N.find())&&!$t(U,ee))break;while(m<y&&m>v)}return N}function O(L,A){var N=m,re=T(L,A);return m=N,re&&re.find()}return{cachedCursor:void 0,add:k,find:O,move:T}},ae=function(u){return u?{changes:u.changes,expectCursorActivityForChange:u.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};class ne{constructor(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=ae()}exitMacroRecordMode(){var m=$.macroModeState;m.onRecordingDone&&m.onRecordingDone(),m.onRecordingDone=void 0,m.isRecording=!1}enterMacroRecordMode(m,y){var v=$.registerController.getRegister(y);if(v){if(v.clear(),this.latestRegister=y,m.openDialog){var _=nr("span",{class:"cm-vim-message"},"recording @"+y);this.onRecordingDone=m.openDialog(_,function(){},{bottom:!0})}this.isRecording=!0}}}function oe(u){return u.state.vim||(u.state.vim={inputState:new Yn,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeReturn:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:void 0,sel:{anchor:new n(0,0),head:new n(0,0)},options:{},expectLiteralNext:!1,status:""}),u.state.vim}var $;function Ne(){for(var u in $={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:Se(),macroModeState:new ne,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new In({}),searchHistoryController:new Mr,exCommandHistoryController:new Mr},ye){var m=ye[u];m.value=m.defaultValue}}class Qe{constructor(m,y){this.keyName=m,this.key=y.key,this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.metaKey=y.metaKey,this.shiftKey=y.shiftKey}}var ut,Fe={enterVimMode:h,leaveVimMode:b,buildKeyMap:function(){},getRegisterController:function(){return $.registerController},resetVimGlobalState_:Ne,getVimGlobalState_:function(){return $},maybeInitVimState_:oe,suppressErrorLogging:!1,InsertModeKey:Qe,map:function(u,m,y){Qt.map(u,m,y)},unmap:function(u,m){return Qt.unmap(u,m)},noremap:function(u,m,y){Qt.map(u,m,y,!0)},mapclear:function(u){var m=o.length,y=c,v=o.slice(0,m-y);if(o=o.slice(m-y),u)for(var _=v.length-1;_>=0;_--){var k=v[_];if(u!==k.context)if(k.context)this._mapCommand(k);else{var T=["normal","insert","visual"];for(var O in T)if(T[O]!==u){var L=Object.assign({},k);L.context=T[O],this._mapCommand(L)}}}},langmap:gt,vimKeyFromEvent:tn,setOption:X,getOption:_e,defineOption:xe,defineEx:function(u,m,y){if(!m)m=u;else if(u.indexOf(m)!==0)throw Error('(Vim.defineEx) "'+m+'" is not a prefix of "'+u+'", command not registered');No[u]=y,Qt.commandMap_[m]={name:u,shortName:m,type:"api"}},handleKey:function(u,m,y){var v=this.findKey(u,m,y);if(typeof v=="function")return v()},multiSelectHandleKey:qa,findKey:function(u,m,y){var v=oe(u),_=u;function k(){var N=$.macroModeState;if(N.isRecording){if(m=="q")return N.exitMacroRecordMode(),kt(_),!0;y!="mapping"&&Na(N,m)}}function T(){if(m=="<Esc>"){if(v.visualMode)Je(_);else if(v.insertMode)Ar(_);else return;return kt(_),!0}}function O(){if(T())return!0;v.inputState.keyBuffer.push(m);var N=v.inputState.keyBuffer.join(""),re=m.length==1,ee=An.matchCommand(N,o,v.inputState,"insert"),U=v.inputState.changeQueue;if(ee.type=="none")return kt(_),!1;if(ee.type=="partial"){if(ee.expectLiteralNext&&(v.expectLiteralNext=!0),ut&&window.clearTimeout(ut),ut=re&&window.setTimeout(function(){v.insertMode&&v.inputState.keyBuffer.length&&kt(_)},_e("insertModeEscKeysTimeout")),re){var Q=_.listSelections();(!U||U.removed.length!=Q.length)&&(U=v.inputState.changeQueue=new ui),U.inserted+=m;for(var ve=0;ve<Q.length;ve++){var we=vt(Q[ve].anchor,Q[ve].head),je=On(Q[ve].anchor,Q[ve].head),Ce=_.getRange(we,_.state.overwrite?Ct(je,0,1):je);U.removed[ve]=(U.removed[ve]||"")+Ce}}return!re}else ee.type=="full"&&(v.inputState.keyBuffer.length=0);if(v.expectLiteralNext=!1,ut&&window.clearTimeout(ut),ee.command&&U){for(var Q=_.listSelections(),ve=0;ve<Q.length;ve++){var Ie=Q[ve].head;_.replaceRange(U.removed[ve]||"",Ct(Ie,0,-U.inserted.length),Ie,"+input")}$.macroModeState.lastInsertModeChanges.changes.pop()}return ee.command||kt(_),ee.command}function L(){if(k()||T())return!0;v.inputState.keyBuffer.push(m);var N=v.inputState.keyBuffer.join("");if(/^[1-9]\d*$/.test(N))return!0;var re=/^(\d*)(.*)$/.exec(N);if(!re)return kt(_),!1;var ee=v.visualMode?"visual":"normal",U=re[2]||re[1];v.inputState.operatorShortcut&&v.inputState.operatorShortcut.slice(-1)==U&&(U=v.inputState.operatorShortcut);var Q=An.matchCommand(U,o,v.inputState,ee);return Q.type=="none"?(kt(_),!1):Q.type=="partial"?(Q.expectLiteralNext&&(v.expectLiteralNext=!0),!0):Q.type=="clear"?(kt(_),!0):(v.expectLiteralNext=!1,v.inputState.keyBuffer.length=0,re=/^(\d*)(.*)$/.exec(N),re&&re[1]&&re[1]!="0"&&v.inputState.pushRepeatDigit(re[1]),Q.command)}var A=v.insertMode?O():L();if(A===!1)return!v.insertMode&&(m.length===1||e.isMac&&/<A-.>/.test(m))?function(){return!0}:void 0;if(A===!0)return function(){return!0};if(A)return function(){return _.operation(function(){_.curOp.isVimOp=!0;try{if(typeof A!="object")return;A.type=="keyToKey"?At(_,A.toKeys,A):An.processCommand(_,v,A)}catch(N){throw _.state.vim=void 0,oe(_),Fe.suppressErrorLogging||console.log(N),N}return!0})}},handleEx:function(u,m){Qt.processCommand(u,m)},defineMotion:$i,defineAction:Kt,defineOperator:di,mapCommand:jr,_mapCommand:La,defineRegister:vn,exitVisualMode:Je,exitInsertMode:Ar},We=[],Re=!1,Pe;function hn(u){if(!Pe)throw Error("No prompt to send key to");if(u[0]=="<"){var m=u.toLowerCase().slice(1,-1);if(m=m.split("-").pop()||"",m=="lt")u="<";else if(m=="space")u=" ";else if(m=="cr")u=`
`;else if(Ue[m]){var y=Pe.value||"",v={key:Ue[m],target:{value:y,selectionEnd:y.length,selectionStart:y.length}};Pe.onKeyDown&&Pe.onKeyDown(v,Pe.value,k),Pe&&Pe.onKeyUp&&Pe.onKeyUp(v,Pe.value,k);return}}if(u==`
`){var _=Pe;Pe=null,_.onClose&&_.onClose(_.value)}else Pe.value=(Pe.value||"")+u;function k(T){Pe&&(typeof T=="string"?Pe.value=T:Pe=null)}}function At(u,m,y){var v=Re;if(y){if(We.indexOf(y)!=-1)return;We.push(y),Re=y.noremap!=0}try{for(var _=oe(u),k=/<(?:[CSMA]-)*\w+>|./gi,T;T=k.exec(m);){var O=T[0],L=_.insertMode;if(Pe){hn(O);continue}if(!Fe.handleKey(u,O,"mapping")&&L&&_.insertMode){if(O[0]=="<"){var A=O.toLowerCase().slice(1,-1);if(A=A.split("-").pop()||"",A=="lt")O="<";else if(A=="space")O=" ";else if(A=="cr")O=`
`;else if(Ue.hasOwnProperty(A)){O=Ue[A],Cn(u,O);continue}else O=O[0],k.lastIndex=T.index+1}u.replaceSelection(O)}}}finally{if(We.pop(),Re=We.length?v:!1,!We.length&&Pe){var N=Pe;Pe=null,Oa(u,N)}}}var Dn={Return:"CR",Backspace:"BS",Delete:"Del",Escape:"Esc",Insert:"Ins",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"CR"," ":"Space"},sn={Shift:1,Alt:1,Command:1,Control:1,CapsLock:1,AltGraph:1,Dead:1,Unidentified:1},Ue={};"Left|Right|Up|Down|End|Home".split("|").concat(Object.keys(Dn)).forEach(function(u){Ue[(Dn[u]||"").toLowerCase()]=Ue[u.toLowerCase()]=u});function tn(u,m){var k;var y=u.key;if(!sn[y]){y.length>1&&y[0]=="n"&&(y=y.replace("Numpad","")),y=Dn[y]||y;var v="";if(u.ctrlKey&&(v+="C-"),u.altKey&&(v+="A-"),u.metaKey&&(v+="M-"),e.isMac&&v=="A-"&&y.length==1&&(v=v.slice(2)),(v||y.length>1)&&u.shiftKey&&(v+="S-"),m&&!m.expectLiteralNext&&y.length==1){if(p.keymap&&y in p.keymap)(p.remapCtrl!=0||!v)&&(y=p.keymap[y]);else if(y.charCodeAt(0)>128&&!s[y]){var _=((k=u.code)==null?void 0:k.slice(-1))||"";u.shiftKey||(_=_.toLowerCase()),_&&(y=_,!v&&u.altKey&&(v="A-"))}}return v+=y,v.length>1&&(v="<"+v+">"),v}}function gt(u,m){p.string!==u&&(p=gn(u)),p.remapCtrl=m}function gn(u){let m={};if(!u)return{keymap:m,string:""};function y(v){return v.split(/\\?(.)/).filter(Boolean)}return u.split(/((?:[^\\,]|\\.)+),/).map(v=>{if(!v)return;let _=v.split(/((?:[^\\;]|\\.)+);/);if(_.length==3){let k=y(_[1]),T=y(_[2]);if(k.length!==T.length)return;for(let O=0;O<k.length;++O)m[k[O]]=T[O]}else if(_.length==1){let k=y(v);if(k.length%2!=0)return;for(let T=0;T<k.length;T+=2)m[k[T]]=k[T+1]}}),{keymap:m,string:u}}xe("langmap",void 0,"string",["lmap"],function(u,m){if(u===void 0)return p.string;gt(u)});class Yn{constructor(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=void 0,this.changeQueue=null}pushRepeatDigit(m){this.operator?this.motionRepeat=this.motionRepeat.concat(m):this.prefixRepeat=this.prefixRepeat.concat(m)}getRepeat(){var m=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(m=1,this.prefixRepeat.length>0&&(m*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(m*=parseInt(this.motionRepeat.join(""),10))),m}}function kt(u,m){u.state.vim.inputState=new Yn,u.state.vim.expectLiteralNext=!1,e.signal(u,"vim-command-done",m)}function ui(){this.removed=[],this.inserted=""}class yn{constructor(m,y,v){this.clear(),this.keyBuffer=[m||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!y,this.blockwise=!!v}setText(m,y,v){this.keyBuffer=[m||""],this.linewise=!!y,this.blockwise=!!v}pushText(m,y){y&&(this.linewise||this.keyBuffer.push(`
`),this.linewise=!0),this.keyBuffer.push(m)}pushInsertModeChanges(m){this.insertModeChanges.push(ae(m))}pushSearchQuery(m){this.searchQueries.push(m)}clear(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1}toString(){return this.keyBuffer.join("")}}function vn(u,m){var y=$.registerController.registers;if(!u||u.length!=1)throw Error("Register name must be 1 character");if(y[u])throw Error("Register already defined "+u);y[u]=m,M.push(u)}class In{constructor(m){this.registers=m,this.unnamedRegister=m['"']=new yn,m["."]=new yn,m[":"]=new yn,m["/"]=new yn,m["+"]=new yn}pushText(m,y,v,_,k){if(m!=="_"){_&&v.charAt(v.length-1)!==`
`&&(v+=`
`);var T=this.isValidRegister(m)?this.getRegister(m):null;if(!T||!m){switch(y){case"yank":this.registers[0]=new yn(v,_,k);break;case"delete":case"change":v.indexOf(`
`)==-1?this.registers["-"]=new yn(v,_):(this.shiftNumericRegisters_(),this.registers[1]=new yn(v,_));break}this.unnamedRegister.setText(v,_,k);return}B(m)?T.pushText(v,_):T.setText(v,_,k),m==="+"&&navigator.clipboard.writeText(v),this.unnamedRegister.setText(T.toString(),_)}}getRegister(m){return this.isValidRegister(m)?(m=m.toLowerCase(),this.registers[m]||(this.registers[m]=new yn),this.registers[m]):this.unnamedRegister}isValidRegister(m){return m&&(be(m,M)||F.test(m))}shiftNumericRegisters_(){for(var m=9;m>=2;m--)this.registers[m]=this.getRegister(""+(m-1))}}class Mr{constructor(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}nextMatch(m,y){var v=this.historyBuffer,_=y?-1:1;this.initialPrefix===null&&(this.initialPrefix=m);for(var k=this.iterator+_;y?k>=0:k<v.length;k+=_)for(var T=v[k],O=0;O<=T.length;O++)if(this.initialPrefix==T.substring(0,O))return this.iterator=k,T;if(k>=v.length)return this.iterator=v.length,this.initialPrefix;if(k<0)return m}pushInput(m){var y=this.historyBuffer.indexOf(m);y>-1&&this.historyBuffer.splice(y,1),m.length&&this.historyBuffer.push(m)}reset(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}}var An={matchCommand:function(u,m,y,v){var _=fi(u,m,v,y),k=_.full[0];if(!k)return _.partial.length?{type:"partial",expectLiteralNext:_.partial.length==1&&_.partial[0].keys.slice(-11)=="<character>"}:{type:"none"};if(k.keys.slice(-11)=="<character>"||k.keys.slice(-10)=="<register>"){var T=Ir(u);if(!T||T.length>1)return{type:"clear"};y.selectedCharacter=T}return{type:"full",command:k}},processCommand:function(u,m,y){switch(m.inputState.repeatOverride=y.repeatOverride,y.type){case"motion":this.processMotion(u,m,y);break;case"operator":this.processOperator(u,m,y);break;case"operatorMotion":this.processOperatorMotion(u,m,y);break;case"action":this.processAction(u,m,y);break;case"search":this.processSearch(u,m,y);break;case"ex":case"keyToEx":this.processEx(u,m,y);break}},processMotion:function(u,m,y){m.inputState.motion=y.motion,m.inputState.motionArgs=Ft(y.motionArgs),this.evalInput(u,m)},processOperator:function(u,m,y){var v=m.inputState;if(v.operator)if(v.operator==y.operator){v.motion="expandToLine",v.motionArgs={linewise:!0,repeat:1},this.evalInput(u,m);return}else kt(u);v.operator=y.operator,v.operatorArgs=Ft(y.operatorArgs),y.keys.length>1&&(v.operatorShortcut=y.keys),y.exitVisualBlock&&(m.visualBlock=!1,bt(u)),m.visualMode&&this.evalInput(u,m)},processOperatorMotion:function(u,m,y){var v=m.visualMode,_=Ft(y.operatorMotionArgs);_&&v&&_.visualLine&&(m.visualLine=!0),this.processOperator(u,m,y),v||this.processMotion(u,m,y)},processAction:function(u,m,y){var v=m.inputState,_=v.getRepeat(),k=!!_,T=Ft(y.actionArgs)||{repeat:1};v.selectedCharacter&&(T.selectedCharacter=v.selectedCharacter),y.operator&&this.processOperator(u,m,y),y.motion&&this.processMotion(u,m,y),(y.motion||y.operator)&&this.evalInput(u,m),T.repeat=_||1,T.repeatIsExplicit=k,T.registerName=v.registerName,kt(u),m.lastMotion=null,y.isEdit&&this.recordLastEdit(m,v,y),Vt[y.action](u,T,m)},processSearch:function(u,m,y){if(!u.getSearchCursor)return;var v=y.searchArgs.forward,_=y.searchArgs.wholeWordOnly;bn(u).setReversed(!v);var k=v?"/":"?",T=bn(u).getQuery(),O=u.getScrollInfo(),L="";function A(Ce,Ie,ct){$.searchHistoryController.pushInput(Ce),$.searchHistoryController.reset();try{hr(u,Ce,Ie,ct)}catch{$e(u,"Invalid regex: "+Ce),kt(u);return}An.processMotion(u,m,{keys:"",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:y.searchArgs.toJumplist}})}function N(Ce){u.scrollTo(O.left,O.top),A(Ce,!0,!0);var Ie=$.macroModeState;Ie.isRecording&&Ns(Ie,Ce)}function re(){return _e("pcre")?"(JavaScript regexp: set pcre)":"(Vim regexp: set nopcre)"}function ee(Ce,Ie,ct){var Xe=tn(Ce),Ot,Pt;Xe=="<Up>"||Xe=="<Down>"?(Ot=Xe=="<Up>",Pt=Ce.target?Ce.target.selectionEnd:0,Ie=$.searchHistoryController.nextMatch(Ie,Ot)||"",ct(Ie),Pt&&Ce.target&&(Ce.target.selectionEnd=Ce.target.selectionStart=Math.min(Pt,Ce.target.value.length))):Xe&&Xe!="<Left>"&&Xe!="<Right>"&&$.searchHistoryController.reset(),L=Ie,U()}function U(){var Ce;try{Ce=hr(u,L,!0,!0)}catch{}Ce?u.scrollIntoView(uc(u,!v,Ce),30):(hi(u),u.scrollTo(O.left,O.top))}function Q(Ce,Ie,ct){var Xe=tn(Ce);Xe=="<Esc>"||Xe=="<C-c>"||Xe=="<C-[>"||Xe=="<BS>"&&Ie==""?($.searchHistoryController.pushInput(Ie),$.searchHistoryController.reset(),hr(u,(T==null?void 0:T.source)||""),hi(u),u.scrollTo(O.left,O.top),e.e_stop(Ce),kt(u),ct(),u.focus()):Xe=="<Up>"||Xe=="<Down>"?e.e_stop(Ce):Xe=="<C-u>"&&(e.e_stop(Ce),ct(""))}switch(y.searchArgs.querySrc){case"prompt":var ve=$.macroModeState;ve.isPlaying?A(ve.replaySearchQueries.shift()||"",!0,!1):Oa(u,{onClose:N,prefix:k,desc:nr("span",{$cursor:"pointer",onmousedown:function(Ie){Ie.preventDefault(),X("pcre",!_e("pcre")),this.textContent=re(),U()}},re()),onKeyUp:ee,onKeyDown:Q});break;case"wordUnderCursor":var we=ke(u,{noSymbol:!0}),je=!0;if(we||(we=ke(u,{noSymbol:!1}),je=!1),!we){$e(u,"No word under cursor"),kt(u);return}let Ce=u.getLine(we.start.line).substring(we.start.ch,we.end.ch);Ce=je&&_?"\\b"+Ce+"\\b":Qr(Ce),$.jumpList.cachedCursor=u.getCursor(),u.setCursor(we.start),A(Ce,!0,!1);break}},processEx:function(u,m,y){function v(O){$.exCommandHistoryController.pushInput(O),$.exCommandHistoryController.reset(),Qt.processCommand(u,O),u.state.vim&&kt(u),hi(u)}function _(O,L,A){var N=tn(O),re,ee;(N=="<Esc>"||N=="<C-c>"||N=="<C-[>"||N=="<BS>"&&L=="")&&($.exCommandHistoryController.pushInput(L),$.exCommandHistoryController.reset(),e.e_stop(O),kt(u),hi(u),A(),u.focus()),N=="<Up>"||N=="<Down>"?(e.e_stop(O),re=N=="<Up>",ee=O.target?O.target.selectionEnd:0,L=$.exCommandHistoryController.nextMatch(L,re)||"",A(L),ee&&O.target&&(O.target.selectionEnd=O.target.selectionStart=Math.min(ee,O.target.value.length))):N=="<C-u>"?(e.e_stop(O),A("")):N&&N!="<Left>"&&N!="<Right>"&&$.exCommandHistoryController.reset()}function k(O,L){var A=new e.StringStream(L),N={};try{if(Qt.parseInput_(u,A,N),N.commandName!="s"){hi(u);return}var re=Qt.matchCommand_(N.commandName);if(!re||(Qt.parseCommandArgs_(A,N,re),!N.argString))return;var ee=Da(N.argString.slice(1),!0,!0);ee&&Jr(u,ee)}catch{}}if(y.type=="keyToEx")Qt.processCommand(u,y.exArgs.input);else{var T={onClose:v,onKeyDown:_,onKeyUp:k,prefix:":"};m.visualMode&&(T.value="'<,'>",T.selectValueOnOpen=!1),Oa(u,T)}},evalInput:function(u,m){var y=m.inputState,v=y.motion,_=y.motionArgs||{repeat:1},k=y.operator,T=y.operatorArgs||{},O=y.registerName,L=m.sel,A=Ge(m.visualMode?yt(u,L.head):u.getCursor("head")),N=Ge(m.visualMode?yt(u,L.anchor):u.getCursor("anchor")),re=Ge(A),ee=Ge(N),U,Q,ve;if(k&&this.recordLastEdit(m,y),ve=y.repeatOverride===void 0?y.getRepeat():y.repeatOverride,ve>0&&_.explicitRepeat?_.repeatIsExplicit=!0:(_.noRepeat||!_.explicitRepeat&&ve===0)&&(ve=1,_.repeatIsExplicit=!1),y.selectedCharacter&&(_.selectedCharacter=T.selectedCharacter=y.selectedCharacter),_.repeat=ve,kt(u),v){var we=nn[v](u,A,_,m,y);if(m.lastMotion=nn[v],!we)return;if(_.toJumplist){var je=$.jumpList,Ce=je.cachedCursor;Ce?(tt(u,Ce,we),delete je.cachedCursor):tt(u,A,we)}we instanceof Array?(Q=we[0],U=we[1]):U=we,U||(U=Ge(A)),m.visualMode?(m.visualBlock&&U.ch===1/0||(U=yt(u,U,re)),Q&&(Q=yt(u,Q)),Q||(Q=ee),L.anchor=Q,L.head=U,bt(u),pr(u,m,"<",lt(Q,U)?Q:U),pr(u,m,">",lt(Q,U)?U:Q)):k||(U=yt(u,U,re),u.setCursor(U.line,U.ch))}if(k){if(T.lastSel){Q=ee;var Ie=T.lastSel,ct=Math.abs(Ie.head.line-Ie.anchor.line),Xe=Math.abs(Ie.head.ch-Ie.anchor.ch);U=Ie.visualLine?new n(ee.line+ct,ee.ch):Ie.visualBlock?new n(ee.line+ct,ee.ch+Xe):Ie.head.line==Ie.anchor.line?new n(ee.line,ee.ch+Xe):new n(ee.line+ct,ee.ch),m.visualMode=!0,m.visualLine=Ie.visualLine,m.visualBlock=Ie.visualBlock,L=m.sel={anchor:Q,head:U},bt(u)}else m.visualMode&&(T.lastSel={anchor:Ge(L.anchor),head:Ge(L.head),visualBlock:m.visualBlock,visualLine:m.visualLine});var Ot,Pt,ze,Ke,Gt;if(m.visualMode){Ot=vt(L.head,L.anchor),Pt=On(L.head,L.anchor),ze=m.visualLine||T.linewise,Ke=m.visualBlock?"block":ze?"line":"char";var Jt=i(u,Ot,Pt);if(Gt=jt(u,{anchor:Jt.start,head:Jt.end},Ke),ze){var ln=Gt.ranges;if(Ke=="block")for(var za=0;za<ln.length;za++)ln[za].head.ch=St(u,ln[za].head.line);else Ke=="line"&&(ln[0].head=new n(ln[0].head.line+1,0))}}else{if(Ot=Ge(Q||ee),Pt=Ge(U||re),lt(Pt,Ot)){var pc=Ot;Ot=Pt,Pt=pc}ze=_.linewise||T.linewise,ze?Y(u,Ot,Pt):_.forward&&I(u,Ot,Pt),Ke="char";var Qi=!_.inclusive||ze,Jt=i(u,Ot,Pt);Gt=jt(u,{anchor:Jt.start,head:Jt.end},Ke,Qi)}u.setSelections(Gt.ranges,Gt.primary),m.lastMotion=null,T.repeat=ve,T.registerName=O,T.linewise=ze;var js=Nr[k](u,T,Gt.ranges,ee,U);m.visualMode&&Je(u,js!=null),js&&u.setCursor(js)}},recordLastEdit:function(u,m,y){var v=$.macroModeState;v.isPlaying||(u.lastEditInputState=m,u.lastEditActionCommand=y,v.lastInsertModeChanges.changes=[],v.lastInsertModeChanges.expectCursorActivityForChange=!1,v.lastInsertModeChanges.visualBlock=u.visualBlock?u.sel.head.line-u.sel.anchor.line:0)}},nn={moveToTopLine:function(u,m,y){var v=Ps(u).top+y.repeat-1;return new n(v,me(u.getLine(v)))},moveToMiddleLine:function(u){var m=Ps(u),y=Math.floor((m.top+m.bottom)*.5);return new n(y,me(u.getLine(y)))},moveToBottomLine:function(u,m,y){var v=Ps(u).bottom-y.repeat+1;return new n(v,me(u.getLine(v)))},expandToLine:function(u,m,y){return new n(m.line+y.repeat-1,1/0)},findNext:function(u,m,y){var v=bn(u),_=v.getQuery();if(_){var k=!y.forward;k=v.isReversed()?!k:k,Jr(u,_);var T=uc(u,k,_,y.repeat);return T||$e(u,"No match found "+_+(_e("pcre")?" (set nopcre to use Vim regexps)":"")),T}},findAndSelectNextInclusive:function(u,m,y,v,_){var k=bn(u),T=k.getQuery();if(T){var O=!y.forward;O=k.isReversed()?!O:O;var L=dc(u,O,T,y.repeat,v);if(L){if(_.operator)return L;var A=L[0],N=new n(L[1].line,L[1].ch-1);if(v.visualMode){(v.visualLine||v.visualBlock)&&(v.visualLine=!1,v.visualBlock=!1,e.signal(u,"vim-mode-change",{mode:"visual",subMode:""}));var re=v.sel.anchor;if(re)return k.isReversed()?y.forward?[re,A]:[re,N]:y.forward?[re,N]:[re,A]}else v.visualMode=!0,v.visualLine=!1,v.visualBlock=!1,e.signal(u,"vim-mode-change",{mode:"visual",subMode:""});return O?[N,A]:[A,N]}}},goToMark:function(u,m,y,v){var _=Mo(u,v,y.selectedCharacter||"");return _?y.linewise?{line:_.line,ch:me(u.getLine(_.line))}:_:null},moveToOtherHighlightedEnd:function(u,m,y,v){var _=v.sel;return v.visualBlock&&y.sameLine?[yt(u,new n(_.anchor.line,_.head.ch)),yt(u,new n(_.head.line,_.anchor.ch))]:[_.head,_.anchor]},jumpToMark:function(u,m,y,v){for(var _=m,k=0;k<y.repeat;k++){var T=_;for(var O in v.marks)if(V(O)){var L=v.marks[O].find();if(!(y.forward?lt(L,T):lt(T,L))&&!(y.linewise&&L.line==T.line)){var A=$t(T,_),N=y.forward?Kr(T,L,_):Kr(_,L,T);(A||N)&&(_=L)}}}return y.linewise&&(_=new n(_.line,me(u.getLine(_.line)))),_},moveByCharacters:function(u,m,y){var v=m,_=y.repeat,k=y.forward?v.ch+_:v.ch-_;return new n(v.line,k)},moveByLines:function(u,m,y,v){var _=m,k=_.ch;switch(v.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:k=v.lastHPos;break;default:v.lastHPos=k}var T=y.repeat+(y.repeatOffset||0),O=y.forward?_.line+T:_.line-T,L=u.firstLine(),A=u.lastLine(),N=u.findPosV(_,y.forward?T:-T,"line",v.lastHSPos);return(y.forward?N.line>O:N.line<O)&&(O=N.line,k=N.ch),O<L&&_.line==L?this.moveToStartOfLine(u,m,y,v):O>A&&_.line==A?Ht(u,m,y,v,!0):(y.toFirstChar&&(k=me(u.getLine(O)),v.lastHPos=k),v.lastHSPos=u.charCoords(new n(O,k),"div").left,new n(O,k))},moveByDisplayLines:function(u,m,y,v){var _=m;switch(v.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:v.lastHSPos=u.charCoords(_,"div").left}var k=y.repeat,T=u.findPosV(_,y.forward?k:-k,"line",v.lastHSPos);if(T.hitSide)if(y.forward){var O={top:u.charCoords(T,"div").top+8,left:v.lastHSPos};T=u.coordsChar(O,"div")}else{var L=u.charCoords(new n(u.firstLine(),0),"div");L.left=v.lastHSPos,T=u.coordsChar(L,"div")}return v.lastHPos=T.ch,T},moveByPage:function(u,m,y){var v=m,_=y.repeat;return u.findPosV(v,y.forward?_:-_,"page")},moveByParagraph:function(u,m,y){var v=y.forward?1:-1;return ac(u,m,y.repeat,v).start},moveBySentence:function(u,m,y){var v=y.forward?1:-1;return Lo(u,m,y.repeat,v)},moveByScroll:function(u,m,y,v){var _=u.getScrollInfo(),k=null,T=y.repeat;T||(T=_.clientHeight/(2*u.defaultTextHeight()));var O=u.charCoords(m,"local");if(y.repeat=T,k=nn.moveByDisplayLines(u,m,y,v),!k)return null;var L=u.charCoords(k,"local");return u.scrollTo(null,_.top+L.top-O.top),k},moveByWords:function(u,m,y){return ht(u,m,y.repeat,!!y.forward,!!y.wordEnd,!!y.bigWord)},moveTillCharacter:function(u,m,y){var v=y.repeat,_=tr(u,v,y.forward,y.selectedCharacter,m),k=y.forward?-1:1;return it(k,y),_?(_.ch+=k,_):null},moveToCharacter:function(u,m,y){var v=y.repeat;return it(0,y),tr(u,v,y.forward,y.selectedCharacter,m)||m},moveToSymbol:function(u,m,y){var v=y.repeat;return y.selectedCharacter&&Ve(u,v,y.forward,y.selectedCharacter)||m},moveToColumn:function(u,m,y,v){var _=y.repeat;return v.lastHPos=_-1,v.lastHSPos=u.charCoords(m,"div").left,xs(u,_)},moveToEol:function(u,m,y,v){return Ht(u,m,y,v,!1)},moveToFirstNonWhiteSpaceCharacter:function(u,m){var y=m;return new n(y.line,me(u.getLine(y.line)))},moveToMatchedSymbol:function(u,m){for(var y=m,v=y.line,_=y.ch,k=u.getLine(v),T;_<k.length;_++)if(T=k.charAt(_),T&&ce(T)){var O=u.getTokenTypeAt(new n(v,_+1));if(O!=="string"&&O!=="comment")break}if(_<k.length){var L=T==="<"||T===">"?/[(){}[\]<>]/:/[(){}[\]]/;return u.findMatchingBracket(new n(v,_),{bracketRegex:L}).to}else return y},moveToStartOfLine:function(u,m){return new n(m.line,0)},moveToLineOrEdgeOfDocument:function(u,m,y){var v=y.forward?u.lastLine():u.firstLine();return y.repeatIsExplicit&&(v=y.repeat-u.getOption("firstLineNumber")),new n(v,me(u.getLine(v)))},moveToStartOfDisplayLine:function(u){return u.execCommand("goLineLeft"),u.getCursor()},moveToEndOfDisplayLine:function(u){u.execCommand("goLineRight");var m=u.getCursor();return m.sticky=="before"&&m.ch--,m},textObjectManipulation:function(u,m,y,v){var _={"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"},k={"'":!0,'"':!0,"`":!0},T=y.selectedCharacter||"";T=="b"?T="(":T=="B"&&(T="{");var O=!y.textObjectInner,L,A;if(_[T]){if(A=!0,L=mr(u,m,T,O),!L){var N=u.getSearchCursor(RegExp("\\"+T,"g"),m);N.find()&&(L=mr(u,N.from(),T,O))}}else if(k[T])A=!0,L=ks(u,m,T,O);else if(T==="W"||T==="w")for(var re=y.repeat||1;re-- >0;){var ee=ke(u,{inclusive:O,innerWord:!O,bigWord:T==="W",noSymbol:T==="W",multiline:!0},L&&L.end);ee&&(L||(L=ee),L.end=ee.end)}else if(T==="p")if(L=ac(u,m,y.repeat,0,O),y.linewise=!0,v.visualMode)v.visualLine||(v.visualLine=!0);else{var U=v.inputState.operatorArgs;U&&(U.linewise=!0),L.end.line--}else if(T==="t")L=pt(u,m,O);else if(T==="s"){var Q=u.getLine(m.line);m.ch>0&&ue(Q[m.ch])&&--m.ch;var ve=Ta(u,m,y.repeat,1,O),we=Ta(u,m,y.repeat,-1,O);W(u.getLine(we.line)[we.ch])&&W(u.getLine(ve.line)[ve.ch-1])&&(we={line:we.line,ch:we.ch+1}),L={start:we,end:ve}}return L?u.state.vim.visualMode?Pn(u,L.start,L.end,A):[L.start,L.end]:null},repeatLastCharacterSearch:function(u,m,y){var v=$.lastCharacterSearch,_=y.repeat,k=y.forward===v.forward,T=(v.increment?1:0)*(k?-1:1);u.moveH(-T,"char"),y.inclusive=!!k;var O=tr(u,_,k,v.selectedCharacter);return O?(O.ch+=T,O):(u.moveH(T,"char"),m)}};function $i(u,m){nn[u]=m}function Ur(u,m){for(var y=[],v=0;v<m;v++)y.push(u);return y}var Nr={change:function(u,m,y){var v,_,k=u.state.vim,T=y[0].anchor,O=y[0].head;if(k.visualMode)if(m.fullLine)O.ch=Number.MAX_VALUE,O.line--,u.setSelection(T,O),_=u.getSelection(),u.replaceSelection(""),v=T;else{_=u.getSelection();var L=Ur("",y.length);u.replaceSelections(L),v=vt(y[0].head,y[0].anchor)}else{_=u.getRange(T,O);var A=k.lastEditInputState;if((A==null?void 0:A.motion)=="moveByWords"&&!W(_)){var N=/\s+$/.exec(_);N&&A.motionArgs&&A.motionArgs.forward&&(O=Ct(O,0,-N[0].length),_=_.slice(0,-N[0].length))}m.linewise&&(T=new n(T.line,me(u.getLine(T.line))),O.line>T.line&&(O=new n(O.line-1,Number.MAX_VALUE))),u.replaceRange("",T,O),v=T}$.registerController.pushText(m.registerName,"change",_,m.linewise,y.length>1),Vt.enterInsertMode(u,{head:v},u.state.vim)},delete:function(u,m,y){var v,_,k=u.state.vim;if(k.visualBlock){_=u.getSelection();var T=Ur("",y.length);u.replaceSelections(T),v=vt(y[0].head,y[0].anchor)}else{var O=y[0].anchor,L=y[0].head;m.linewise&&L.line!=u.firstLine()&&O.line==u.lastLine()&&O.line==L.line-1&&(O.line==u.firstLine()?O.ch=0:O=new n(O.line-1,St(u,O.line-1))),_=u.getRange(O,L),u.replaceRange("",O,L),v=O,m.linewise&&(v=nn.moveToFirstNonWhiteSpaceCharacter(u,O))}return $.registerController.pushText(m.registerName,"delete",_,m.linewise,k.visualBlock),yt(u,v)},indent:function(u,m,y){var v=u.state.vim,_=v.visualMode&&m.repeat||1;if(v.visualBlock){for(var k=u.getOption("tabSize"),T=u.getOption("indentWithTabs")?"	":" ".repeat(k),O,L=y.length-1;L>=0;L--)if(O=vt(y[L].anchor,y[L].head),m.indentRight)u.replaceRange(T.repeat(_),O,O);else{for(var A=u.getLine(O.line),N=0,re=0;re<_;re++){var ee=A[O.ch+N];if(ee=="	")N++;else if(ee==" "){N++;for(var U=1;U<T.length&&(ee=A[O.ch+N],ee===" ");U++)N++}else break}u.replaceRange("",O,Ct(O,0,N))}return O}else if(u.indentMore)for(var re=0;re<_;re++)m.indentRight?u.indentMore():u.indentLess();else{var Q=y[0].anchor.line,ve=v.visualBlock?y[y.length-1].anchor.line:y[0].head.line;m.linewise&&ve--;for(var L=Q;L<=ve;L++)for(var re=0;re<_;re++)u.indentLine(L,m.indentRight)}return nn.moveToFirstNonWhiteSpaceCharacter(u,y[0].anchor)},indentAuto:function(u,m,y){return u.execCommand("indentAuto"),nn.moveToFirstNonWhiteSpaceCharacter(u,y[0].anchor)},hardWrap:function(u,m,y,v){if(u.hardWrap){var _=y[0].anchor.line,k=y[0].head.line;m.linewise&&k--;var T=u.hardWrap({from:_,to:k});return T>_&&m.linewise&&T--,m.keepCursor?v:new n(T,0)}},changeCase:function(u,m,y,v,_){for(var k=u.getSelections(),T=[],O=m.toLower,L=0;L<k.length;L++){var A=k[L],N="";if(O===!0)N=A.toLowerCase();else if(O===!1)N=A.toUpperCase();else for(var re=0;re<A.length;re++){var ee=A.charAt(re);N+=B(ee)?ee.toLowerCase():ee.toUpperCase()}T.push(N)}return u.replaceSelections(T),m.shouldMoveCursor?_:!u.state.vim.visualMode&&m.linewise&&y[0].anchor.line+1==y[0].head.line?nn.moveToFirstNonWhiteSpaceCharacter(u,v):m.linewise?v:vt(y[0].anchor,y[0].head)},yank:function(u,m,y,v){var _=u.state.vim,k=u.getSelection(),T=_.visualMode?vt(_.sel.anchor,_.sel.head,y[0].head,y[0].anchor):v;return $.registerController.pushText(m.registerName,"yank",k,m.linewise,_.visualBlock),T},rot13:function(u,m,y,v,_){for(var k=u.getSelections(),T=[],O=0;O<k.length;O++){let L=k[O].split("").map(A=>{let N=A.charCodeAt(0);return N>=65&&N<=90?String.fromCharCode(65+(N-65+13)%26):N>=97&&N<=122?String.fromCharCode(97+(N-97+13)%26):A}).join("");T.push(L)}return u.replaceSelections(T),m.shouldMoveCursor?_:!u.state.vim.visualMode&&m.linewise&&y[0].anchor.line+1==y[0].head.line?nn.moveToFirstNonWhiteSpaceCharacter(u,v):m.linewise?v:vt(y[0].anchor,y[0].head)}};function di(u,m){Nr[u]=m}var Vt={jumpListWalk:function(u,m,y){if(!y.visualMode){var v=m.repeat||1,_=m.forward,k=$.jumpList.move(u,_?v:-v),T=k?k.find():void 0;T||(T=u.getCursor()),u.setCursor(T)}},scroll:function(u,m,y){if(!y.visualMode){var v=m.repeat||1,_=u.defaultTextHeight(),k=u.getScrollInfo().top,T=_*v,O=m.forward?k+T:k-T,L=Ge(u.getCursor()),A=u.charCoords(L,"local");if(m.forward)O>A.top?(L.line+=(O-A.top)/_,L.line=Math.ceil(L.line),u.setCursor(L),A=u.charCoords(L,"local"),u.scrollTo(null,A.top)):u.scrollTo(null,O);else{var N=O+u.getScrollInfo().clientHeight;N<A.bottom?(L.line-=(A.bottom-N)/_,L.line=Math.floor(L.line),u.setCursor(L),A=u.charCoords(L,"local"),u.scrollTo(null,A.bottom-u.getScrollInfo().clientHeight)):u.scrollTo(null,O)}}},scrollToCursor:function(u,m){var y=u.getCursor().line,v=u.charCoords(new n(y,0),"local"),_=u.getScrollInfo().clientHeight,k=v.top;switch(m.position){case"center":k=v.bottom-_/2;break;case"bottom":var T=new n(y,u.getLine(y).length-1),O=u.charCoords(T,"local").bottom-k;k=k-_+O;break}u.scrollTo(null,k)},replayMacro:function(u,m,y){var v=m.selectedCharacter||"",_=m.repeat||1,k=$.macroModeState;for(v=="@"?v=k.latestRegister||"":k.latestRegister=v;_--;)Ms(u,y,k,v)},enterMacroRecordMode:function(u,m){var y=$.macroModeState,v=m.selectedCharacter;$.registerController.isValidRegister(v)&&y.enterMacroRecordMode(u,v)},toggleOverwrite:function(u){u.state.overwrite?(u.toggleOverwrite(!1),u.setOption("keyMap","vim-insert"),e.signal(u,"vim-mode-change",{mode:"insert"})):(u.toggleOverwrite(!0),u.setOption("keyMap","vim-replace"),e.signal(u,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(u,m,y){if(!u.getOption("readOnly")){y.insertMode=!0,y.insertModeRepeat=m&&m.repeat||1;var v=m?m.insertAt:null,_=y.sel,k=m.head||u.getCursor("head"),T=u.listSelections().length;if(v=="eol")k=new n(k.line,St(u,k.line));else if(v=="bol")k=new n(k.line,0);else if(v=="charAfter"){var O=i(u,k,Ct(k,0,1));k=O.end}else if(v=="firstNonBlank"){var O=i(u,k,nn.moveToFirstNonWhiteSpaceCharacter(u,k));k=O.end}else if(v=="startOfSelectedArea"){if(!y.visualMode)return;y.visualBlock?(k=new n(Math.min(_.head.line,_.anchor.line),Math.min(_.head.ch,_.anchor.ch)),T=Math.abs(_.head.line-_.anchor.line)+1):k=_.head.line<_.anchor.line?_.head:new n(_.anchor.line,0)}else if(v=="endOfSelectedArea"){if(!y.visualMode)return;y.visualBlock?(k=new n(Math.min(_.head.line,_.anchor.line),Math.max(_.head.ch,_.anchor.ch)+1),T=Math.abs(_.head.line-_.anchor.line)+1):k=_.head.line>=_.anchor.line?Ct(_.head,0,1):new n(_.anchor.line,0)}else if(v=="inplace"){if(y.visualMode)return}else v=="lastEdit"&&(k=Pa(u)||k);u.setOption("disableInput",!1),m&&m.replace?(u.toggleOverwrite(!0),u.setOption("keyMap","vim-replace"),e.signal(u,"vim-mode-change",{mode:"replace"})):(u.toggleOverwrite(!1),u.setOption("keyMap","vim-insert"),e.signal(u,"vim-mode-change",{mode:"insert"})),$.macroModeState.isPlaying||(u.on("change",Ia),y.insertEnd&&y.insertEnd.clear(),y.insertEnd=u.setBookmark(k,{insertLeft:!0}),e.on(u.getInputField(),"keydown",ja)),y.visualMode&&Je(u),Vn(u,k,T)}},toggleVisualMode:function(u,m,y){var v=m.repeat,_=u.getCursor(),k;if(y.visualMode)y.visualLine!=!!m.linewise||y.visualBlock!=!!m.blockwise?(y.visualLine=!!m.linewise,y.visualBlock=!!m.blockwise,e.signal(u,"vim-mode-change",{mode:"visual",subMode:y.visualLine?"linewise":y.visualBlock?"blockwise":""}),bt(u)):Je(u);else{y.visualMode=!0,y.visualLine=!!m.linewise,y.visualBlock=!!m.blockwise,k=yt(u,new n(_.line,_.ch+v-1));var T=i(u,_,k);y.sel={anchor:T.start,head:T.end},e.signal(u,"vim-mode-change",{mode:"visual",subMode:y.visualLine?"linewise":y.visualBlock?"blockwise":""}),bt(u),pr(u,y,"<",vt(_,k)),pr(u,y,">",On(_,k))}},reselectLastSelection:function(u,m,y){var v=y.lastSelection;if(y.visualMode&&er(u,y),v){var _=v.anchorMark.find(),k=v.headMark.find();if(!_||!k)return;y.sel={anchor:_,head:k},y.visualMode=!0,y.visualLine=v.visualLine,y.visualBlock=v.visualBlock,bt(u),pr(u,y,"<",vt(_,k)),pr(u,y,">",On(_,k)),e.signal(u,"vim-mode-change",{mode:"visual",subMode:y.visualLine?"linewise":y.visualBlock?"blockwise":""})}},joinLines:function(u,m,y){var v,_;if(y.visualMode){if(v=u.getCursor("anchor"),_=u.getCursor("head"),lt(_,v)){var k=_;_=v,v=k}_.ch=St(u,_.line)-1}else{var T=Math.max(m.repeat,2);v=u.getCursor(),_=yt(u,new n(v.line+T-1,1/0))}for(var O=0,L=v.line;L<_.line;L++){O=St(u,v.line);var A="",N=0;if(!m.keepSpaces){var re=u.getLine(v.line+1);N=re.search(/\S/),N==-1?N=re.length:A=" "}u.replaceRange(A,new n(v.line,O),new n(v.line+1,N))}var ee=yt(u,new n(v.line,O));y.visualMode&&Je(u,!1),u.setCursor(ee)},newLineAndEnterInsertMode:function(u,m,y){y.insertMode=!0;var v=Ge(u.getCursor());v.line===u.firstLine()&&!m.after?(u.replaceRange(`
`,new n(u.firstLine(),0)),u.setCursor(u.firstLine(),0)):(v.line=m.after?v.line:v.line-1,v.ch=St(u,v.line),u.setCursor(v),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(u)),this.enterInsertMode(u,{repeat:m.repeat},y)},paste:function(u,m,y){var v=$.registerController.getRegister(m.registerName);if(m.registerName==="+")navigator.clipboard.readText().then(k=>{this.continuePaste(u,m,y,k,v)});else{var _=v.toString();this.continuePaste(u,m,y,_,v)}},continuePaste:function(u,m,y,v,_){var k=Ge(u.getCursor());if(v){if(m.matchIndent){var T=u.getOption("tabSize"),O=function(Gt){var Jt=Gt.split("	").length-1,ln=Gt.split(" ").length-1;return Jt*T+ln*1},L=O(u.getLine(u.getCursor().line).match(/^\s*/)[0]),A=v.replace(/\n$/,""),N=v!==A,re=O(v.match(/^\s*/)[0]),v=A.replace(/^\s*/gm,function(Gt){var Jt=L+(O(Gt)-re);if(Jt<0)return"";if(u.getOption("indentWithTabs")){var ln=Math.floor(Jt/T);return Array(ln+1).join("	")}else return Array(Jt+1).join(" ")});v+=N?`
`:""}m.repeat>1&&(v=Array(m.repeat+1).join(v));var ee=_.linewise,U=_.blockwise,Q=U?v.split(`
`):void 0;if(Q){ee&&Q.pop();for(var ve=0;ve<Q.length;ve++)Q[ve]=Q[ve]==""?" ":Q[ve];k.ch+=m.after?1:0,k.ch=Math.min(St(u,k.line),k.ch)}else ee?y.visualMode?v=y.visualLine?v.slice(0,-1):`
`+v.slice(0,v.length-1)+`
`:m.after?(v=`
`+v.slice(0,v.length-1),k.ch=St(u,k.line)):k.ch=0:k.ch+=m.after?1:0;var we;if(y.visualMode){y.lastPastedText=v;var je,Ce=mi(u),Ie=Ce[0],ct=Ce[1],Xe=u.getSelection(),Ot=u.listSelections(),Pt=Array(Ot.length).join("1").split("1");y.lastSelection&&(je=y.lastSelection.headMark.find()),$.registerController.unnamedRegister.setText(Xe),U?(u.replaceSelections(Pt),ct=new n(Ie.line+v.length-1,Ie.ch),u.setCursor(Ie),jn(u,ct),u.replaceSelections(v),we=Ie):y.visualBlock?(u.replaceSelections(Pt),u.setCursor(Ie),u.replaceRange(v,Ie,Ie),we=Ie):(u.replaceRange(v,Ie,ct),we=u.posFromIndex(u.indexFromPos(Ie)+v.length-1)),je&&(y.lastSelection.headMark=u.setBookmark(je)),ee&&(we.ch=0)}else if(U&&Q){u.setCursor(k);for(var ve=0;ve<Q.length;ve++){var ze=k.line+ve;ze>u.lastLine()&&u.replaceRange(`
`,new n(ze,0)),St(u,ze)<k.ch&&pi(u,ze,k.ch)}u.setCursor(k),jn(u,new n(k.line+Q.length-1,k.ch)),u.replaceSelections(Q),we=k}else if(u.replaceRange(v,k),ee){var ze=m.after?k.line+1:k.line;we=new n(ze,me(u.getLine(ze)))}else we=Ge(k),/\n/.test(v)||(we.ch+=v.length-(m.after?1:0));y.visualMode&&Je(u,!1),u.setCursor(we)}},undo:function(u,m){u.operation(function(){fr(u,e.commands.undo,m.repeat)(),u.setCursor(yt(u,u.getCursor("start")))})},redo:function(u,m){fr(u,e.commands.redo,m.repeat)()},setRegister:function(u,m,y){y.inputState.registerName=m.selectedCharacter},insertRegister:function(u,m,y){var v=m.selectedCharacter,_=$.registerController.getRegister(v),k=_&&_.toString();k&&u.replaceSelection(k)},oneNormalCommand:function(u,m,y){Ar(u,!0),y.insertModeReturn=!0,e.on(u,"vim-command-done",function v(){y.visualMode||(y.insertModeReturn&&(y.insertModeReturn=!1,y.insertMode||Vt.enterInsertMode(u,{},y)),e.off(u,"vim-command-done",v))})},setMark:function(u,m,y){var v=m.selectedCharacter;v&&pr(u,y,v,u.getCursor())},replace:function(u,m,y){var v=m.selectedCharacter||"",_=u.getCursor(),k,T,O=u.listSelections();if(y.visualMode)_=u.getCursor("start"),T=u.getCursor("end");else{var L=u.getLine(_.line);k=_.ch+m.repeat,k>L.length&&(k=L.length),T=new n(_.line,k)}var A=i(u,_,T);if(_=A.start,T=A.end,v==`
`)y.visualMode||u.replaceRange("",_,T),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(u);else{var N=u.getRange(_,T);if(N=N.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v),N=N.replace(/[^\n]/g,v),y.visualBlock){var re=Array(u.getOption("tabSize")+1).join(" ");N=u.getSelection(),N=N.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v);var ee=N.replace(/\t/g,re).replace(/[^\n]/g,v).split(`
`);u.replaceSelections(ee)}else u.replaceRange(N,_,T);y.visualMode?(_=lt(O[0].anchor,O[0].head)?O[0].anchor:O[0].head,u.setCursor(_),Je(u,!1)):u.setCursor(Ct(T,0,-1))}},incrementNumberToken:function(u,m){for(var y=u.getCursor(),v=u.getLine(y.line),_=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi,k,T,O,L;(k=_.exec(v))!==null&&(T=k.index,O=T+k[0].length,!(y.ch<O)););if(!(!m.backtrack&&O<=y.ch)){if(k){var A=k[2]||k[4],N=k[3]||k[5],re=m.increase?1:-1,ee={"0b":2,0:8,"":10,"0x":16}[A.toLowerCase()];L=(parseInt(k[1]+N,ee)+re*m.repeat).toString(ee);var U=A?Array(N.length-L.length+1+k[1].length).join("0"):"";L=L.charAt(0)==="-"?"-"+A+U+L.substr(1):A+U+L;var Q=new n(y.line,T),ve=new n(y.line,O);u.replaceRange(L,Q,ve)}else return;u.setCursor(new n(y.line,T+L.length-1))}},repeatLastEdit:function(u,m,y){var v=y.lastEditInputState;if(v){var _=m.repeat;_&&m.repeatIsExplicit?v.repeatOverride=_:_=v.repeatOverride||_,As(u,y,_,!1)}},indent:function(u,m){u.indentLine(u.getCursor().line,m.indentRight)},exitInsertMode:function(u,m){Ar(u)}};function Kt(u,m){Vt[u]=m}function yt(u,m,y){var v=u.state.vim,_=v.insertMode||v.visualMode,k=Math.min(Math.max(u.firstLine(),m.line),u.lastLine()),T=u.getLine(k),O=T.length-1+ +!!_,L=Math.min(Math.max(0,m.ch),O),A=T.charCodeAt(L);if(56320<=A&&A<=57343){var N=1;y&&y.line==k&&y.ch>L&&(N=-1),L+=N,L>O&&(L-=2)}return new n(k,L)}function Ft(u){var m={};for(var y in u)Object.prototype.hasOwnProperty.call(u,y)&&(m[y]=u[y]);return m}function Ct(u,m,y){return typeof m=="object"&&(y=m.ch,m=m.line),new n(u.line+m,u.ch+y)}function fi(u,m,y,v){v.operator&&(y="operatorPending");for(var _,k=[],T=[],O=Re?m.length-c:0;O<m.length;O++){var L=m[O];y=="insert"&&L.context!="insert"||L.context&&L.context!=y||v.operator&&L.type=="action"||!(_=Hi(u,L.keys))||(_=="partial"&&k.push(L),_=="full"&&T.push(L))}return{partial:k,full:T}}function Hi(u,m){let y=m.slice(-11)=="<character>",v=m.slice(-10)=="<register>";if(y||v){var _=m.length-(y?11:10),k=u.slice(0,_),T=m.slice(0,_);return k==T&&u.length>_?"full":T.indexOf(k)==0?"partial":!1}else return u==m?"full":m.indexOf(u)==0?"partial":!1}function Ir(u){var m=/^.*(<[^>]+>)$/.exec(u),y=m?m[1]:u.slice(-1);if(y.length>1)switch(y){case"<CR>":case"<S-CR>":y=`
`;break;case"<Space>":case"<S-Space>":y=" ";break;default:y="";break}return y}function fr(u,m,y){return function(){for(var v=0;v<y;v++)m(u)}}function Ge(u){return new n(u.line,u.ch)}function $t(u,m){return u.ch==m.ch&&u.line==m.line}function lt(u,m){return u.line<m.line||u.line==m.line&&u.ch<m.ch}function vt(u,m){return arguments.length>2&&(m=vt.apply(void 0,Array.prototype.slice.call(arguments,1))),lt(u,m)?u:m}function On(u,m){return arguments.length>2&&(m=On.apply(void 0,Array.prototype.slice.call(arguments,1))),lt(u,m)?m:u}function Kr(u,m,y){var v=lt(u,m),_=lt(m,y);return v&&_}function St(u,m){return u.getLine(m).length}function Zn(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function Qr(u){return u.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function pi(u,m,y){var v=St(u,m),_=Array(y-v+1).join(" ");u.setCursor(new n(m,v)),u.replaceRange(_,u.getCursor())}function jn(u,m){var y=[],v=u.listSelections(),_=Ge(u.clipPos(m)),k=!$t(m,_),T=Gr(v,u.getCursor("head")),O=$t(v[T].head,v[T].anchor),L=v.length-1,A=L-T>T?L:0,N=v[A].anchor,re=Math.min(N.line,_.line),ee=Math.max(N.line,_.line),U=N.ch,Q=_.ch,ve=v[A].head.ch-U,we=Q-U;ve>0&&we<=0?(U++,k||Q--):ve<0&&we>=0?(U--,O||Q++):ve<0&&we==-1&&(U--,Q++);for(var je=re;je<=ee;je++){var Ce={anchor:new n(je,U),head:new n(je,Q)};y.push(Ce)}return u.setSelections(y),m.ch=Q,N.ch=U,N}function Vn(u,m,y){for(var v=[],_=0;_<y;_++){var k=Ct(m,_,0);v.push({anchor:k,head:k})}u.setSelections(v,0)}function Gr(u,m,y){for(var v=0;v<u.length;v++){var _=$t(u[v].anchor,m),k=$t(u[v].head,m);if(_||k)return v}return-1}function mi(u,m){var y=u.listSelections(),v=y[0],_=y[y.length-1];return[lt(v.anchor,v.head)?v.anchor:v.head,lt(_.anchor,_.head)?_.head:_.anchor]}function er(u,m){var y=m.sel.anchor,v=m.sel.head;m.lastPastedText&&(m.lastPastedText=(v=u.posFromIndex(u.indexFromPos(y)+m.lastPastedText.length),void 0)),m.lastSelection={anchorMark:u.setBookmark(y),headMark:u.setBookmark(v),anchor:Ge(y),head:Ge(v),visualMode:m.visualMode,visualLine:m.visualLine,visualBlock:m.visualBlock}}function Pn(u,m,y,v){var _=u.state.vim.sel,k=v?m:_.head,T=v?m:_.anchor,O;return lt(y,m)&&(O=y,y=m,m=O),lt(k,T)?(k=vt(m,k),T=On(T,y)):(T=vt(m,T),k=On(k,y),k=Ct(k,0,-1),k.ch==-1&&k.line!=u.firstLine()&&(k=new n(k.line-1,St(u,k.line-1)))),[T,k]}function bt(u,m,y){var v=u.state.vim;m||(m=v.sel),y||(y=v.visualLine?"line":v.visualBlock?"block":"char");var _=jt(u,m,y);u.setSelections(_.ranges,_.primary)}function jt(u,m,y,v){var _=Ge(m.head),k=Ge(m.anchor);if(y=="char"){var T=!v&&!lt(m.head,m.anchor)?1:0,O=lt(m.head,m.anchor)?1:0;return _=Ct(m.head,0,T),k=Ct(m.anchor,0,O),{ranges:[{anchor:k,head:_}],primary:0}}else if(y=="line"){if(lt(m.head,m.anchor))_.ch=0,k.ch=St(u,k.line);else{k.ch=0;var L=u.lastLine();_.line>L&&(_.line=L),_.ch=St(u,_.line)}return{ranges:[{anchor:k,head:_}],primary:0}}else if(y=="block"){var A=Math.min(k.line,_.line),N=k.ch,re=Math.max(k.line,_.line),ee=_.ch;N<ee?ee+=1:N+=1;for(var U=re-A+1,Q=_.line==A?0:U-1,ve=[],we=0;we<U;we++)ve.push({anchor:new n(A+we,N),head:new n(A+we,ee)});return{ranges:ve,primary:Q}}throw"never happens"}function P(u){var m=u.getCursor("head");return u.getSelection().length==1&&(m=vt(m,u.getCursor("anchor"))),m}function Je(u,m){var y=u.state.vim;m!==!1&&u.setCursor(yt(u,y.sel.head)),er(u,y),y.visualMode=!1,y.visualLine=!1,y.visualBlock=!1,y.insertMode||e.signal(u,"vim-mode-change",{mode:"normal"})}function I(u,m,y){var v=u.getRange(m,y);if(/\n\s*$/.test(v)){var _=v.split(`
`);_.pop();for(var k=_.pop();_.length>0&&k&&W(k);k=_.pop())y.line--,y.ch=0;k?(y.line--,y.ch=St(u,y.line)):y.ch=0}}function Y(u,m,y){m.ch=0,y.ch=0,y.line++}function me(u){if(!u)return 0;var m=u.search(/\S/);return m==-1?u.length:m}function ke(u,{inclusive:m,innerWord:y,bigWord:v,noSymbol:_,multiline:k},T){var O=T||P(u),L=u.getLine(O.line),A=L,N=O.line,re=N,ee=O.ch,U,Q=_?S[0]:E[0];if(y&&/\s/.test(L.charAt(ee)))Q=function(ct){return/\s/.test(ct)};else{for(;!Q(L.charAt(ee));)if(ee++,ee>=L.length){if(!k)return null;ee--,U=at(u,O,!0,v,!0);break}v?Q=E[0]:(Q=S[0],Q(L.charAt(ee))||(Q=S[1]))}for(var ve=ee,we=ee;Q(L.charAt(we))&&we>=0;)we--;if(we++,U)ve=U.to,re=U.line,A=u.getLine(re),!A&&ve==0&&ve++;else for(;Q(L.charAt(ve))&&ve<L.length;)ve++;if(m){var je=ve,Ce=O.ch<=we&&/\s/.test(L.charAt(O.ch));if(!Ce)for(;/\s/.test(A.charAt(ve))&&ve<A.length;)ve++;if(je==ve||Ce){for(var Ie=we;/\s/.test(L.charAt(we-1))&&we>0;)we--;!we&&!Ce&&(we=Ie)}}return{start:new n(N,we),end:new n(re,ve)}}function pt(u,m,y){var v=m;if(!e.findMatchingTag||!e.findEnclosingTag)return{start:v,end:v};var _=e.findMatchingTag(u,m)||e.findEnclosingTag(u,m);return!_||!_.open||!_.close?{start:v,end:v}:y?{start:_.open.from,end:_.close.to}:{start:_.open.to,end:_.close.from}}function tt(u,m,y){$t(m,y)||$.jumpList.add(u,m,y)}function it(u,m){$.lastCharacterSearch.increment=u,$.lastCharacterSearch.forward=m.forward,$.lastCharacterSearch.selectedCharacter=m.selectedCharacter}var wt={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},He={bracket:{isComplete:function(u){if(u.nextCh===u.symb){if(u.depth++,u.depth>=1)return!0}else u.nextCh===u.reverseSymb&&u.depth--;return!1}},section:{init:function(u){u.curMoveThrough=!0,u.symb=(u.forward?"]":"[")===u.symb?"{":"}"},isComplete:function(u){return u.index===0&&u.nextCh===u.symb}},comment:{isComplete:function(u){var m=u.lastCh==="*"&&u.nextCh==="/";return u.lastCh=u.nextCh,m}},method:{init:function(u){u.symb=u.symb==="m"?"{":"}",u.reverseSymb=u.symb==="{"?"}":"{"},isComplete:function(u){return u.nextCh===u.symb}},preprocess:{init:function(u){u.index=0},isComplete:function(u){var y;if(u.nextCh==="#"){var m=(y=u.lineText.match(/^#(\w+)/))==null?void 0:y[1];if(m==="endif"){if(u.forward&&u.depth===0)return!0;u.depth++}else if(m==="if"){if(!u.forward&&u.depth===0)return!0;u.depth--}if(m==="else"&&u.depth===0)return!0}return!1}}};function Ve(u,m,y,v){var _=Ge(u.getCursor()),k=y?1:-1,T=y?u.lineCount():-1,O=_.ch,L=_.line,A=u.getLine(L),N={lineText:A,nextCh:A.charAt(O),lastCh:null,index:O,symb:v,reverseSymb:(y?{")":"(","}":"{"}:{"(":")","{":"}"})[v],forward:y,depth:0,curMoveThrough:!1},re=wt[v];if(!re)return _;var ee=He[re].init,U=He[re].isComplete;for(ee&&ee(N);L!==T&&m;){if(N.index+=k,N.nextCh=N.lineText.charAt(N.index),!N.nextCh){if(L+=k,N.lineText=u.getLine(L)||"",k>0)N.index=0;else{var Q=N.lineText.length;N.index=Q>0?Q-1:0}N.nextCh=N.lineText.charAt(N.index)}U(N)&&(_.line=L,_.ch=N.index,m--)}return N.nextCh||N.curMoveThrough?new n(L,N.index):_}function at(u,m,y,v,_){var k=m.line,T=m.ch,O=u.getLine(k),L=y?1:-1,A=v?E:S;if(_&&O==""){if(k+=L,O=u.getLine(k),!K(u,k))return null;T=y?0:O.length}for(;;){if(_&&O=="")return{from:0,to:0,line:k};for(var N=L>0?O.length:-1,re=N,ee=N;T!=N;){for(var U=!1,Q=0;Q<A.length&&!U;++Q)if(A[Q](O.charAt(T))){for(re=T;T!=N&&A[Q](O.charAt(T));)T+=L;if(ee=T,U=re!=ee,re==m.ch&&k==m.line&&ee==re+L)continue;return{from:Math.min(re,ee+1),to:Math.max(re,ee),line:k}}U||(T+=L)}if(k+=L,!K(u,k))return null;O=u.getLine(k),T=L>0?0:O.length}}function ht(u,m,y,v,_,k){var T=Ge(m),O=[];(v&&!_||!v&&_)&&y++;for(var L=!(v&&_),A=0;A<y;A++){var N=at(u,m,v,k,L);if(!N){var re=St(u,u.lastLine());O.push(v?{line:u.lastLine(),from:re,to:re}:{line:0,from:0,to:0});break}O.push(N),m=new n(N.line,v?N.to-1:N.from)}var ee=O.length!=y,U=O[0],Q=O.pop();return v&&!_?(!ee&&(U.from!=T.ch||U.line!=T.line)&&(Q=O.pop()),Q&&new n(Q.line,Q.from)):v&&_?Q&&new n(Q.line,Q.to-1):!v&&_?(!ee&&(U.to!=T.ch||U.line!=T.line)&&(Q=O.pop()),Q&&new n(Q.line,Q.to)):Q&&new n(Q.line,Q.from)}function Ht(u,m,y,v,_){var k=new n(m.line+y.repeat-1,1/0),T=u.clipPos(k);return T.ch--,_||(v.lastHPos=1/0,v.lastHSPos=u.charCoords(T,"div").left),k}function tr(u,m,y,v,_){if(v){for(var k=_||u.getCursor(),T=k.ch,O,L=0;L<m;L++){var A=u.getLine(k.line);if(O=ic(T,A,v,y),O==-1)return;T=O}if(O!=null)return new n(u.getCursor().line,O)}}function xs(u,m){var y=u.getCursor().line;return yt(u,new n(y,m-1))}function pr(u,m,y,v){!be(y,D)&&!F.test(y)||(m.marks[y]&&m.marks[y].clear(),m.marks[y]=u.setBookmark(v))}function ic(u,m,y,v,_){return v?m.indexOf(y,u+1):m.lastIndexOf(y,u-1)}function ac(u,m,y,v,_){var k=m.line,T=u.firstLine(),O=u.lastLine(),L,A,N=k;function re(we){return!u.getLine(we)}function ee(we,je,Ce){return Ce?re(we)!=re(we+je):!re(we)&&re(we+je)}if(v){for(;T<=N&&N<=O&&y>0;)ee(N,v)&&y--,N+=v;return{start:new n(N,0),end:m}}var U=u.state.vim;if(U.visualLine&&ee(k,1,!0)){var Q=U.sel.anchor;ee(Q.line,-1,!0)&&(!_||Q.line!=k)&&(k+=1)}var ve=re(k);for(N=k;N<=O&&y;N++)ee(N,1,!0)&&(!_||re(N)!=ve)&&y--;for(A=new n(N,0),N>O&&!ve?ve=!0:_=!1,N=k;N>T&&!((!_||re(N)==ve||N==k)&&ee(N,-1,!0));N--);return L=new n(N,0),{start:L,end:A}}function Ta(u,m,y,v,_){function k(A){A.line!==null&&(A.pos+A.dir<0||A.pos+A.dir>=A.line.length?A.line=null:A.pos+=A.dir)}function T(A,N,re,ee){var U={line:A.getLine(N),ln:N,pos:re,dir:ee};if(U.line==="")return{ln:U.ln,pos:U.pos};var Q=U.pos;for(k(U);U.line!==null;){if(Q=U.pos,ue(U.line[U.pos]))if(_){for(k(U);U.line!==null&&W(U.line[U.pos]);)Q=U.pos,k(U);return{ln:U.ln,pos:Q+1}}else return{ln:U.ln,pos:U.pos+1};k(U)}return{ln:U.ln,pos:Q+1}}function O(A,N,re,ee){var U=A.getLine(N),Q={line:U,ln:N,pos:re,dir:ee};if(Q.line==="")return{ln:Q.ln,pos:Q.pos};var ve=Q.pos;for(k(Q);Q.line!==null;){if(!W(Q.line[Q.pos])&&!ue(Q.line[Q.pos]))ve=Q.pos;else if(ue(Q.line[Q.pos]))return _&&W(Q.line[Q.pos+1])?{ln:Q.ln,pos:Q.pos+1}:{ln:Q.ln,pos:ve};k(Q)}return Q.line=U,_&&W(Q.line[Q.pos])?{ln:Q.ln,pos:Q.pos}:{ln:Q.ln,pos:ve}}for(var L={ln:m.line,pos:m.ch};y>0;)L=v<0?O(u,L.ln,L.pos,v):T(u,L.ln,L.pos,v),y--;return new n(L.ln,L.pos)}function Lo(u,m,y,v){function _(L,A){if(A.line!==null)if(A.pos+A.dir<0||A.pos+A.dir>=A.line.length){if(A.ln+=A.dir,!K(L,A.ln)){A.line=null;return}A.line=L.getLine(A.ln),A.pos=A.dir>0?0:A.line.length-1}else A.pos+=A.dir}function k(L,A,N,re){var we=L.getLine(A),ee=we==="",U={line:we,ln:A,pos:N,dir:re},Q={ln:U.ln,pos:U.pos},ve=U.line==="";for(_(L,U);U.line!==null;){if(Q.ln=U.ln,Q.pos=U.pos,U.line===""&&!ve||ee&&U.line!==""&&!W(U.line[U.pos]))return{ln:U.ln,pos:U.pos};ue(U.line[U.pos])&&!ee&&(U.pos===U.line.length-1||W(U.line[U.pos+1]))&&(ee=!0),_(L,U)}var we=L.getLine(Q.ln);Q.pos=0;for(var je=we.length-1;je>=0;--je)if(!W(we[je])){Q.pos=je;break}return Q}function T(L,A,N,re){var we=L.getLine(A),ee={line:we,ln:A,pos:N,dir:re},U=ee.ln,Q=null,ve=ee.line==="";for(_(L,ee);ee.line!==null;){if(ee.line===""&&!ve)return Q===null?{ln:ee.ln,pos:ee.pos}:{ln:U,pos:Q};if(ue(ee.line[ee.pos])&&Q!==null&&!(ee.ln===U&&ee.pos+1===Q))return{ln:U,pos:Q};ee.line!==""&&!W(ee.line[ee.pos])&&(ve=!1,U=ee.ln,Q=ee.pos),_(L,ee)}var we=L.getLine(U);Q=0;for(var je=0;je<we.length;++je)if(!W(we[je])){Q=je;break}return{ln:U,pos:Q}}for(var O={ln:m.line,pos:m.ch};y>0;)O=v<0?T(u,O.ln,O.pos,v):k(u,O.ln,O.pos,v),y--;return new n(O.ln,O.pos)}function mr(u,m,y,v){var _=m,k={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[y],T={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[y],O=u.getLine(_.line).charAt(_.ch)===T?1:0,L=u.scanForBracket(new n(_.line,_.ch+O),-1,void 0,{bracketRegex:k}),A=u.scanForBracket(new n(_.line,_.ch+O),1,void 0,{bracketRegex:k});if(!L||!A)return null;var N=L.pos,re=A.pos;if(N.line==re.line&&N.ch>re.ch||N.line>re.line){var ee=N;N=re,re=ee}return v?re.ch+=1:N.ch+=1,{start:N,end:re}}function ks(u,m,y,v){var _=Ge(m),k=u.getLine(_.line).split(""),T,O,L,A,N=k.indexOf(y);if(_.ch<N)_.ch=N;else if(N<_.ch&&k[_.ch]==y){var re=/string/.test(u.getTokenTypeAt(Ct(m,0,1))),ee=/string/.test(u.getTokenTypeAt(m));re&&!ee||(O=_.ch,--_.ch)}if(k[_.ch]==y&&!O)T=_.ch+1;else for(L=_.ch;L>-1&&!T;L--)k[L]==y&&(T=L+1);if(T&&!O)for(L=T,A=k.length;L<A&&!O;L++)k[L]==y&&(O=L);return!T||!O?{start:_,end:_}:(v&&(--T,++O),{start:new n(_.line,T),end:new n(_.line,O)})}xe("pcre",!0,"boolean");class oc{constructor(){this.highlightTimeout}getQuery(){return $.query}setQuery(m){$.query=m}getOverlay(){return this.searchOverlay}setOverlay(m){this.searchOverlay=m}isReversed(){return $.isReversed}setReversed(m){$.isReversed=m}getScrollbarAnnotate(){return this.annotate}setScrollbarAnnotate(m){this.annotate=m}}function bn(u){var m=u.state.vim;return m.searchState_||(m.searchState_=new oc)}function Cs(u){return sc(u,"/")}function Ss(u){return Es(u,"/")}function sc(u,m){var y=Es(u,m)||[];if(!y.length)return[];var v=[];if(y[0]===0){for(var _=0;_<y.length;_++)typeof y[_]=="number"&&v.push(u.substring(y[_]+1,y[_+1]));return v}}function Es(u,m){m||(m="/");for(var y=!1,v=[],_=0;_<u.length;_++){var k=u.charAt(_);!y&&k==m&&v.push(_),y=!y&&k=="\\"}return v}function $n(u){var m={V:"|(){+?*.[$^",M:"|(){+?*.[",m:"|(){+?",v:"<>"},y={">":"(?<=[\\w])(?=[^\\w]|$)","<":"(?<=[^\\w]|^)(?=[\\w])"},v=m.m,_=u.replace(/\\.|[\[|(){+*?.$^<>]/g,function(T){if(T[0]==="\\"){var O=T[1];return O==="}"||v.indexOf(O)!=-1?O:O in m?(v=m[O],""):O in y?y[O]:T}else return v.indexOf(T)==-1?T:y[T]||"\\"+T}),k=_.indexOf("\\zs");return k!=-1&&(_="(?<="+_.slice(0,k)+")"+_.slice(k+3)),k=_.indexOf("\\ze"),k!=-1&&(_=_.slice(0,k)+"(?="+_.slice(k+3)+")"),_}var Ts={"\\n":`
`,"\\r":"\r","\\t":"	"};function Yd(u){for(var m=!1,y=[],v=-1;v<u.length;v++){var _=u.charAt(v)||"",k=u.charAt(v+1)||"";Ts[_+k]?(y.push(Ts[_+k]),v++):m?(y.push(_),m=!1):_==="\\"?(m=!0,he(k)||k==="$"?y.push("$"):k!=="/"&&k!=="\\"&&y.push("\\")):(_==="$"&&y.push("$"),y.push(_),k==="/"&&y.push("\\"))}return y.join("")}var Ra={"\\/":"/","\\\\":"\\","\\n":`
`,"\\r":"\r","\\t":"	","\\&":"&"};function lc(u){for(var m=new e.StringStream(u),y=[];!m.eol();){for(;m.peek()&&m.peek()!="\\";)y.push(m.next());var v=!1;for(var _ in Ra)if(m.match(_,!0)){v=!0,y.push(Ra[_]);break}v||y.push(m.next())}return y.join("")}function Da(u,m,y){$.registerController.getRegister("/").setText(u);var v=Ss(u),_,k;return v.length?(_=u.substring(0,v[0]),k=u.substring(v[0]).indexOf("i")!=-1):_=u,_?(_e("pcre")||(_=$n(_)),y&&(m=/^[^A-Z]*$/.test(_)),new RegExp(_,m||k?"im":"m")):null}function nr(u){typeof u=="string"&&(u=document.createElement(u));for(var m=1;m<arguments.length;m++){var y=arguments[m];if(y)if(typeof y!="object"&&(y=document.createTextNode(y)),y.nodeType)u.appendChild(y);else for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(v[0]==="$"?u.style[v.slice(1)]=y[v]:typeof y[v]=="function"?u[v]=y[v]:u.setAttribute(v,y[v]))}return u}function $e(u,m,y){var v=nr("div",{$color:"red",$whiteSpace:"pre",class:"cm-vim-message"},m);u.openNotification?y?(v=nr("div",{},v,nr("div",{},"Press ENTER or type command to continue")),u.state.closeVimNotification&&u.state.closeVimNotification(),u.state.closeVimNotification=u.openNotification(v,{bottom:!0,duration:0})):u.openNotification(v,{bottom:!0,duration:15e3}):alert(v.innerText)}function Rs(u,m){return nr("div",{$display:"flex",$flex:1},nr("span",{$fontFamily:"monospace",$whiteSpace:"pre",$flex:1,$display:"flex"},u,nr("input",{type:"text",autocorrect:"off",autocapitalize:"off",spellcheck:"false",$flex:1})),m&&nr("span",{$color:"#888"},m))}function Oa(u,m){var _;if(We.length){m.value||(m.value=""),Pe=m;return}var y=Rs(m.prefix,m.desc);if(u.openDialog)u.openDialog(y,m.onClose,{onKeyDown:m.onKeyDown,onKeyUp:m.onKeyUp,bottom:!0,selectValueOnOpen:!1,value:m.value});else{var v="";typeof m.prefix!="string"&&m.prefix&&(v+=m.prefix.textContent),m.desc&&(v+=" "+m.desc),(_=m.onClose)==null||_.call(m,prompt(v,""))}}function Ds(u,m){return u instanceof RegExp&&m instanceof RegExp?u.flags==m.flags&&u.source==m.source:!1}function hr(u,m,y,v){if(m){var _=bn(u),k=Da(m,!!y,!!v);if(k)return Jr(u,k),Ds(k,_.getQuery())||_.setQuery(k),k}}function cc(u){if(u.source.charAt(0)=="^")var m=!0;return{token:function(y){if(m&&!y.sol()){y.skipToEnd();return}var v=y.match(u,!1);if(v)return v[0].length==0?(y.next(),"searching"):!y.sol()&&(y.backUp(1),!u.exec(y.next()+v[0]))?(y.next(),null):(y.match(u),"searching");for(;!y.eol()&&(y.next(),!y.match(u,!1)););},query:u}}var Wi=0;function Jr(u,m){clearTimeout(Wi);var y=bn(u);y.highlightTimeout=Wi,Wi=setTimeout(function(){if(u.state.vim){var v=bn(u);v.highlightTimeout=void 0;var _=v.getOverlay();(!_||m!=_.query)&&(_&&u.removeOverlay(_),_=cc(m),u.addOverlay(_),u.showMatchesOnScrollbar&&(v.getScrollbarAnnotate()&&v.getScrollbarAnnotate().clear(),v.setScrollbarAnnotate(u.showMatchesOnScrollbar(m))),v.setOverlay(_))}},50)}function uc(u,m,y,v){return u.operation(function(){v===void 0&&(v=1);for(var _=u.getCursor(),k=u.getSearchCursor(y,_),T=0;T<v;T++){var O=k.find(m);if(T==0&&O&&$t(k.from(),_)){var L=m?k.from():k.to();O=k.find(m),O&&!O[0]&&$t(k.from(),L)&&u.getLine(L.line).length==L.ch&&(O=k.find(m))}if(!O&&(k=u.getSearchCursor(y,m?new n(u.lastLine()):new n(u.firstLine(),0)),!k.find(m)))return}return k.from()})}function dc(u,m,y,v,_){return u.operation(function(){v===void 0&&(v=1);var k=u.getCursor(),T=u.getSearchCursor(y,k),O=T.find(!m);!_.visualMode&&O&&$t(T.from(),k)&&T.find(!m);for(var L=0;L<v;L++)if(O=T.find(m),!O&&(T=u.getSearchCursor(y,m?new n(u.lastLine()):new n(u.firstLine(),0)),!T.find(m)))return;var A=T.from(),N=T.to();return A&&N&&[A,N]})}function hi(u){var m=bn(u);m.highlightTimeout&&(m.highlightTimeout=(clearTimeout(m.highlightTimeout),void 0)),u.removeOverlay(bn(u).getOverlay()),m.setOverlay(null),m.getScrollbarAnnotate()&&(m.getScrollbarAnnotate().clear(),m.setScrollbarAnnotate(null))}function Os(u,m,y){return typeof u!="number"&&(u=u.line),m instanceof Array?be(u,m):typeof y=="number"?u>=m&&u<=y:u==m}function Ps(u){var m=u.getScrollInfo(),y=6,v=10,_=u.coordsChar({left:0,top:y+m.top},"local"),k=m.clientHeight-v+m.top,T=u.coordsChar({left:0,top:k},"local");return{top:_.line,bottom:T.line}}function Mo(u,m,y){if(y=="'"||y=="`")return $.jumpList.find(u,-1)||new n(0,0);if(y==".")return Pa(u);var v=m.marks[y];return v&&v.find()}function Pa(u){if(u.getLastEditEnd)return u.getLastEditEnd();for(var m=u.doc.history.done,y=m.length;y--;)if(m[y].changes)return Ge(m[y].changes[0].to)}class Ls{constructor(){this.commandMap_,this.buildCommandMap_()}processCommand(m,y,v){var _=this;m.operation(function(){m.curOp&&(m.curOp.isVimOp=!0),_._processCommand(m,y,v)})}_processCommand(m,y,v){var _=m.state.vim,k=$.registerController.getRegister(":"),T=k.toString(),O=new e.StringStream(y);k.setText(y);var L=v||{};L.input=y;try{this.parseInput_(m,O,L)}catch(re){throw $e(m,re+""),re}_.visualMode&&Je(m);var A,N;if(!L.commandName)L.line!==void 0&&(N="move");else if(A=this.matchCommand_(L.commandName),A){if(N=A.name,A.excludeFromCommandHistory&&k.setText(T),this.parseCommandArgs_(O,L,A),A.type=="exToKey"){At(m,A.toKeys||"",A);return}else if(A.type=="exToEx"){this.processCommand(m,A.toInput||"");return}}if(!N){$e(m,'Not an editor command ":'+y+'"');return}try{No[N](m,L),(!A||!A.possiblyAsync)&&L.callback&&L.callback()}catch(re){throw $e(m,re+""),re}}parseInput_(m,y,v){var k,T;y.eatWhile(":"),y.eat("%")?(v.line=m.firstLine(),v.lineEnd=m.lastLine()):(v.line=this.parseLineSpec_(m,y),v.line!==void 0&&y.eat(",")&&(v.lineEnd=this.parseLineSpec_(m,y))),v.line==null?m.state.vim.visualMode?(v.selectionLine=(k=Mo(m,m.state.vim,"<"))==null?void 0:k.line,v.selectionLineEnd=(T=Mo(m,m.state.vim,">"))==null?void 0:T.line):v.selectionLine=m.getCursor().line:(v.selectionLine=v.line,v.selectionLineEnd=v.lineEnd);var _=y.match(/^(\w+|!!|@@|[!#&*<=>@~])/);return _?v.commandName=_[1]:v.commandName=(y.match(/.*/)||[""])[0],v}parseLineSpec_(m,y){var v=y.match(/^(\d+)/);if(v)return parseInt(v[1],10)-1;switch(y.next()){case".":return this.parseLineSpecOffset_(y,m.getCursor().line);case"$":return this.parseLineSpecOffset_(y,m.lastLine());case"'":var _=y.next()||"",k=Mo(m,m.state.vim,_);if(!k)throw Error("Mark not set");return this.parseLineSpecOffset_(y,k.line);case"-":case"+":return y.backUp(1),this.parseLineSpecOffset_(y,m.getCursor().line);default:y.backUp(1);return}}parseLineSpecOffset_(m,y){var v=m.match(/^([+-])?(\d+)/);if(v){var _=parseInt(v[2],10);v[1]=="-"?y-=_:y+=_}return y}parseCommandArgs_(m,y,v){var T;if(!m.eol()){y.argString=(T=m.match(/.*/))==null?void 0:T[0];var _=v.argDelimiter||/\s+/,k=Zn(y.argString||"").split(_);k.length&&k[0]&&(y.args=k)}}matchCommand_(m){for(var y=m.length;y>0;y--){var v=m.substring(0,y);if(this.commandMap_[v]){var _=this.commandMap_[v];if(_.name.indexOf(m)===0)return _}}}buildCommandMap_(){this.commandMap_={};for(var m=0;m<d.length;m++){var y=d[m],v=y.shortName||y.name;this.commandMap_[v]=y}}map(m,y,v,_){if(m!=":"&&m.charAt(0)==":"){if(v)throw Error("Mode not supported for ex mappings");var k=m.substring(1);y!=":"&&y.charAt(0)==":"?this.commandMap_[k]={name:k,type:"exToEx",toInput:y.substring(1),user:!0}:this.commandMap_[k]={name:k,type:"exToKey",toKeys:y,user:!0}}else{var T={keys:m,type:"keyToKey",toKeys:y,noremap:!!_};v&&(T.context=v),La(T)}}unmap(m,y){if(m!=":"&&m.charAt(0)==":"){if(y)throw Error("Mode not supported for ex mappings");var v=m.substring(1);if(this.commandMap_[v]&&this.commandMap_[v].user)return delete this.commandMap_[v],!0}else for(var _=m,k=0;k<o.length;k++)if(_==o[k].keys&&o[k].context===y)return o.splice(k,1),Ma(_),!0}}var No={colorscheme:function(u,m){if(!m.args||m.args.length<1){$e(u,u.getOption("theme"));return}u.setOption("theme",m.args[0])},map:function(u,m,y,v){var _=m.args;if(!_||_.length<2){u&&$e(u,"Invalid mapping: "+m.input);return}Qt.map(_[0],_[1],y,v)},imap:function(u,m){this.map(u,m,"insert")},nmap:function(u,m){this.map(u,m,"normal")},vmap:function(u,m){this.map(u,m,"visual")},omap:function(u,m){this.map(u,m,"operatorPending")},noremap:function(u,m){this.map(u,m,void 0,!0)},inoremap:function(u,m){this.map(u,m,"insert",!0)},nnoremap:function(u,m){this.map(u,m,"normal",!0)},vnoremap:function(u,m){this.map(u,m,"visual",!0)},onoremap:function(u,m){this.map(u,m,"operatorPending",!0)},unmap:function(u,m,y){var v=m.args;(!v||v.length<1||!Qt.unmap(v[0],y))&&u&&$e(u,"No such mapping: "+m.input)},mapclear:function(u,m){Fe.mapclear()},imapclear:function(u,m){Fe.mapclear("insert")},nmapclear:function(u,m){Fe.mapclear("normal")},vmapclear:function(u,m){Fe.mapclear("visual")},omapclear:function(u,m){Fe.mapclear("operatorPending")},move:function(u,m){An.processCommand(u,u.state.vim,{keys:"",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:m.line+1})},set:function(u,m){var y=m.args,v=m.setCfg||{};if(!y||y.length<1){u&&$e(u,"Invalid mapping: "+m.input);return}var _=y[0].split("="),k=_.shift()||"",T=_.length>0?_.join("="):void 0,O=!1,L=!1;if(k.charAt(k.length-1)=="?"){if(T)throw Error("Trailing characters: "+m.argString);k=k.substring(0,k.length-1),O=!0}else k.charAt(k.length-1)=="!"&&(k=k.substring(0,k.length-1),L=!0);T===void 0&&k.substring(0,2)=="no"&&(k=k.substring(2),T=!1);var A=ye[k]&&ye[k].type=="boolean";if(A&&(L?T=!_e(k,u,v):T??(T=!0)),!A&&T===void 0||O){var N=_e(k,u,v);N instanceof Error?$e(u,N.message):N===!0||N===!1?$e(u," "+(N?"":"no")+k):$e(u,"  "+k+"="+N)}else{var re=X(k,T,u,v);re instanceof Error&&$e(u,re.message)}},setlocal:function(u,m){m.setCfg={scope:"local"},this.set(u,m)},setglobal:function(u,m){m.setCfg={scope:"global"},this.set(u,m)},registers:function(u,m){var y=m.args,v=$.registerController.registers,_=`----------Registers----------

`;if(y)for(var k=y.join(""),T=0;T<k.length;T++){var O=k.charAt(T);if($.registerController.isValidRegister(O)){var L=v[O]||new yn;_+='"'+O+"    "+L.toString()+`
`}}else for(var O in v){var A=v[O].toString();A.length&&(_+='"'+O+"    "+A+`
`)}$e(u,_,!0)},marks:function(u,m){var y=m.args,v=u.state.vim.marks,_=`-----------Marks-----------
mark	line	col

`;if(y)for(var k=y.join(""),T=0;T<k.length;T++){var O=k.charAt(T),L=v[O]&&v[O].find();L&&(_+=O+"	"+L.line+"	"+L.ch+`
`)}else for(var O in v){var L=v[O]&&v[O].find();L&&(_+=O+"	"+L.line+"	"+L.ch+`
`)}$e(u,_,!0)},sort:function(u,m){var y,v,_,k,T;function O(){if(m.argString){var ze=new e.StringStream(m.argString);if(ze.eat("!")&&(y=!0),ze.eol())return;if(!ze.eatSpace())return"Invalid arguments";var Ke=ze.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!Ke||!ze.eol())return"Invalid arguments";if(Ke[1]){v=Ke[1].indexOf("i")!=-1,_=Ke[1].indexOf("u")!=-1;var Gt=Ke[1].indexOf("d")!=-1||Ke[1].indexOf("n")!=-1,Jt=Ke[1].indexOf("x")!=-1,ln=Ke[1].indexOf("o")!=-1;if(Number(Gt)+Number(Jt)+Number(ln)>1)return"Invalid arguments";k=Gt&&"decimal"||Jt&&"hex"||ln&&"octal"}Ke[2]&&(T=new RegExp(Ke[2].substr(1,Ke[2].length-2),v?"i":""))}}var L=O();if(L){$e(u,L+": "+m.argString);return}var A=m.line||u.firstLine(),N=m.lineEnd||m.line||u.lastLine();if(A==N)return;var re=new n(A,0),ee=new n(N,St(u,N)),U=u.getRange(re,ee).split(`
`),Q=k=="decimal"?/(-?)([\d]+)/:k=="hex"?/(-?)(?:0x)?([0-9a-f]+)/i:k=="octal"?/([0-7]+)/:null,ve=k=="decimal"?10:k=="hex"?16:k=="octal"?8:void 0,we=[],je=[];if(k||T)for(var Ce=0;Ce<U.length;Ce++){var Ie=T?U[Ce].match(T):null;Ie&&Ie[0]!=""?we.push(Ie):Q&&Q.exec(U[Ce])?we.push(U[Ce]):je.push(U[Ce])}else je=U;function ct(ze,Ke){if(y){var Gt=ze;ze=Ke,Ke=Gt}v&&(ze=ze.toLowerCase(),Ke=Ke.toLowerCase());var Jt=Q&&Q.exec(ze),ln=Q&&Q.exec(Ke);return!Jt||!ln?ze<Ke?-1:1:parseInt((Jt[1]+Jt[2]).toLowerCase(),ve)-parseInt((ln[1]+ln[2]).toLowerCase(),ve)}function Xe(ze,Ke){if(y){var Gt=ze;ze=Ke,Ke=Gt}return v&&(ze[0]=ze[0].toLowerCase(),Ke[0]=Ke[0].toLowerCase()),ze[0]<Ke[0]?-1:1}if(we.sort(T?Xe:ct),T)for(var Ce=0;Ce<we.length;Ce++)we[Ce]=we[Ce].input;else k||je.sort(ct);if(U=y?we.concat(je):je.concat(we),_){var Ot=U,Pt;U=[];for(var Ce=0;Ce<Ot.length;Ce++)Ot[Ce]!=Pt&&U.push(Ot[Ce]),Pt=Ot[Ce]}u.replaceRange(U.join(`
`),re,ee)},vglobal:function(u,m){this.global(u,m)},normal:function(u,m){var y=!1,v=m.argString;if(v&&v[0]=="!"&&(v=v.slice(1),y=!0),v=v.trimStart(),!v){$e(u,"Argument is required.");return}var _=m.line;if(typeof _=="number")for(var k=isNaN(m.lineEnd)?_:m.lineEnd,T=_;T<=k;T++)u.setCursor(T,0),At(u,m.argString.trimStart(),{noremap:y}),u.state.vim.insertMode&&Ar(u,!0);else At(u,m.argString.trimStart(),{noremap:y}),u.state.vim.insertMode&&Ar(u,!0)},global:function(u,m){var y=m.argString;if(!y){$e(u,"Regular Expression missing from global");return}var v=m.commandName[0]==="v";y[0]==="!"&&m.commandName[0]==="g"&&(v=!0,y=y.slice(1));var _=m.line===void 0?u.firstLine():m.line,k=m.lineEnd||m.line||u.lastLine(),T=Cs(y),O=y,L="";if(T&&T.length&&(O=T[0],L=T.slice(1,T.length).join("/")),O)try{hr(u,O,!0,!0)}catch{$e(u,"Invalid regex: "+O);return}for(var A=bn(u).getQuery(),N=[],re=_;re<=k;re++){var ee=u.getLine(re);A.test(ee)!==v&&N.push(L?u.getLineHandle(re):ee)}if(!L){$e(u,N.join(`
`));return}var U=0,Q=function(){if(U<N.length){var ve=N[U++],we=u.getLineNumber(ve);if(we==null){Q();return}var je=we+1+L;Qt.processCommand(u,je,{callback:Q})}else u.releaseLineHandles&&u.releaseLineHandles()};Q()},substitute:function(u,m){if(!u.getSearchCursor)throw Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var y=m.argString,v=y?sc(y,y[0]):[],_="",k="",T,O,L,A=!1,N=!1;if(v&&v.length)_=v[0],_e("pcre")&&_!==""&&(_=new RegExp(_).source),k=v[1],k!==void 0&&(k=_e("pcre")?lc(k.replace(/([^\\])&/g,"$1$$&")):Yd(k),$.lastSubstituteReplacePart=k),T=v[2]?v[2].split(" "):[];else if(y&&y.length){$e(u,"Substitutions should be of the form :s/pattern/replace/");return}if(T&&(O=T[0],L=parseInt(T[1]),O&&(O.indexOf("c")!=-1&&(A=!0),O.indexOf("g")!=-1&&(N=!0),_=_e("pcre")?_+"/"+O:_.replace(/\//g,"\\/")+"/"+O)),_)try{hr(u,_,!0,!0)}catch{$e(u,"Invalid regex: "+_);return}if(k||(k=$.lastSubstituteReplacePart),k===void 0){$e(u,"No previous substitute regular expression");return}var re=bn(u).getQuery(),ee=m.line===void 0?u.getCursor().line:m.line,U=m.lineEnd||ee;ee==u.firstLine()&&U==u.lastLine()&&(U=1/0),L&&(ee=U,U=ee+L-1);var Q=yt(u,new n(ee,0)),ve=u.getSearchCursor(re,Q);Ui(u,A,N,ee,U,ve,re,k,m.callback)},startinsert:function(u,m){At(u,m.argString=="!"?"A":"i",{})},redo:e.commands.redo,undo:e.commands.undo,write:function(u){e.commands.save?e.commands.save(u):u.save&&u.save()},nohlsearch:function(u){hi(u)},yank:function(u){var m=Ge(u.getCursor()).line,y=u.getLine(m);$.registerController.pushText("0","yank",y,!0,!0)},delete:function(u,m){var y=m.selectionLine,v=isNaN(m.selectionLineEnd)?y:m.selectionLineEnd;Nr.delete(u,{linewise:!0},[{anchor:new n(y,0),head:new n(v+1,0)}])},join:function(u,m){var y=m.selectionLine,v=isNaN(m.selectionLineEnd)?y:m.selectionLineEnd;u.setCursor(new n(y,0)),Vt.joinLines(u,{repeat:v-y},u.state.vim)},delmarks:function(u,m){if(!m.argString||!Zn(m.argString)){$e(u,"Argument required");return}for(var y=u.state.vim,v=new e.StringStream(Zn(m.argString));!v.eol();){v.eatSpace();var _=v.pos;if(!v.match(/[a-zA-Z]/,!1)){$e(u,"Invalid argument: "+m.argString.substring(_));return}var k=v.next();if(v.match("-",!0)){if(!v.match(/[a-zA-Z]/,!1)){$e(u,"Invalid argument: "+m.argString.substring(_));return}var T=k,O=v.next();if(T&&O&&V(T)==V(O)){var L=T.charCodeAt(0),A=O.charCodeAt(0);if(L>=A){$e(u,"Invalid argument: "+m.argString.substring(_));return}for(var N=0;N<=A-L;N++){var re=String.fromCharCode(L+N);delete y.marks[re]}}else{$e(u,"Invalid argument: "+T+"-");return}}else k&&delete y.marks[k]}}},Qt=new Ls;Fe.defineEx("version","ve",u=>{$e(u,"Codemirror-vim version: 6.3.0")});function Ui(u,m,y,v,_,k,T,O,L){u.state.vim.exMode=!0;var A=!1,N=0,re,ee,U;function Q(){u.operation(function(){for(;!A;)ve(),je();Ce()})}function ve(){var ct="",Xe=k.match||k.pos&&k.pos.match;ct=Xe?O.replace(/\$(\d{1,3}|[$&])/g,function(Pt,ze){if(ze=="$")return"$";if(ze=="&")return Xe[0];for(var Ke=ze;parseInt(Ke)>=Xe.length&&Ke.length>0;)Ke=Ke.slice(0,Ke.length-1);return Ke?Xe[Ke]+ze.slice(Ke.length,ze.length):Pt}):u.getRange(k.from(),k.to()).replace(T,O);var Ot=k.to().line;k.replace(ct),ee=k.to().line,_+=ee-Ot,U=ee<Ot}function we(){var ct=re&&Ge(k.to()),Xe=k.findNext();return Xe&&!Xe[0]&&ct&&$t(k.from(),ct)&&(Xe=k.findNext()),Xe&&N++,Xe}function je(){for(;we()&&Os(k.from(),v,_);)if(!(!y&&k.from().line==ee&&!U)){u.scrollIntoView(k.from(),30),u.setSelection(k.from(),k.to()),re=k.from(),A=!1;return}A=!0}function Ce(ct){if(ct&&ct(),u.focus(),re){u.setCursor(re);var Xe=u.state.vim;Xe.exMode=!1,Xe.lastHPos=Xe.lastHSPos=re.ch}L?L():A&&$e(u,(N?"Found "+N+" matches":"No matches found")+" for pattern: "+T+(_e("pcre")?" (set nopcre to use Vim regexps)":""))}function Ie(ct,Xe,Ot){switch(e.e_stop(ct),tn(ct)){case"y":ve(),je();break;case"n":je();break;case"a":var Pt=L;L=void 0,u.operation(Q),L=Pt;break;case"l":ve();case"q":case"<Esc>":case"<C-c>":case"<C-[>":Ce(Ot);break}return A&&Ce(Ot),!0}if(je(),A){$e(u,"No matches for "+T+(_e("pcre")?" (set nopcre to use vim regexps)":""));return}if(!m){Q(),L&&L();return}Oa(u,{prefix:nr("span","replace with ",nr("strong",O)," (y/n/a/q/l)"),onKeyDown:Ie})}function Ar(u,m){var y=u.state.vim,v=$.macroModeState,_=$.registerController.getRegister("."),k=v.isPlaying,T=v.lastInsertModeChanges;k||(u.off("change",Ia),y.insertEnd&&y.insertEnd.clear(),y.insertEnd=void 0,e.off(u.getInputField(),"keydown",ja)),!k&&y.insertModeRepeat&&y.insertModeRepeat>1&&(As(u,y,y.insertModeRepeat-1,!0),y.lastEditInputState.repeatOverride=y.insertModeRepeat),delete y.insertModeRepeat,y.insertMode=!1,m||u.setCursor(u.getCursor().line,u.getCursor().ch-1),u.setOption("keyMap","vim"),u.setOption("disableInput",!0),u.toggleOverwrite(!1),_.setText(T.changes.join("")),e.signal(u,"vim-mode-change",{mode:"normal"}),v.isRecording&&Xr(v)}function La(u){o.unshift(u),u.keys&&fc(u.keys)}function fc(u){u.split(/(<(?:[CSMA]-)*\w+>|.)/i).forEach(function(m){m&&(s[m]||(s[m]=0),s[m]++)})}function Ma(u){u.split(/(<(?:[CSMA]-)*\w+>|.)/i).forEach(function(m){s[m]&&s[m]--})}function jr(u,m,y,v,_){var k={keys:u,type:m};for(var T in k[m]=y,k[m+"Args"]=v,_)k[T]=_[T];La(k)}xe("insertModeEscKeysTimeout",200,"number");function Ms(u,m,y,v){var _=$.registerController.getRegister(v);if(v==":"){_.keyBuffer[0]&&Qt.processCommand(u,_.keyBuffer[0]),y.isPlaying=!1;return}var k=_.keyBuffer,T=0;y.isPlaying=!0,y.replaySearchQueries=_.searchQueries.slice(0);for(var O=0;O<k.length;O++)for(var L=k[O],A,N,re=/<(?:[CSMA]-)*\w+>|./gi;A=re.exec(L);)if(N=A[0],Fe.handleKey(u,N,"macro"),m.insertMode){var ee=_.insertModeChanges[T++].changes;$.macroModeState.lastInsertModeChanges.changes=ee,Yr(u,ee,1),Ar(u)}y.isPlaying=!1}function Na(u,m){if(!u.isPlaying){var y=u.latestRegister,v=$.registerController.getRegister(y);v&&v.pushText(m)}}function Xr(u){if(!u.isPlaying){var m=u.latestRegister,y=$.registerController.getRegister(m);y&&y.pushInsertModeChanges&&y.pushInsertModeChanges(u.lastInsertModeChanges)}}function Ns(u,m){if(!u.isPlaying){var y=u.latestRegister,v=$.registerController.getRegister(y);v&&v.pushSearchQuery&&v.pushSearchQuery(m)}}function Ia(u,m){var y=$.macroModeState,v=y.lastInsertModeChanges;if(!y.isPlaying)for(var _=u.state.vim;m;){if(v.expectCursorActivityForChange=!0,v.ignoreCount>1)v.ignoreCount--;else if(m.origin=="+input"||m.origin=="paste"||m.origin===void 0){var k=u.listSelections().length;k>1&&(v.ignoreCount=k);var T=m.text.join(`
`);if(v.maybeReset&&(v.maybeReset=(v.changes=[],!1)),T)if(u.state.overwrite&&!/\n/.test(T))v.changes.push([T]);else{if(T.length>1){var O=_&&_.insertEnd&&_.insertEnd.find(),L=u.getCursor();if(O&&O.line==L.line){var A=O.ch-L.ch;A>0&&A<T.length&&(v.changes.push([T,A]),T="")}}T&&v.changes.push(T)}}m=m.next}}function Is(u){var _;var m=u.state.vim;if(m.insertMode){var y=$.macroModeState;if(y.isPlaying)return;var v=y.lastInsertModeChanges;v.expectCursorActivityForChange?v.expectCursorActivityForChange=!1:(v.maybeReset=!0,m.insertEnd&&m.insertEnd.clear(),m.insertEnd=u.setBookmark(u.getCursor(),{insertLeft:!0}))}else(_=u.curOp)!=null&&_.isVimOp||Aa(u,m)}function Aa(u,m){var y=u.getCursor("anchor"),v=u.getCursor("head");if(m.visualMode&&!u.somethingSelected()?Je(u,!1):!m.visualMode&&!m.insertMode&&u.somethingSelected()&&(m.visualMode=!0,m.visualLine=!1,e.signal(u,"vim-mode-change",{mode:"visual"})),m.visualMode){var _=lt(v,y)?0:-1,k=lt(v,y)?-1:0;v=Ct(v,0,_),y=Ct(y,0,k),m.sel={anchor:y,head:v},pr(u,m,"<",vt(v,y)),pr(u,m,">",On(v,y))}else m.insertMode||(m.lastHPos=u.getCursor().ch)}function ja(u){var m=$.macroModeState.lastInsertModeChanges,y=e.keyName?e.keyName(u):u.key;y&&(y.indexOf("Delete")!=-1||y.indexOf("Backspace")!=-1)&&(m.maybeReset&&(m.maybeReset=(m.changes=[],!1)),m.changes.push(new Qe(y,u)))}function As(u,m,y,v){var _=$.macroModeState;_.isPlaying=!0;var k=m.lastEditActionCommand,T=m.inputState;function O(){k?An.processAction(u,m,k):An.evalInput(u,m)}function L(N){if(_.lastInsertModeChanges.changes.length>0){N=m.lastEditActionCommand?N:1;var re=_.lastInsertModeChanges;Yr(u,re.changes,N)}}if(m.inputState=m.lastEditInputState,k&&k.interlaceInsertRepeat)for(var A=0;A<y;A++)O(),L(1);else v||O(),L(y);m.inputState=T,m.insertMode&&!v&&Ar(u),_.isPlaying=!1}function Cn(u,m){e.lookupKey(m,"vim-insert",function(y){return typeof y=="string"?e.commands[y](u):y(u),!0})}function Yr(u,m,y){var v=u.getCursor("head"),_=$.macroModeState.lastInsertModeChanges.visualBlock;_&&(Vn(u,v,_+1),y=u.listSelections().length,u.setCursor(v));for(var k=0;k<y;k++){_&&u.setCursor(Ct(v,k,0));for(var T=0;T<m.length;T++){var O=m[T];if(O instanceof Qe)Cn(u,O.keyName);else if(typeof O=="string")u.replaceSelection(O);else{var L=u.getCursor(),A=Ct(L,0,O[0].length-(O[1]||0));u.replaceRange(O[0],L,O[1]?L:A),u.setCursor(A)}}}_&&u.setCursor(Ct(v,0,1))}function Ki(u){var m=new u.constructor;return Object.keys(u).forEach(function(y){if(y!="insertEnd"){var v=u[y];Array.isArray(v)?v=v.slice():v&&typeof v=="object"&&v.constructor!=Object&&(v=Ki(v)),m[y]=v}}),u.sel&&(m.sel={head:u.sel.head&&Ge(u.sel.head),anchor:u.sel.anchor&&Ge(u.sel.anchor)}),m}function qa(u,m,y){var k=oe(u),v=u,_=!1,k=Fe.maybeInitVimState_(v),T=k.visualBlock||k.wasInVisualBlock;if(v.state.closeVimNotification){var O=v.state.closeVimNotification;if(v.state.closeVimNotification=null,O(),m=="<CR>")return kt(v),!0}var L=v.isInMultiSelectMode();if(k.wasInVisualBlock&&!L?k.wasInVisualBlock=!1:L&&k.visualBlock&&(k.wasInVisualBlock=!0),m=="<Esc>"&&!k.insertMode&&!k.visualMode&&L&&k.status=="<Esc>")kt(v);else if(T||!L||v.inVirtualSelectionMode)_=Fe.handleKey(v,m,y);else{var A=Ki(k),N=k.inputState.changeQueueList||[];v.operation(function(){var ee;v.curOp&&(v.curOp.isVimOp=!0);var re=0;v.forEachSelection(function(){v.state.vim.inputState.changeQueue=N[re];var U=v.getCursor("head"),Q=v.getCursor("anchor"),ve=lt(U,Q)?0:-1,we=lt(U,Q)?-1:0;U=Ct(U,0,ve),Q=Ct(Q,0,we),v.state.vim.sel.head=U,v.state.vim.sel.anchor=Q,_=Fe.handleKey(v,m,y),v.virtualSelection&&(N[re]=v.state.vim.inputState.changeQueue,v.state.vim=Ki(A)),re++}),(ee=v.curOp)!=null&&ee.cursorActivity&&!_&&(v.curOp.cursorActivity=!1),v.state.vim=k,k.inputState.changeQueueList=N,k.inputState.changeQueue=null},!0)}return _&&!k.visualMode&&!k.insertMode&&k.visualMode!=v.somethingSelected()&&Aa(v,k),_}return Ne(),Fe}function Gn(e,n){var i=n.ch,o=n.line+1;o<1&&(o=1,i=0),o>e.lines&&(o=e.lines,i=Number.MAX_VALUE);var s=e.line(o);return Math.min(s.from+Math.max(0,i),s.to)}function Dr(e,n){let i=e.lineAt(n);return{line:i.number-1,ch:n-i.from}}var $r=class{constructor(e,n){this.line=e,this.ch=n}};function qh(e,n,i){if(e.addEventListener)e.addEventListener(n,i,!1);else{var o=e._handlers||(e._handlers={});o[n]=(o[n]||[]).concat(i)}}function zh(e,n,i){if(e.removeEventListener)e.removeEventListener(n,i,!1);else{var o=e._handlers,s=o&&o[n];if(s){var c=s.indexOf(i);c>-1&&(o[n]=s.slice(0,c).concat(s.slice(c+1)))}}}function Fh(e,n,...i){var c;var o=(c=e._handlers)==null?void 0:c[n];if(o)for(var s=0;s<o.length;++s)o[s](...i)}function Bh(e,...n){if(e)for(var i=0;i<e.length;++i)e[i](...n)}var fd;try{fd=RegExp("[\\w\\p{Alphabetic}\\p{Number}_]","u")}catch{fd=/[\w]/}function gs(e,n){var i=e.cm6;if(!i.state.readOnly){var o="input.type.compose";if(e.curOp&&(e.curOp.lastChange||(o="input.type.compose.start")),n.annotations)try{n.annotations.some(function(s){s.value=="input"&&(s.value=o)})}catch(s){console.error(s)}else n.userEvent=o;return i.dispatch(n)}}function Vh(e,n){var o;e.curOp&&(e.curOp.$changeStart=void 0),(n?WT:jT)(e.cm6);let i=(o=e.curOp)==null?void 0:o.$changeStart;i!=null&&e.cm6.dispatch({selection:{anchor:i}})}var yx={Left:e=>cs(e.cm6,{key:"Left"},"editor"),Right:e=>cs(e.cm6,{key:"Right"},"editor"),Up:e=>cs(e.cm6,{key:"Up"},"editor"),Down:e=>cs(e.cm6,{key:"Down"},"editor"),Backspace:e=>cs(e.cm6,{key:"Backspace"},"editor"),Delete:e=>cs(e.cm6,{key:"Delete"},"editor")},Ze=class Jw{openDialog(n,i,o){return bx(this,n,i,o)}openNotification(n,i){return vx(this,n,i)}constructor(n){this.state={},this.marks=Object.create(null),this.$mid=0,this.options={},this._handlers={},this.$lastChangeEndOffset=0,this.virtualSelection=null,this.cm6=n,this.onChange=this.onChange.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this)}on(n,i){qh(this,n,i)}off(n,i){zh(this,n,i)}signal(n,i,o){Fh(this,n,i,o)}indexFromPos(n){return Gn(this.cm6.state.doc,n)}posFromIndex(n){return Dr(this.cm6.state.doc,n)}foldCode(n){let i=this.cm6,o=i.state.selection.ranges,s=this.cm6.state.doc,c=Gn(s,n),d=fn.create([fn.range(c,c)],0).ranges;i.state.selection.ranges=d,TT(i),i.state.selection.ranges=o}firstLine(){return 0}lastLine(){return this.cm6.state.doc.lines-1}lineCount(){return this.cm6.state.doc.lines}setCursor(n,i){typeof n=="object"&&(i=n.ch,n=n.line);var o=Gn(this.cm6.state.doc,{line:n,ch:i||0});this.cm6.dispatch({selection:{anchor:o}},{scrollIntoView:!this.curOp}),this.curOp&&!this.curOp.isVimOp&&this.onBeforeEndOperation()}getCursor(n){var i=this.cm6.state.selection.main,o=n=="head"||!n?i.head:n=="anchor"?i.anchor:n=="start"?i.from:n=="end"?i.to:null;if(o==null)throw Error("Invalid cursor type");return this.posFromIndex(o)}listSelections(){var n=this.cm6.state.doc;return this.cm6.state.selection.ranges.map(i=>({anchor:Dr(n,i.anchor),head:Dr(n,i.head)}))}setSelections(n,i){var o=this.cm6.state.doc,s=n.map(c=>{var d=Gn(o,c.head),p=Gn(o,c.anchor);return d==p?fn.cursor(d,1):fn.range(p,d)});this.cm6.dispatch({selection:fn.create(s,i)})}setSelection(n,i,o){this.setSelections([{anchor:n,head:i}],0),o&&o.origin=="*mouse"&&this.onBeforeEndOperation()}getLine(n){var i=this.cm6.state.doc;return n<0||n>=i.lines?"":this.cm6.state.doc.line(n+1).text}getLineHandle(n){return this.$lineHandleChanges||(this.$lineHandleChanges=[]),{row:n,index:this.indexFromPos(new $r(n,0))}}getLineNumber(n){var i=this.$lineHandleChanges;if(!i)return null;for(var o=n.index,s=0;s<i.length;s++)if(o=i[s].changes.mapPos(o,1,Hb.TrackAfter),o==null)return null;var c=this.posFromIndex(o);return c.ch==0?c.line:null}releaseLineHandles(){this.$lineHandleChanges=void 0}getRange(n,i){var o=this.cm6.state.doc;return this.cm6.state.sliceDoc(Gn(o,n),Gn(o,i))}replaceRange(n,i,o,s){o||(o=i);var c=this.cm6.state.doc,d=Gn(c,i),p=Gn(c,o);gs(this,{changes:{from:d,to:p,insert:n}})}replaceSelection(n){gs(this,this.cm6.state.replaceSelection(n))}replaceSelections(n){var i=this.cm6.state.selection.ranges.map((o,s)=>({from:o.from,to:o.to,insert:n[s]||""}));gs(this,{changes:i})}getSelection(){return this.getSelections().join(`
`)}getSelections(){var n=this.cm6;return n.state.selection.ranges.map(i=>n.state.sliceDoc(i.from,i.to))}somethingSelected(){return this.cm6.state.selection.ranges.some(n=>!n.empty)}getInputField(){return this.cm6.contentDOM}clipPos(n){var i=this.cm6.state.doc,o=n.ch,s=n.line+1;s<1&&(s=1,o=0),s>i.lines&&(s=i.lines,o=Number.MAX_VALUE);var c=i.line(s);return o=Math.min(Math.max(0,o),c.to-c.from),new $r(s-1,o)}getValue(){return this.cm6.state.doc.toString()}setValue(n){var i=this.cm6;return i.dispatch({changes:{from:0,to:i.state.doc.length,insert:n},selection:fn.range(0,0)})}focus(){return this.cm6.focus()}blur(){return this.cm6.contentDOM.blur()}defaultTextHeight(){return this.cm6.defaultLineHeight}findMatchingBracket(n,i){var o=this.cm6.state,s=Gn(o.doc,n),c=$b(o,s+1,-1);return c&&c.end||(c=$b(o,s,1),c&&c.end)?{to:Dr(o.doc,c.end.from)}:{to:void 0}}scanForBracket(n,i,o,s){return xx(this,n,i,o,s)}indentLine(n,i){i?this.indentMore():this.indentLess()}indentMore(){ZT(this.cm6)}indentLess(){BT(this.cm6)}execCommand(n){if(n=="indentAuto")Jw.commands.indentAuto(this);else if(n=="goLineLeft")UT(this.cm6);else if(n=="goLineRight"){$T(this.cm6);let i=this.cm6.state,o=i.selection.main.head;o<i.doc.length&&i.sliceDoc(o,o+1)!==`
`&&VT(this.cm6)}else console.log(n+" is not implemented")}setBookmark(n,i){var o=i!=null&&i.insertLeft?1:-1,s=this.indexFromPos(n);return new Sx(this,s,o)}addOverlay({query:n}){let i=new GT({regexp:!0,search:n.source,caseSensitive:!/i/.test(n.flags)});if(i.valid){i.forVim=!0,this.cm6Query=i;let o=Kp.of(i);return this.cm6.dispatch({effects:o}),i}}removeOverlay(n){if(!this.cm6Query)return;this.cm6Query.forVim=!1;let i=Kp.of(this.cm6Query);this.cm6.dispatch({effects:i})}getSearchCursor(n,i){var o=this,s=null,c=null,d=!1;i.ch??(i.ch=Number.MAX_VALUE);var p=Gn(o.cm6.state.doc,i),h=n.source.replace(/(\\.|{(?:\d+(?:,\d*)?|,\d+)})|[{}]/g,function(E,D){return D||"\\"+E});function b(E,D=0,M=E.length){return new KT(E,h,{ignoreCase:n.ignoreCase},D,M)}function x(E){var D=o.cm6.state.doc;if(E>D.length)return null;let M=b(D,E).next();return M.done?null:M.value}var w=1e4;function S(E,D){var M=o.cm6.state.doc;for(let F=1;;F++){let J=Math.max(E,D-F*w),K=b(M,J,D),V=null;for(;!K.next().done;)V=K.value;if(V&&(J==E||V.from>J+10))return V;if(J==E)return null}}return{findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(E){var D=o.cm6.state.doc;return s=E?S(0,s?d?s.to-1:s.from:p):x(s?d?s.to+1:s.to:p),c=s&&{from:Dr(D,s.from),to:Dr(D,s.to),match:s.match},d=s?s.from==s.to:!1,s&&s.match},from:function(){return c==null?void 0:c.from},to:function(){return c==null?void 0:c.to},replace:function(E){s&&(gs(o,{changes:{from:s.from,to:s.to,insert:E}}),s.to=s.from+E.length,c&&(c.to=Dr(o.cm6.state.doc,s.to)))},get match(){return c&&c.match}}}findPosV(n,i,o,s){let{cm6:c}=this,d=c.state.doc,p=o=="page"?c.dom.clientHeight:0,h=Gn(d,n),b=fn.cursor(h,1,void 0,s),x=Math.round(Math.abs(i));for(let S=0;S<x;S++)o=="page"?b=c.moveVertically(b,i>0,p):o=="line"&&(b=c.moveVertically(b,i>0));let w=Dr(d,b.head);return(i<0&&b.head==0&&s!=0&&n.line==0&&n.ch!=0||i>0&&b.head==d.length&&w.ch!=s&&n.line==w.line)&&(w.hitSide=!0),w}charCoords(n,i){var o=this.cm6.contentDOM.getBoundingClientRect(),s=Gn(this.cm6.state.doc,n),c=this.cm6.coordsAtPos(s),d=-o.top;return{left:((c==null?void 0:c.left)||0)-o.left,top:((c==null?void 0:c.top)||0)+d,bottom:((c==null?void 0:c.bottom)||0)+d}}coordsChar(n,i){var o=this.cm6.contentDOM.getBoundingClientRect(),s=this.cm6.posAtCoords({x:n.left+o.left,y:n.top+o.top})||0;return Dr(this.cm6.state.doc,s)}getScrollInfo(){var n=this.cm6.scrollDOM;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight,width:n.scrollWidth,clientHeight:n.clientHeight,clientWidth:n.clientWidth}}scrollTo(n,i){n!=null&&(this.cm6.scrollDOM.scrollLeft=n),i!=null&&(this.cm6.scrollDOM.scrollTop=i)}scrollIntoView(n,i){if(n){var o=this.indexFromPos(n);this.cm6.dispatch({effects:Zt.scrollIntoView(o)})}else this.cm6.dispatch({scrollIntoView:!0,userEvent:"scroll"})}getWrapperElement(){return this.cm6.dom}getMode(){return{name:this.getOption("mode")}}setSize(n,i){this.cm6.dom.style.width=n+4+"px",this.cm6.dom.style.height=i+"px",this.refresh()}refresh(){this.cm6.measure()}destroy(){this.removeOverlay()}getLastEditEnd(){return this.posFromIndex(this.$lastChangeEndOffset)}onChange(n){for(let o in this.$lineHandleChanges&&this.$lineHandleChanges.push(n),this.marks)this.marks[o].update(n.changes);this.virtualSelection&&(this.virtualSelection.ranges=this.virtualSelection.ranges.map(o=>o.map(n.changes)));var i=this.curOp=this.curOp||{};n.changes.iterChanges((o,s,c,d,p)=>{(i.$changeStart==null||i.$changeStart>c)&&(i.$changeStart=c),this.$lastChangeEndOffset=d;var h={text:p.toJSON()};i.lastChange?i.lastChange.next=i.lastChange=h:i.lastChange=i.change=h},!0),i.changeHandlers||(i.changeHandlers=this._handlers.change&&this._handlers.change.slice())}onSelectionChange(){var n=this.curOp=this.curOp||{};n.cursorActivityHandlers||(n.cursorActivityHandlers=this._handlers.cursorActivity&&this._handlers.cursorActivity.slice()),this.curOp.cursorActivity=!0}operation(n,i){this.curOp||(this.curOp={$d:0}),this.curOp.$d++;try{var o=n()}finally{this.curOp&&(this.curOp.$d--,this.curOp.$d||this.onBeforeEndOperation())}return o}onBeforeEndOperation(){var n=this.curOp,i=!1;n&&(n.change&&Bh(n.changeHandlers,this,n.change),n&&n.cursorActivity&&(Bh(n.cursorActivityHandlers,this,null),n.isVimOp&&(i=!0)),this.curOp=null),i&&this.scrollIntoView()}moveH(n,i){if(i=="char"){var o=this.getCursor();this.setCursor(o.line,o.ch+n)}}setOption(n,i){switch(n){case"keyMap":this.state.keyMap=i;break;case"textwidth":this.state.textwidth=i;break}}getOption(n){switch(n){case"firstLineNumber":return 1;case"tabSize":return this.cm6.state.tabSize||4;case"readOnly":return this.cm6.state.readOnly;case"indentWithTabs":return this.cm6.state.facet(Wb)=="	";case"indentUnit":return this.cm6.state.facet(Wb).length||2;case"textwidth":return this.state.textwidth;case"keyMap":return this.state.keyMap||"vim"}}toggleOverwrite(n){this.state.overwrite=n}getTokenTypeAt(n){var s,c,d;var i=this.indexFromPos(n),o=((d=(c=(s=Qb(this.cm6.state,i))==null?void 0:s.resolve(i))==null?void 0:c.type)==null?void 0:d.name)||"";return/comment/i.test(o)?"comment":/string/i.test(o)?"string":""}overWriteSelection(n){var i=this.cm6.state.doc,o=this.cm6.state.selection,s=o.ranges.map(c=>{if(c.empty){var d=c.to<i.length?i.sliceString(c.from,c.to+1):"";if(d&&!/\n/.test(d))return fn.range(c.from,c.to+1)}return c});this.cm6.dispatch({selection:fn.create(s,o.mainIndex)}),this.replaceSelection(n)}isInMultiSelectMode(){return this.cm6.state.selection.ranges.length>1}virtualSelectionMode(){return!!this.virtualSelection}forEachSelection(n){var i=this.cm6.state.selection;this.virtualSelection=fn.create(i.ranges,i.mainIndex);for(var o=0;o<this.virtualSelection.ranges.length;o++){var s=this.virtualSelection.ranges[o];s&&(this.cm6.dispatch({selection:fn.create([s])}),n(),this.virtualSelection.ranges[o]=this.cm6.state.selection.ranges[0])}this.cm6.dispatch({selection:this.virtualSelection}),this.virtualSelection=null}hardWrap(n){return Ex(this,n)}};Ze.isMac=typeof navigator<"u"&&/Mac/.test(navigator.platform),Ze.Pos=$r,Ze.StringStream=NT,Ze.commands={cursorCharLeft:function(e){QT(e.cm6)},redo:function(e){Vh(e,!1)},undo:function(e){Vh(e,!0)},newlineAndIndent:function(e){YT({state:e.cm6.state,dispatch:n=>gs(e,n)})},indentAuto:function(e){qT(e.cm6)},newlineAndIndentContinueComment:void 0,save:void 0},Ze.isWordChar=function(e){return fd.test(e)},Ze.keys=yx,Ze.addClass=function(e,n){},Ze.rmClass=function(e,n){},Ze.e_preventDefault=function(e){e.preventDefault()},Ze.e_stop=function(e){var n,i;(n=e==null?void 0:e.stopPropagation)==null||n.call(e),(i=e==null?void 0:e.preventDefault)==null||i.call(e)},Ze.lookupKey=function(e,n,i){var o=Ze.keys[e];!o&&/^Arrow/.test(e)&&(o=Ze.keys[e.slice(5)]),o&&i(o)},Ze.on=qh,Ze.off=zh,Ze.signal=Fh,Ze.findMatchingTag=kx,Ze.findEnclosingTag=Cx,Ze.keyName=void 0;function $h(e,n,i){var o=document.createElement("div");return o.appendChild(n),o}function Hh(e,n){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=n}function vx(e,n,i){Hh(e,p);var o=$h(e,n,i&&i.bottom),s=!1,c,d=i&&i.duration!==void 0?i.duration:5e3;function p(){s||(s=!0,clearTimeout(c),o.remove(),Uh(e,o))}return o.onclick=function(h){h.preventDefault(),p()},Wh(e,o),d&&(c=setTimeout(p,d)),p}function Wh(e,n){var i=e.state.dialog;e.state.dialog=n,n.style.flex="1",n&&i!==n&&(i&&i.contains(document.activeElement)&&e.focus(),i&&i.parentElement?i.parentElement.replaceChild(n,i):i&&i.remove(),Ze.signal(e,"dialog"))}function Uh(e,n){e.state.dialog==n&&(e.state.dialog=null,Ze.signal(e,"dialog"))}function bx(e,n,i,o){o||(o={}),Hh(e,void 0);var s=$h(e,n,o.bottom),c=!1;Wh(e,s);function d(h){if(typeof h=="string")p.value=h;else{if(c)return;c=!0,Uh(e,s),e.state.dialog||e.focus(),o.onClose&&o.onClose(s)}}var p=s.getElementsByTagName("input")[0];return p&&(o.value&&(p.value=o.value,o.selectValueOnOpen!==!1&&p.select()),o.onInput&&Ze.on(p,"input",function(h){o.onInput(h,p.value,d)}),o.onKeyUp&&Ze.on(p,"keyup",function(h){o.onKeyUp(h,p.value,d)}),Ze.on(p,"keydown",function(h){o&&o.onKeyDown&&o.onKeyDown(h,p.value,d)||(h.keyCode==13&&i&&i(p.value),(h.keyCode==27||o.closeOnEnter!==!1&&h.keyCode==13)&&(p.blur(),Ze.e_stop(h),d()))}),o.closeOnBlur!==!1&&Ze.on(p,"blur",function(){setTimeout(function(){document.activeElement!==p&&d()})}),p.focus()),d}var wx={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function _x(e){return e&&e.bracketRegex||/[(){}[\]]/}function xx(e,n,i,o,s){for(var c=s&&s.maxScanLineLength||1e4,d=s&&s.maxScanLines||1e3,p=[],h=_x(s),b=i>0?Math.min(n.line+d,e.lastLine()+1):Math.max(e.firstLine()-1,n.line-d),x=n.line;x!=b;x+=i){var w=e.getLine(x);if(w){var S=i>0?0:w.length-1,E=i>0?w.length:-1;if(!(w.length>c))for(x==n.line&&(S=n.ch-(i<0?1:0));S!=E;S+=i){var D=w.charAt(S);if(h.test(D)){var M=wx[D];if(M&&M.charAt(1)==">"==i>0)p.push(D);else if(p.length)p.pop();else return{pos:new $r(x,S),ch:D}}}}}return x-i==(i>0?e.lastLine():e.firstLine())?!1:null}function kx(e,n){return null}function Cx(e,n){var c,d,p;var i=e.cm6.state,o=e.indexFromPos(n);o<i.doc.length&&i.sliceDoc(o,o+1)=="<"&&o++;for(var s=((c=Qb(i,o))==null?void 0:c.resolve(o))||null;s;){if(((d=s.firstChild)==null?void 0:d.type.name)=="OpenTag"&&((p=s.lastChild)==null?void 0:p.type.name)=="CloseTag")return{open:Kh(i.doc,s.firstChild),close:Kh(i.doc,s.lastChild)};s=s.parent}}function Kh(e,n){return{from:Dr(e,n.from),to:Dr(e,n.to)}}var Sx=class{constructor(e,n,i){this.cm=e,this.id=e.$mid++,this.offset=n,this.assoc=i,e.marks[this.id]=this}clear(){delete this.cm.marks[this.id]}find(){return this.offset==null?null:this.cm.posFromIndex(this.offset)}update(e){this.offset!=null&&(this.offset=e.mapPos(this.offset,this.assoc,Hb.TrackDel))}};function Ex(e,n){var D;for(var i=n.column||e.getOption("textwidth")||80,o=n.allowMerge!=0,s=Math.min(n.from,n.to),c=Math.max(n.from,n.to);s<=c;){var d=e.getLine(s);if(d.length>i){var p=E(d,i,5);if(p){var h=(D=/^\s*/.exec(d))==null?void 0:D[0];e.replaceRange(`
`+h,new $r(s,p.start),new $r(s,p.end))}c++}else if(o&&/\S/.test(d)&&s!=c){var b=e.getLine(s+1);if(b&&/\S/.test(b)){var x=d.replace(/\s+$/,""),w=b.replace(/^\s+/,""),S=x+" "+w,p=E(S,i,5);p&&p.start>x.length||S.length<i?(e.replaceRange(" ",new $r(s,x.length),new $r(s+1,b.length-w.length)),s--,c--):x.length<d.length&&e.replaceRange("",new $r(s,x.length),new $r(s,d.length))}}s++}return s;function E(M,F,J){if(!(M.length<F)){var K=M.slice(0,F),V=M.slice(F),ce=/^(?:(\s+)|(\S+)(\s+))/.exec(V),he=/(?:(\s+)|(\s+)(\S+))$/.exec(K),B=0,W=0;if(he&&!he[2]&&(B=F-he[1].length,W=F),ce&&!ce[2]&&(B||(B=F),W=F+ce[1].length),B)return{start:B,end:W};if(he&&he[2]&&he.index>J)return{start:he.index,end:he.index+he[2].length};if(ce&&ce[2])return B=F+ce[2].length,{start:B,end:B+ce[3].length}}}}var pd=MT||(function(){let e={cursorBlinkRate:1200};return function(){return e}})(),Tx=class{constructor(e,n,i,o,s,c,d,p,h,b){this.left=e,this.top=n,this.height=i,this.fontFamily=o,this.fontSize=s,this.fontWeight=c,this.color=d,this.className=p,this.letter=h,this.partial=b}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",e.style.height=this.height+"px",e.style.lineHeight=this.height+"px",e.style.fontFamily=this.fontFamily,e.style.fontSize=this.fontSize,e.style.fontWeight=this.fontWeight,e.style.color=this.partial?"transparent":this.color,e.className=this.className,e.textContent=this.letter}eq(e){return this.left==e.left&&this.top==e.top&&this.height==e.height&&this.fontFamily==e.fontFamily&&this.fontSize==e.fontSize&&this.fontWeight==e.fontWeight&&this.color==e.color&&this.className==e.className&&this.letter==e.letter}},Rx=class{constructor(e,n){this.view=e,this.rangePieces=[],this.cursors=[],this.cm=n,this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer cm-vimCursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){let e=pd(this.cm.cm6.state).cursorBlinkRate;this.cursorLayer.style.animationDuration=e+"ms"}update(e){(e.selectionSet||e.geometryChanged||e.viewportChanged)&&(this.view.requestMeasure(this.measureReq),this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),Dx(e)&&this.setBlinkRate()}scheduleRedraw(){this.view.requestMeasure(this.measureReq)}readPos(){let{state:e}=this.view,n=[];for(let i of e.selection.ranges){let o=i==e.selection.main,s=Lx(this.cm,this.view,i,o);s&&n.push(s)}return{cursors:n}}drawSel({cursors:e}){if(e.length!=this.cursors.length||e.some((n,i)=>!n.eq(this.cursors[i]))){let n=this.cursorLayer.children;if(n.length!==e.length){this.cursorLayer.textContent="";for(let i of e)this.cursorLayer.appendChild(i.draw())}else e.forEach((i,o)=>i.adjust(n[o]));this.cursors=e}}destroy(){this.cursorLayer.remove()}};function Dx(e){return pd(e.startState)!=pd(e.state)}var Ox=yu.highest(Zt.theme({".cm-vimMode .cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-fat-cursor":{position:"absolute",background:"#ff9696",border:"none",whiteSpace:"pre"},"&:not(.cm-focused) .cm-fat-cursor":{background:"none",outline:"solid 1px #ff9696",color:"transparent !important"}}));function Px(e){let n=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==ST.LTR?n.left:n.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft*e.scaleX,top:n.top-e.scrollDOM.scrollTop*e.scaleY}}function Lx(e,n,i,o){var x,w,S;var s;let c=i.head,d=!1,p=1,h=e.state.vim;if(h&&(!h.insertMode||e.state.overwrite)){if(d=!0,h.visualBlock&&!o)return null;i.anchor<i.head&&(c<n.state.doc.length&&n.state.sliceDoc(c,c+1))!=`
`&&c--,e.state.overwrite?p=.2:h.status&&(p=.5)}if(d){let E=c<n.state.doc.length&&n.state.sliceDoc(c,c+1);E&&/[\uDC00-\uDFFF]/.test(E)&&c>1&&(c--,E=n.state.sliceDoc(c,c+1));let D=n.coordsAtPos(c,1);if(!D)return null;let M=Px(n),F=n.domAtPos(c),J=F?F.node:n.contentDOM;for(J instanceof Text&&F.offset>=J.data.length&&((x=J.parentElement)==null?void 0:x.nextSibling)&&(J=(w=J.parentElement)==null?void 0:w.nextSibling,F={node:J,offset:0});F&&F.node instanceof HTMLElement;)J=F.node,F={node:F.node.childNodes[F.offset],offset:0};if(!(J instanceof HTMLElement)){if(!J.parentNode)return null;J=J.parentNode}let K=getComputedStyle(J),V=D.left,ce=(S=(s=n).coordsForChar)==null?void 0:S.call(s,c);if(ce&&(V=ce.left),!E||E==`
`||E=="\r")E="\xA0";else if(E=="	"){E="\xA0";var b=n.coordsAtPos(c+1,-1);b&&(V=b.left-(b.left-D.left)/parseInt(K.tabSize))}else/[\uD800-\uDBFF]/.test(E)&&c<n.state.doc.length-1&&(E+=n.state.sliceDoc(c+1,c+2));let he=D.bottom-D.top;return new Tx((V-M.left)/n.scaleX,(D.top-M.top+he*(1-p))/n.scaleY,he*p/n.scaleY,K.fontFamily,K.fontSize,K.fontWeight,K.color,o?"cm-fat-cursor cm-cursor-primary":"cm-fat-cursor cm-cursor-secondary",E,p!=1)}else return null}let Qh,Gh,Jh,Xh;Qh=typeof navigator<"u"&&/linux/i.test(navigator.platform)&&/ Gecko\/\d+/.exec(navigator.userAgent),Mi=gx(Ze),Gh=250,Jh=Zt.baseTheme({".cm-vimMode .cm-cursorLayer:not(.cm-vimCursorLayer)":{display:"none"},".cm-vim-panel":{padding:"0px 10px",fontFamily:"monospace",minHeight:"1.3em",display:"flex"},".cm-vim-panel input":{border:"none",outline:"none",backgroundColor:"inherit"},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"}}),Xh=ao.fromClass(class{constructor(e){this.status="",this.query=null,this.decorations=Pi.none,this.waitForCopy=!1,this.lastKeydown="",this.useNextTextInput=!1,this.compositionText="",this.view=e;let n=this.cm=new Ze(e);Mi.enterVimMode(this.cm),this.view.cm=this.cm,this.cm.state.vimPlugin=this,this.blockCursor=new Rx(e,n),this.updateClass(),this.cm.on("vim-command-done",()=>{n.state.vim&&(n.state.vim.status=""),this.blockCursor.scheduleRedraw(),this.updateStatus()}),this.cm.on("vim-mode-change",i=>{n.state.vim&&(n.state.vim.mode=i.mode,i.subMode&&(n.state.vim.mode+=" block"),n.state.vim.status="",this.blockCursor.scheduleRedraw(),this.updateClass(),this.updateStatus())}),this.cm.on("dialog",()=>{this.cm.state.statusbar?this.updateStatus():e.dispatch({effects:Yh.of(!!this.cm.state.dialog)})}),this.dom=document.createElement("span"),this.spacer=document.createElement("span"),this.spacer.style.flex="1",this.statusButton=document.createElement("span"),this.statusButton.onclick=i=>{Mi.handleKey(this.cm,"<Esc>","user"),this.cm.focus()},this.statusButton.style.cssText="cursor: pointer"}update(e){var n;if((e.viewportChanged||e.docChanged)&&this.query&&this.highlight(this.query),e.docChanged&&this.cm.onChange(e),e.selectionSet&&this.cm.onSelectionChange(),e.viewportChanged,this.cm.curOp&&!this.cm.curOp.isVimOp&&this.cm.onBeforeEndOperation(),e.transactions){for(let i of e.transactions)for(let o of i.effects)if(o.is(Kp))if(!((n=o.value)!=null&&n.forVim))this.highlight(null);else{let s=o.value.create();this.highlight(s)}}this.blockCursor.update(e)}updateClass(){let e=this.cm.state;!e.vim||e.vim.insertMode&&!e.overwrite?this.view.scrollDOM.classList.remove("cm-vimMode"):this.view.scrollDOM.classList.add("cm-vimMode")}updateStatus(){let e=this.cm.state.statusbar,n=this.cm.state.vim;if(!e||!n)return;let i=this.cm.state.dialog;if(i)i.parentElement!=e&&(e.textContent="",e.appendChild(i));else{e.textContent="";var o=(n.mode||"normal").toUpperCase();n.insertModeReturn&&(o+="(C-O)"),this.statusButton.textContent=`--${o}--`,e.appendChild(this.statusButton),e.appendChild(this.spacer)}this.dom.textContent=n.status,e.appendChild(this.dom)}destroy(){Mi.leaveVimMode(this.cm),this.updateClass(),this.blockCursor.destroy(),delete this.view.cm}highlight(e){if(this.query=e,!e)return this.decorations=Pi.none;let{view:n}=this,i=new Vb;for(let o=0,s=n.visibleRanges,c=s.length;o<c;o++){let{from:d,to:p}=s[o];for(;o<c-1&&p>s[o+1].from-2*Gh;)p=s[++o].to;e.highlight(n.state,d,p,(h,b)=>{i.add(h,b,Nx)})}return this.decorations=i.finish()}handleKey(e,n){let i=this.cm,o=i.state.vim;if(!o)return;let s=Mi.vimKeyFromEvent(e,o);if(Ze.signal(this.cm,"inputEvent",{type:"handleKey",key:s}),!s)return;if(s=="<Esc>"&&!o.insertMode&&!o.visualMode&&this.query){let d=o.searchState_;d&&(i.removeOverlay(d.getOverlay()),d.setOverlay(null))}if(s==="<C-c>"&&!Ze.isMac&&i.somethingSelected())return this.waitForCopy=!0,!0;o.status=(o.status||"")+s;let c=Mi.multiSelectHandleKey(i,s,"user");return o=Mi.maybeInitVimState_(i),!c&&o.insertMode&&i.state.overwrite&&(e.key&&e.key.length==1&&!/\n/.test(e.key)?(c=!0,i.overWriteSelection(e.key)):e.key=="Backspace"&&(c=!0,Ze.commands.cursorCharLeft(i))),c&&(Ze.signal(this.cm,"vim-keypress",s),e.preventDefault(),e.stopPropagation(),this.blockCursor.scheduleRedraw()),this.updateStatus(),!!c}},{eventHandlers:{copy:function(e,n){this.waitForCopy&&(this.waitForCopy=!1,Promise.resolve().then(()=>{var i=this.cm,o=i.state.vim;o&&(o.insertMode?i.setSelection(i.getCursor(),i.getCursor()):i.operation(()=>{i.curOp&&(i.curOp.isVimOp=!0),Mi.handleKey(i,"<Esc>","user")}))}))},compositionstart:function(e,n){this.useNextTextInput=!0,Ze.signal(this.cm,"inputEvent",e)},compositionupdate:function(e,n){Ze.signal(this.cm,"inputEvent",e)},compositionend:function(e,n){Ze.signal(this.cm,"inputEvent",e)},keypress:function(e,n){Ze.signal(this.cm,"inputEvent",e),this.lastKeydown=="Dead"&&this.handleKey(e,n)},keydown:function(e,n){Ze.signal(this.cm,"inputEvent",e),this.lastKeydown=e.key,this.lastKeydown=="Unidentified"||this.lastKeydown=="Process"||this.lastKeydown=="Dead"?this.useNextTextInput=!0:(this.useNextTextInput=!1,this.handleKey(e,n))}},provide:()=>[Zt.inputHandler.of((e,n,i,o)=>{var x,w;var s=Ll(e);if(!s)return!1;var c=(x=s.state)==null?void 0:x.vim,d=s.state.vimPlugin;if(c&&!c.insertMode&&!((w=s.curOp)!=null&&w.isVimOp)){if(o==="\0\0")return!0;if(Ze.signal(s,"inputEvent",{type:"text",text:o,from:n,to:i}),o.length==1&&d.useNextTextInput){if(c.expectLiteralNext&&e.composing)return d.compositionText=o,!1;if(d.compositionText){var p=d.compositionText;d.compositionText="";var h=e.state.selection.main.head;if(p===e.state.sliceDoc(h-p.length,h)){var b=s.getCursor();s.replaceRange("",s.posFromIndex(h-p.length),b)}}return d.handleKey({key:o,preventDefault:()=>{},stopPropagation:()=>{}}),Mx(e),!0}}return!1})],decorations:e=>e.decorations});function Mx(e){var n=e.scrollDOM.parentElement;if(n){if(Qh){e.contentDOM.textContent="\0\0",e.contentDOM.dispatchEvent(new CustomEvent("compositionend"));return}var i=e.scrollDOM.nextSibling,o=window.getSelection(),s=o&&{anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset};e.scrollDOM.remove(),n.insertBefore(e.scrollDOM,i);try{s&&o&&(o.setPosition(s.anchorNode,s.anchorOffset),s.focusNode&&o.extend(s.focusNode,s.focusOffset))}catch(c){console.error(c)}e.focus(),e.contentDOM.dispatchEvent(new CustomEvent("compositionend"))}}var Nx=Pi.mark({class:"cm-searchMatch"}),Yh=ma.define(),Ix=El.define({create:()=>!1,update(e,n){for(let i of n.effects)i.is(Yh)&&(e=i.value);return e},provide:e=>Up.from(e,n=>n?Ax:null)});function Ax(e){let n=document.createElement("div");n.className="cm-vim-panel";let i=e.cm;return i.state.dialog&&n.appendChild(i.state.dialog),{top:!1,dom:n}}function jx(e){let n=document.createElement("div");n.className="cm-vim-panel";let i=e.cm;return i.state.statusbar=n,i.state.vimPlugin.updateStatus(),{dom:n}}q2=function(e={}){return[Jh,Xh,Ox,e.status?Up.of(jx):Ix]},Ll=function(e){return e.cm||null},om=function(e){let n=e.state.selection.main;return n.from===0&&n.to===0},bm=function(e,n=!1){let i=e.state.selection.main,o=e.state.doc.length;return n&&i.from===o-1&&i.to===o-1?!0:i.from===o&&i.to===o},Tw=function(e){e&&e.dispatch({selection:{anchor:e.state.doc.length,head:e.state.doc.length}})},x2=function(e){var n;return((n=Ll(e))==null?void 0:n.state.vim)!=null},B2=function(e){var i;let n=(i=Ll(e))==null?void 0:i.state.vim;return n?!n.mode&&!n.insertMode&&!n.visualMode?!0:n.mode==="normal":!1},g2=function(e){e&&e.dispatch({selection:{anchor:0,head:e.state.doc.length}})};function Zh(e,n){if(!(n!=null&&n.length))return Pi.none;let i=new Vb,o=e.facet(po),s=n.filter(c=>c.kind==="cell"&&c.cellId===o).sort((c,d)=>c.lineNumber-d.lineNumber);for(let c of s){let d=e.doc.line(c.lineNumber),p=Pi.line({class:"cm-error-line"});i.add(d.from,d.from,p)}return i.finish()}var qx=class{constructor(e,n){this.decorations=Zh(e.state,n.get()),this.unsubscribe=n.sub(i=>{let o=this.decorations.size;this.decorations=Zh(e.state,i),o!==this.decorations.size&&e.dispatch({userEvent:"marimo.error-decoration-update"})})}update(e){this.decorations=this.decorations.map(e.changes)}destroy(){this.unsubscribe()}};function zx(e){return ao.define(n=>new qx(n,e),{decorations:n=>n.decorations})}function Fx(e){return[zx(e),Zt.theme({".cm-error-line":{backgroundColor:"color-mix(in srgb, var(--red-4) 40%, transparent)"},"&.cm-focused .cm-error-line.cm-activeLine":{backgroundColor:"color-mix(in srgb, var(--red-6) 40%, transparent)"}})]}function Bx({cellId:e,hotkeys:n}){let i=[];return i.push({key:n.getHotkey("cell.run").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).onRun(),!0)},{key:n.getHotkey("cell.runAndNewBelow").key,preventDefault:!0,stopPropagation:!0,run:o=>{let s=o.state.facet(Dt);return s.onRun(),e==="__scratch__"||(o.contentDOM.blur(),s.moveToNextCell({cellId:e,before:!1})),!0}},{key:n.getHotkey("cell.runAndNewAbove").key,preventDefault:!0,stopPropagation:!0,run:o=>{let s=o.state.facet(Dt);return s.onRun(),e==="__scratch__"||(o.contentDOM.blur(),s.moveToNextCell({cellId:e,before:!0})),!0}},{key:n.getHotkey("cell.aiCompletion").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).aiCellCompletion()&&o.contentDOM.focus(),!0)}),e!=="__scratch__"&&i.push({key:n.getHotkey("cell.goToDefinition").key,preventDefault:!0,stopPropagation:!0,run:o=>(um(o),!0)},{key:n.getHotkey("cell.delete").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.doc.length===0&&o.state.facet(Dt).deleteCell(),!0)},{key:n.getHotkey("cell.moveUp").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).moveCell({cellId:e,before:!0}),!0)},{key:n.getHotkey("cell.moveDown").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).moveCell({cellId:e,before:!1}),!0)},{key:n.getHotkey("cell.moveLeft").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).moveCell({cellId:e,before:!0,direction:"left"}),!0)},{key:n.getHotkey("cell.moveRight").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).moveCell({cellId:e,before:!1,direction:"right"}),!0)},{key:"ArrowUp",preventDefault:!0,stopPropagation:!0,run:o=>i2(o.state)?!1:om(o)?(o.state.facet(Dt).moveToNextCell({cellId:e,before:!0,noCreate:!0}),!0):!1},{key:"ArrowDown",preventDefault:!0,stopPropagation:!0,run:o=>i2(o.state)?!1:bm(o)?(o.state.facet(Dt).moveToNextCell({cellId:e,before:!1,noCreate:!0}),!0):!1},{key:n.getHotkey("cell.focusDown").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).moveToNextCell({cellId:e,before:!1,noCreate:!0}),!0)},{key:n.getHotkey("cell.focusUp").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).moveToNextCell({cellId:e,before:!0,noCreate:!0}),!0)},{key:n.getHotkey("cell.sendToBottom").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).sendToBottom({cellId:e}),!0)},{key:n.getHotkey("cell.sendToTop").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).sendToTop({cellId:e}),!0)},{key:n.getHotkey("cell.createAbove").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.contentDOM.blur(),o.state.facet(Dt).createNewCell({cellId:e,before:!0}),!0)},{key:n.getHotkey("cell.createBelow").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.contentDOM.blur(),o.state.facet(Dt).createNewCell({cellId:e,before:!1}),!0)},{key:n.getHotkey("cell.hideCode").key,preventDefault:!0,stopPropagation:!0,run:o=>{var c;let s=o.state.facet(Dt).toggleHideCode();return a2(o),s?(o.contentDOM.blur(),(c=document.getElementById(ur.create(e)))==null||c.focus()):o.contentDOM.focus(),!0}},{key:n.getHotkey("cell.splitCell").key,preventDefault:!0,stopPropagation:!0,run:o=>{let s=o.state.facet(Dt);return s.splitCell({cellId:e}),s.moveToNextCell&&requestAnimationFrame(()=>{o.contentDOM.blur(),s.moveToNextCell({cellId:e,before:!1})}),!0}}),[yu.high(io.of(i))]}function Vx(e){return[Zt.updateListener.of(n=>{if(n.docChanged){let i=n.transactions.some(d=>d.effects.some(p=>p.is(yo))),o=oi(n.view),s=n.view.state.facet(Dt),c=n.view.state.facet(po);s.updateCellCode({cellId:c,code:o,formattingChange:i})}}),W_(e)]}function $x({predicate:e}){return Zt.updateListener.of(n=>{n.docChanged&&n.view.hasFocus&&e()&&(n.transactions.some(i=>i.effects.some(o=>o.is(yo)))||n.view.state.facet(Dt).onRun())})}Ww=function({cellId:e,hotkeys:n,cellActions:i}){return[Dt.of(i),po.of(e),Bx({cellId:e,hotkeys:n}),Vx(n),Fx(V_(C3(e),st))]};const e0=async e=>{let n=e.state.doc.sliceString(0,e.pos),i=document.activeElement,o=null;if(i!==null){let d=ur.findElement(i);d!==null&&(o=ur.parse(d.id))}if(o===null)return Ae.error("Failed to find active cell."),null;let s=await Zu.request({document:n,cellId:o});if(!s)return null;let c=dd.asHoverTooltip({position:e.pos,message:s,limitToType:"tooltip"});return c&&st.set(n2,{documentation:c.html??null}),c?null:dd.asCompletionResult(e.pos,s)};function Hx(e){return n=>e.predicate(n.state)?e.completion(n):null}var Wx=async e=>{let n=e.matchBefore(/:\w*$/);if(!e.explicit&&!n)return null;let i=await Ux();return{from:(n==null?void 0:n.from)??e.pos,options:i,validFor:/^[\w:]*$/}},Ux=ri(async()=>{let e=await fetch("https://unpkg.com/emojilib@3.0.11/dist/emoji-en-US.json").then(n=>{if(!n.ok)throw Error("Failed to fetch emoji list");return n.json()}).catch(()=>({}));return Object.entries(e).map(([n,i])=>({shortcode:i[0],label:i.map(o=>`:${o}`).join(" "),emoji:n,displayLabel:`${n} ${i[0].replaceAll("_"," ")}`,apply:n,type:"emoji"}))}),Kx=async e=>{let n=e.matchBefore(/::[\w-:]*$/);if(!e.explicit&&!n)return null;let i=await Qx();return{from:(n==null?void 0:n.from)??e.pos,options:i,validFor:/^[\w-:]*$/}},Qx=ri(async()=>{let e=await fetch("https://unpkg.com/lucide-static@0.452.0/tags.json").then(i=>{if(!i.ok)throw Error("Failed to fetch Lucide icon list");return i.json()}).catch(()=>({})),n=i=>`https://cdn.jsdelivr.net/npm/lucide-static@0.452.0/icons/${i}.svg`;return Object.entries(e).map(([i,o])=>({label:`::${i}`,displayLabel:i,type:"lucide-icon",boost:10,apply:`::lucide:${i}::`,detail:o.join(", "),info:()=>{let s=document.createElement("img");return s.src=n(i),s.style.width="24px",s.style.height="24px",s}}))}),Gx=e=>{let n=e.matchBefore(/\\\w*$/);return!e.explicit&&!n?null:{from:(n==null?void 0:n.from)??e.pos,options:Jx(),validFor:/^[\w\\]*$/}},Jx=ri(()=>[["alpha","\u03B1","Greek small letter alpha"],["beta","\u03B2","Greek small letter beta"],["gamma","\u03B3","Greek small letter gamma"],["delta","\u03B4","Greek small letter delta"],["epsilon","\u03B5","Greek small letter epsilon"],["zeta","\u03B6","Greek small letter zeta"],["eta","\u03B7","Greek small letter eta"],["theta","\u03B8","Greek small letter theta"],["iota","\u03B9","Greek small letter iota"],["kappa","\u03BA","Greek small letter kappa"],["lambda","\u03BB","Greek small letter lambda"],["mu","\u03BC","Greek small letter mu"],["nu","\u03BD","Greek small letter nu"],["xi","\u03BE","Greek small letter xi"],["omicron","\u03BF","Greek small letter omicron"],["pi","\u03C0","Greek small letter pi"],["rho","\u03C1","Greek small letter rho"],["sigma","\u03C3","Greek small letter sigma"],["tau","\u03C4","Greek small letter tau"],["upsilon","\u03C5","Greek small letter upsilon"],["phi","\u03C6","Greek small letter phi"],["chi","\u03C7","Greek small letter chi"],["psi","\u03C8","Greek small letter psi"],["omega","\u03C9","Greek small letter omega"],["Gamma","\u0393","Greek capital letter gamma"],["Delta","\u0394","Greek capital letter delta"],["Theta","\u0398","Greek capital letter theta"],["Lambda","\u039B","Greek capital letter lambda"],["Xi","\u039E","Greek capital letter xi"],["Pi","\u03A0","Greek capital letter pi"],["Sigma","\u03A3","Greek capital letter sigma"],["Phi","\u03A6","Greek capital letter phi"],["Psi","\u03A8","Greek capital letter psi"],["Omega","\u03A9","Greek capital letter omega"],["pm","\xB1","Plus-minus sign"],["mp","\u2213","Minus-plus sign"],["times","\xD7","Multiplication sign"],["div","\xF7","Division sign"],["cdot","\u22C5","Dot operator"],["ast","\u2217","Asterisk operator"],["star","\u22C6","Star operator"],["circ","\u2218","Ring operator"],["bullet","\u2022","Bullet"],["cap","\u2229","Intersection"],["cup","\u222A","Union"],["uplus","\u228E","Multiset union"],["sqcap","\u2293","Square cap"],["sqcup","\u2294","Square cup"],["vee","\u2228","Logical or"],["wedge","\u2227","Logical and"],["setminus","\u2216","Set minus"],["oplus","\u2295","Circled plus"],["ominus","\u2296","Circled minus"],["otimes","\u2297","Circled times"],["oslash","\u2298","Circled division slash"],["odot","\u2299","Circled dot operator"],["leq","\u2264","Less than or equal to"],["geq","\u2265","Greater than or equal to"],["equiv","\u2261","Identical to"],["prec","\u227A","Precedes"],["succ","\u227B","Succeeds"],["sim","\u223C","Tilde operator"],["perp","\u22A5","Up tack"],["mid","\u2223","Divides"],["parallel","\u2225","Parallel to"],["subset","\u2282","Subset of"],["supset","\u2283","Superset of"],["subseteq","\u2286","Subset of or equal to"],["supseteq","\u2287","Superset of or equal to"],["cong","\u2245","Approximately equal to"],["approx","\u2248","Almost equal to"],["neq","\u2260","Not equal to"],["ne","\u2260","Not equal to"],["propto","\u221D","Proportional to"],["leftarrow","\u2190","Leftward arrow"],["rightarrow","\u2192","Rightward arrow"],["Leftarrow","\u21D0","Leftward double arrow"],["Rightarrow","\u21D2","Rightward double arrow"],["leftrightarrow","\u2194","Left right arrow"],["Leftrightarrow","\u21D4","Left right double arrow"],["uparrow","\u2191","Upward arrow"],["downarrow","\u2193","Downward arrow"],["Uparrow","\u21D1","Upward double arrow"],["Downarrow","\u21D3","Downward double arrow"],["infty","\u221E","Infinity"],["nabla","\u2207","Nabla"],["partial","\u2202","Partial differential"],["forall","\u2200","For all"],["exists","\u2203","There exists"],["nexists","\u2204","There does not exist"],["emptyset","\u2205","Empty set"],["in","\u2208","Element of"],["notin","\u2209","Not an element of"],["sum","\u2211","N-ary summation"],["prod","\u220F","N-ary product"],["int","\u222B","Integral"],["oint","\u222E","Contour integral"],["sqrt","\u221A","Square root"],["hbar","\u210F","Planck constant over 2pi"],["ldots","\u2026","Horizontal ellipsis"],["cdots","\u22EF","Midline horizontal ellipsis"],["vdots","\u22EE","Vertical ellipsis"],["ddots","\u22F1","Down right diagonal ellipsis"]].map(([e,n,i])=>({label:`\\${e} ${i}`,displayLabel:e,type:"latex-symbol",boost:10,apply:`\\${e}`,info:()=>{let o=document.createElement("div");return o.textContent=`${n} ${i}`,o},detail:n})));let t0;t0=[Wx,Kx,Gx],Cu={isAbsolute:e=>e.startsWith("/")||e.startsWith("\\")||e.startsWith("C:\\"),dirname:e=>Nl.guessDeliminator(e).dirname(e),basename:e=>Nl.guessDeliminator(e).basename(e),rest:(e,n)=>Nl.guessDeliminator(e).rest(e,n),extension:e=>{let n=e.split(".");return n.length===1?"":n.at(-1)??""}},Nl=class Um{constructor(n){this.deliminator=n}static guessDeliminator(n){return n.includes("/")?new Um("/"):new Um("\\")}join(...n){return n.filter(Boolean).join(this.deliminator)}basename(n){return n.split(this.deliminator).pop()??""}rest(n,i){let o=n.split(this.deliminator),s=i.split(this.deliminator),c=0;for(;c<o.length&&c<s.length&&o[c]===s[c];++c);return o.slice(c).join(this.deliminator)}dirname(n){let i=n.split(this.deliminator);return i.pop(),i.join(this.deliminator)}};function vo(e){return!e.state.selection.main.empty}function md({view:e,selection:n,markup:i}){let o=[],s=!0;for(let c=n.from;c<=n.to;c++)if(!e.state.doc.lineAt(c).text.startsWith(i)){s=!1;break}for(let c=n.from;c<=n.to;){let d=e.state.doc.lineAt(c),p=d.text.startsWith(i);s?o.push({from:d.from,to:d.from+i.length,insert:ro.of([""])}):(p&&o.push({from:d.from,to:d.from+i.length,insert:ro.of([""])}),o.push({from:d.from,insert:ro.of([i])})),c=d.to+1}return o}function hd({view:e,range:n,markupAfter:i,markupBefore:o}){if(n.empty){let b=e.state.wordAt(n.head);b&&(n=b)}let s=e.state.sliceDoc(n.from-o.length,n.from)===o,c=e.state.sliceDoc(n.to,n.to+i.length)===i,d=[];d.push(s?{from:n.from-o.length,to:n.from,insert:ro.of([""])}:{from:n.from,insert:ro.of(o.split(`
`))},c?{from:n.to,to:n.to+i.length,insert:ro.of([""])}:{from:n.to,insert:ro.of(i.split(`
`))});let p=s?-o.length:o.length,h=c?-i.length:i.length;return{changes:d,range:fn.range(n.from+p,n.to+h)}}function Xx(e){if(!vo(e))return!1;let n=md({view:e,selection:e.state.selection.main,markup:"> "});return n.length>0&&e.dispatch(e.state.update({changes:n,scrollIntoView:!0,userEvent:"input"})),e.focus(),!0}function Yx(e){if(!vo(e))return!1;let n=e.state.changeByRange(i=>{if(i.empty){let o=e.state.wordAt(i.head);o&&(i=o)}return hd({view:e,range:i,markupBefore:"**",markupAfter:"**"})});return e.dispatch(e.state.update(n,{scrollIntoView:!0,annotations:us.userEvent.of("input")})),e.focus(),!0}function n0(e){if(!vo(e))return!1;let n=e.state.changeByRange(i=>{if(i.empty){let s=e.state.wordAt(i.head);s&&(i=s)}let o=e.state.doc.lineAt(i.from).number!==e.state.doc.lineAt(i.to).number;return hd({view:e,range:i,markupBefore:o?"```\n":"`",markupAfter:o?"\n```":"`"})});return e.dispatch(e.state.update(n,{scrollIntoView:!0,annotations:us.userEvent.of("input")})),e.focus(),!0}function Zx(e){let n=e.state.changeByRange(i=>{if(i.empty){let o=e.state.wordAt(i.head);o&&(i=o)}return hd({view:e,range:i,markupBefore:"_",markupAfter:"_"})});return e.dispatch(e.state.update(n,{scrollIntoView:!0,annotations:us.userEvent.of("input")})),e.focus(),!0}function r0(e,n="http://"){if(!vo(e))return!1;let i=e.state.changeByRange(s=>{let c=e.state.sliceDoc(s.from,s.to);return{changes:[{from:s.from,to:s.to,insert:`[${c}](${n})`}],range:s}});e.dispatch(e.state.update(i,{scrollIntoView:!0,annotations:us.userEvent.of("input")}));let{to:o}=i.selection.main;try{e.dispatch({selection:fn.create([fn.range(o+3,o+3+n.length),fn.cursor(o+3+n.length)])})}catch{}return e.focus(),!0}Sm=async function(e,n){var p;let i=new FileReader,o=await new Promise(h=>{i.onload=()=>h(i.result),i.readAsDataURL(n)}),s;try{if(o.startsWith("data:")){let h=o.split(",")[1],b=prompt("We can save your image as a file. Enter a filename.",n.name),x=n.type.split("/")[1];if(b!==null){b.trim()===""?b=n.name:b.endsWith(`.${x}`)||(b=`${b}.${x}`);let w=st.get(fs),S=w?Cu.dirname(w):null,E=S?`${S}/public`:"public",D=await Li().sendCreateFileOrFolder({path:E,type:"file",name:b,contents:h});D.success?(s=(p=D.info)==null?void 0:p.path,_u({title:"Image uploaded successfully",description:`We've uploaded your image at ${s}`})):_u({title:"Failed to upload image. Using raw base64 string."})}}}catch{_u({title:"Failed to upload image. Using raw base64 string."})}let c=e.state.changeByRange(h=>{let b=e.state.sliceDoc(h.from,h.to);return{changes:[{from:h.from,to:h.to,insert:`![${b}](${s??o})`}],range:h}});e.dispatch(e.state.update(c,{scrollIntoView:!0,annotations:us.userEvent.of("input")}));let{to:d}=c.selection.main;try{e.dispatch({selection:fn.create([fn.range(d+4,d+4+o.length),fn.cursor(d+4+o.length)])})}catch{}return e.focus(),!0},Vm=async function(e,n){let i=await n.text(),o=e.state.changeByRange(s=>({changes:[{from:s.from,to:s.from,insert:i}],range:s}));return e.dispatch(e.state.update(o,{scrollIntoView:!0,annotations:us.userEvent.of("input")})),e.focus(),!0};function ek(e){if(!vo(e))return!1;let{changes:n}=e.state.changeByRange(i=>({range:i,changes:md({view:e,selection:i,markup:e.state.sliceDoc(i.from,i.to+2).startsWith("* ")?"* ":"- "})}));return n.length>0&&e.dispatch(e.state.update({changes:n,scrollIntoView:!0,userEvent:"input"})),e.focus(),!0}function tk(e){if(!vo(e))return!1;let{changes:n}=e.state.changeByRange(i=>({range:i,changes:md({view:e,selection:i,markup:"1. "})}));return n.length>0&&e.dispatch(e.state.update({changes:n,scrollIntoView:!0,userEvent:"input"})),e.focus(),!0}function nk(e){return[yu.highest(io.of([{key:e.getHotkey("markdown.bold").key,stopPropagation:!0,run:Yx},{key:e.getHotkey("markdown.italic").key,stopPropagation:!0,run:Zx},{key:e.getHotkey("markdown.link").key,stopPropagation:!0,run:n=>r0(n)},{key:e.getHotkey("markdown.orderedList").key,run:tk},{key:e.getHotkey("markdown.unorderedList").key,run:ek},{key:e.getHotkey("markdown.blockquote").key,run:Xx},{key:e.getHotkey("markdown.code").key,run:n0},{key:"`",run:n0}])),Zt.domEventHandlers({paste:(n,i)=>{var s;if(i.state.selection.main.empty)return!1;let o=(s=n.clipboardData)==null?void 0:s.getData("text/plain");o!=null&&o.startsWith("http")&&(n.preventDefault(),r0(i,o))}}),Zt.domEventHandlers({paste:(n,i)=>{var s;let o=(s=n.clipboardData)==null?void 0:s.files[0];if(!o)return!1;if(o.type.startsWith("image/"))return n.preventDefault(),Sm(i,o),!0;if(o.type.startsWith("text/"))return n.preventDefault(),Vm(i,o),!0}})]}function rk(e,n,i=3,o=""){return Object.values(e).flatMap(s=>n.has(s.name)?[]:{label:`${o}${s.name}`,displayLabel:s.name,detail:s.dataType??"",boost:i,type:"variable",apply:`${o}${s.name}`,section:"Variable",info:()=>$m(s)})}$m=function(e){let n=document.createElement("div");n.classList.add("mo-cm-tooltip","docs-documentation","min-w-[200px]","flex","flex-col","gap-1","p-2");let i=document.createElement("div");i.classList.add("flex","items-center","gap-2");let o=document.createElement("span");if(o.classList.add("font-bold","text-base"),o.textContent=e.name,i.append(o),e.dataType){let s=document.createElement("span");s.classList.add("text-xs","px-1.5","py-0.5","rounded-full","bg-purple-100","text-purple-800","dark:bg-purple-900","dark:text-purple-200"),s.textContent=e.dataType,i.append(s)}if(n.append(i),e.value){let s=document.createElement("div");s.classList.add("flex","flex-col","gap-1");let c=document.createElement("div");c.classList.add("text-xs","text-muted-foreground"),c.textContent="Value:",s.append(c);let d=document.createElement("div");d.classList.add("text-xs","font-mono","bg-muted","p-2","rounded","overflow-auto","max-h-40"),d.textContent=e.value,s.append(d),n.append(s)}return n};var bo="Python",gd=123,i0=125,yd=1,ik={mark:`${bo}Mark`,resolve:bo};function ak(e,n){return{defineNodes:[{name:bo,style:vu.emphasis},{name:`${bo}Mark`,style:vu.processingInstruction}],parseInline:[{name:bo,parse(i,o,s){return!n()||o!==gd&&o!==i0||o===gd&&i.slice(s-1,s)==="{"?-1:i.addDelimiter(ik,s,s+yd,o===gd,o===i0)}}],wrap:Kb(i=>{if(!n()||i.type.name!==bo)return null;let o=i.from+yd,s=i.to-yd;return o>=s||o<0||s<0?null:{parser:e,overlay:[{from:o,to:s}],extensions:[s2().support]}})}}const ok=e=>{let n=e.state.doc.sliceString(0,e.pos),i=n.lastIndexOf("{");if(n.at(i-1)==="{"||i===-1||n.indexOf("}",i)>i)return null;let o=e.matchBefore(/\w*$/);if(!o)return null;let s=rk(st.get(ga),new Set,99);return{from:o.from,options:s,validFor:/^\w*$/}};var $l="InlineMathDollar",wo="InlineMathBracket",Hl="BlockMathDollar",_o="BlockMathBracket",wa={[$l]:1,[wo]:3,[Hl]:2,[_o]:3},Mt={DOLLAR:36,BACKSLASH:92,OPEN_PAREN:40,CLOSE_PAREN:41,OPEN_BRACKET:91,CLOSE_BRACKET:93},xo=Object.keys(wa).reduce((e,n)=>(e[n]={mark:`${n}Mark`,resolve:n},e),{});function sk(e){let n=[];return Object.keys(wa).forEach(i=>{n.push({name:i,style:vu.emphasis},{name:`${i}Mark`,style:vu.processingInstruction})}),{defineNodes:n,parseInline:[{name:Hl,parse(i,o,s){return o!==Mt.DOLLAR||i.char(s+1)!==Mt.DOLLAR?-1:i.addDelimiter(xo[Hl],s,s+wa[Hl],!0,!0)}},{name:$l,parse(i,o,s){return o!==Mt.DOLLAR||i.char(s+1)===Mt.DOLLAR?-1:i.addDelimiter(xo[$l],s,s+wa[$l],!0,!0)}},{name:wo,before:"Escape",parse(i,o,s){return o!==Mt.BACKSLASH||i.char(s+1)!==Mt.BACKSLASH||![Mt.OPEN_PAREN,Mt.CLOSE_PAREN].includes(i.char(s+2))?-1:i.addDelimiter(xo[wo],s,s+wa[wo],i.char(s+2)===Mt.OPEN_PAREN,i.char(s+2)===Mt.CLOSE_PAREN)}},{name:_o,before:"Escape",parse(i,o,s){return o!==Mt.BACKSLASH||i.char(s+1)!==Mt.BACKSLASH||![Mt.OPEN_BRACKET,Mt.CLOSE_BRACKET].includes(i.char(s+2))?-1:i.addDelimiter(xo[_o],s,s+wa[_o],i.char(s+2)===Mt.OPEN_BRACKET,i.char(s+2)===Mt.CLOSE_BRACKET)}},{name:wo,before:"Escape",parse(i,o,s){return o!==Mt.BACKSLASH||![Mt.OPEN_PAREN,Mt.CLOSE_PAREN].includes(i.char(s+1))?-1:i.addDelimiter(xo[wo],s,s+2,i.char(s+1)===Mt.OPEN_PAREN,i.char(s+1)===Mt.CLOSE_PAREN)}},{name:_o,before:"Escape",parse(i,o,s){return o!==Mt.BACKSLASH||![Mt.OPEN_BRACKET,Mt.CLOSE_BRACKET].includes(i.char(s+1))?-1:i.addDelimiter(xo[_o],s,s+2,i.char(s+1)===Mt.OPEN_BRACKET,i.char(s+1)===Mt.CLOSE_BRACKET)}}],wrap:Kb(i=>{let o=wa[i.type.name];if(o){let s=i.from+o,c=i.to-o;return s>=c||s<0||c<0?null:{parser:e,overlay:[{from:s,to:c}]}}return null})}}let vd;Au=ma.define(),Ju=ma.define(),ai=El.define({create:()=>({}),update:(e,n)=>{for(let i of n.effects){if(i.is(Au))return i.value;if(i.is(Ju))return{...e,...i.value}}return e}}),vd=["","f","r","fr","rf"];function lk(e){let n=[...vd].sort((i,o)=>o.length-i.length);for(let i of n)if(e.startsWith(i))return[i,e.slice(i.length)];return["",e]}let a0,o0,bd,s0,ko,l0,Co,c0;a0=[['"""','"""'],["'''","'''"],['"','"'],["'","'"]],o0=vd.flatMap(e=>a0.map(([n,i])=>[e+n,i])).map(([e,n])=>[e,RegExp(`^mo\\.md\\(\\s*${e}(.*)${n}\\s*\\)$`,"s")]),zl=class{constructor(){De(this,"type","markdown");De(this,"defaultCode",`mo.md(r"""
""")`);De(this,"defaultMetadata",{quotePrefix:"r"})}static fromMarkdown(e){return`mo.md(r"""
${e}
""")`}transformIn(e){e=e.trim();let n={...this.defaultMetadata};if(e==="")return["",0,n];for(let[i,o]of o0){let s=e.match(o);if(s){let c=s[1],[d,p]=lk(i);n.quotePrefix=d;let h=c.replaceAll(`\\${p}`,p),b=e.indexOf(c);return[Ol(`
${h}
`).trim(),b,n]}}return[e,0,n]}transformOut(e,n){e===""&&(e=" ");let{quotePrefix:i}=n,o=e.replaceAll('"""',String.raw`\"""`),s=!e.includes(`
`),c=e.startsWith('"')||e.endsWith('"');if(s&&!c){let p=`mo.md(${i}"""`;return[p+o+'""")',p.length]}let d=`mo.md(
    ${i}"""
`;return[d+o+`
"""
)`,d.length+1]}isSupported(e){if(e=e.trim(),e==="")return!0;if(!e.startsWith("mo.md("))return!1;if(e==="mo.md()")return!0;let n=Gp.parser.parse(e),i=[{match:"Script"},{match:"ExpressionStatement"},{match:"CallExpression"},{match:"MemberExpression"},{match:"VariableName"},{match:"."},{match:"PropertyName"},{match:"ArgList"},{match:"("},{match:/String|FormatString/,stop:!0},{match:")"}],o=!0;return n.iterate({enter:s=>{let c=i.shift();if(c===void 0)return o=!1,!1;let d=c.match;return typeof d=="string"?(o&&(o=d===s.name),o&&!c.stop):(d.test(s.name)||(o=!1),o&&!c.stop)}}),o}getExtension(e,n,i,o){let s=o2().language.data,c,d=()=>{var h;if(!c)return!0;let p=c==null?void 0:c.state.field(ai);return p===void 0?!1:((h=p.quotePrefix)==null?void 0:h.includes("f"))??!1};return[ao.define(p=>(c=p,{})),o2({base:i4,codeLanguages:L_,extensions:[sk(Gb.define(l4).parser),ak(Gp.parser,d)]}),nk(i),t0.map(p=>s.of({autocomplete:p})),s2().language.data.of({autocomplete:Hx({completion:e0,predicate:d})}),bu({defaultKeymap:!1,activateOnTyping:!0}),$x({predicate:()=>!d()})]}},bd=Te(((e,n)=>{var i=typeof Reflect=="object"?Reflect:null,o=i&&typeof i.apply=="function"?i.apply:function(B,W,ue){return Function.prototype.apply.call(B,W,ue)},s=i&&typeof i.ownKeys=="function"?i.ownKeys:Object.getOwnPropertySymbols?function(B){return Object.getOwnPropertyNames(B).concat(Object.getOwnPropertySymbols(B))}:function(B){return Object.getOwnPropertyNames(B)};function c(B){console&&console.warn&&console.warn(B)}var d=Number.isNaN||function(B){return B!==B};function p(){p.init.call(this)}n.exports=p,n.exports.once=V,p.EventEmitter=p,p.prototype._events=void 0,p.prototype._eventsCount=0,p.prototype._maxListeners=void 0;var h=10;function b(B){if(typeof B!="function")throw TypeError('The "listener" argument must be of type Function. Received type '+typeof B)}Object.defineProperty(p,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(B){if(typeof B!="number"||B<0||d(B))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+B+".");h=B}}),p.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},p.prototype.setMaxListeners=function(B){if(typeof B!="number"||B<0||d(B))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+B+".");return this._maxListeners=B,this};function x(B){return B._maxListeners===void 0?p.defaultMaxListeners:B._maxListeners}p.prototype.getMaxListeners=function(){return x(this)},p.prototype.emit=function(B){for(var W=[],ue=1;ue<arguments.length;ue++)W.push(arguments[ue]);var be=B==="error",ye=this._events;if(ye!==void 0)be&&(be=ye.error===void 0);else if(!be)return!1;if(be){var xe;if(W.length>0&&(xe=W[0]),xe instanceof Error)throw xe;var X=Error("Unhandled error."+(xe?" ("+xe.message+")":""));throw X.context=xe,X}var _e=ye[B];if(_e===void 0)return!1;if(typeof _e=="function")o(_e,this,W);else for(var Se=_e.length,ae=F(_e,Se),ue=0;ue<Se;++ue)o(ae[ue],this,W);return!0};function w(B,W,ue,be){var ye,xe,X;if(b(ue),xe=B._events,xe===void 0?(xe=B._events=Object.create(null),B._eventsCount=0):(xe.newListener!==void 0&&(B.emit("newListener",W,ue.listener?ue.listener:ue),xe=B._events),X=xe[W]),X===void 0)X=xe[W]=ue,++B._eventsCount;else if(typeof X=="function"?X=xe[W]=be?[ue,X]:[X,ue]:be?X.unshift(ue):X.push(ue),ye=x(B),ye>0&&X.length>ye&&!X.warned){X.warned=!0;var _e=Error("Possible EventEmitter memory leak detected. "+X.length+" "+String(W)+" listeners added. Use emitter.setMaxListeners() to increase limit");_e.name="MaxListenersExceededWarning",_e.emitter=B,_e.type=W,_e.count=X.length,c(_e)}return B}p.prototype.addListener=function(B,W){return w(this,B,W,!1)},p.prototype.on=p.prototype.addListener,p.prototype.prependListener=function(B,W){return w(this,B,W,!0)};function S(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(B,W,ue){var be={fired:!1,wrapFn:void 0,target:B,type:W,listener:ue},ye=S.bind(be);return ye.listener=ue,be.wrapFn=ye,ye}p.prototype.once=function(B,W){return b(W),this.on(B,E(this,B,W)),this},p.prototype.prependOnceListener=function(B,W){return b(W),this.prependListener(B,E(this,B,W)),this},p.prototype.removeListener=function(B,W){var ue,be,ye,xe,X;if(b(W),be=this._events,be===void 0||(ue=be[B],ue===void 0))return this;if(ue===W||ue.listener===W)--this._eventsCount===0?this._events=Object.create(null):(delete be[B],be.removeListener&&this.emit("removeListener",B,ue.listener||W));else if(typeof ue!="function"){for(ye=-1,xe=ue.length-1;xe>=0;xe--)if(ue[xe]===W||ue[xe].listener===W){X=ue[xe].listener,ye=xe;break}if(ye<0)return this;ye===0?ue.shift():J(ue,ye),ue.length===1&&(be[B]=ue[0]),be.removeListener!==void 0&&this.emit("removeListener",B,X||W)}return this},p.prototype.off=p.prototype.removeListener,p.prototype.removeAllListeners=function(B){var W,ue=this._events,be;if(ue===void 0)return this;if(ue.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):ue[B]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete ue[B]),this;if(arguments.length===0){var ye=Object.keys(ue),xe;for(be=0;be<ye.length;++be)xe=ye[be],xe!=="removeListener"&&this.removeAllListeners(xe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(W=ue[B],typeof W=="function")this.removeListener(B,W);else if(W!==void 0)for(be=W.length-1;be>=0;be--)this.removeListener(B,W[be]);return this};function D(B,W,ue){var be=B._events;if(be===void 0)return[];var ye=be[W];return ye===void 0?[]:typeof ye=="function"?ue?[ye.listener||ye]:[ye]:ue?K(ye):F(ye,ye.length)}p.prototype.listeners=function(B){return D(this,B,!0)},p.prototype.rawListeners=function(B){return D(this,B,!1)},p.listenerCount=function(B,W){return typeof B.listenerCount=="function"?B.listenerCount(W):M.call(B,W)},p.prototype.listenerCount=M;function M(B){var W=this._events;if(W!==void 0){var ue=W[B];if(typeof ue=="function")return 1;if(ue!==void 0)return ue.length}return 0}p.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]};function F(B,W){for(var ue=Array(W),be=0;be<W;++be)ue[be]=B[be];return ue}function J(B,W){for(;W+1<B.length;W++)B[W]=B[W+1];B.pop()}function K(B){for(var W=Array(B.length),ue=0;ue<W.length;++ue)W[ue]=B[ue].listener||B[ue];return W}function V(B,W){return new Promise(function(ue,be){function ye(X){B.removeListener(W,xe),be(X)}function xe(){typeof B.removeListener=="function"&&B.removeListener("error",ye),ue([].slice.call(arguments))}he(B,W,xe,{once:!0}),W!=="error"&&ce(B,ye,{once:!0})})}function ce(B,W,ue){typeof B.on=="function"&&he(B,"error",W,ue)}function he(B,W,ue,be){if(typeof B.on=="function")be.once?B.once(W,ue):B.on(W,ue);else if(typeof B.addEventListener=="function")B.addEventListener(W,function ye(xe){be.once&&B.removeEventListener(W,ye),ue(xe)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof B)}})),s0=Te((e=>{var n=e&&e.__awaiter||function(s,c,d,p){function h(b){return b instanceof d?b:new d(function(x){x(b)})}return new(d||(d=Promise))(function(b,x){function w(D){try{E(p.next(D))}catch(M){x(M)}}function S(D){try{E(p.throw(D))}catch(M){x(M)}}function E(D){D.done?b(D.value):h(D.value).then(w,S)}E((p=p.apply(s,c||[])).next())})},i=e&&e.__generator||function(s,c){var d={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},p,h,b,x;return x={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function w(E){return function(D){return S([E,D])}}function S(E){if(p)throw TypeError("Generator is already executing.");for(;d;)try{if(p=1,h&&(b=E[0]&2?h.return:E[0]?h.throw||((b=h.return)&&b.call(h),0):h.next)&&!(b=b.call(h,E[1])).done)return b;switch(h=0,b&&(E=[E[0]&2,b.value]),E[0]){case 0:case 1:b=E;break;case 4:return d.label++,{value:E[1],done:!1};case 5:d.label++,h=E[1],E=[0];continue;case 7:E=d.ops.pop(),d.trys.pop();continue;default:if(b=d.trys,!(b=b.length>0&&b[b.length-1])&&(E[0]===6||E[0]===2)){d=0;continue}if(E[0]===3&&(!b||E[1]>b[0]&&E[1]<b[3])){d.label=E[1];break}if(E[0]===6&&d.label<b[1]){d.label=b[1],b=E;break}if(b&&d.label<b[2]){d.label=b[2],d.ops.push(E);break}b[2]&&d.ops.pop(),d.trys.pop();continue}E=c.call(s,d)}catch(D){E=[6,D],h=0}finally{p=b=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.defaultNextRequest=void 0;var o=bd();e.defaultNextRequest=function(){var s=-1;return function(){return++s}},e.default=(function(){function s(c,d){d===void 0&&(d=e.defaultNextRequest()),this.batch=[],this.batchStarted=!1,this.lastId=-1,this.transports=c,this.requests={},this.connectPromise=this.connect(),this.requestChannel=new o.EventEmitter,this.nextID=d}return s.prototype.connect=function(){var c=this;return Promise.all(this.transports.map(function(d){return n(c,void 0,void 0,function(){return i(this,function(p){switch(p.label){case 0:return d.subscribe("error",this.handleError.bind(this)),d.subscribe("notification",this.handleNotification.bind(this)),[4,d.connect()];case 1:return p.sent(),[2]}})})}))},s.prototype.getPrimaryTransport=function(){return this.transports[0]},s.prototype.request=function(c,d,p){return d===void 0&&(d=!1),n(this,void 0,void 0,function(){var h,b,x,w,S=this;return i(this,function(E){return h=this.nextID().toString(),b=d?null:h,x={request:this.makeRequest(c.method,c.params||[],b),internalID:h},this.batchStarted?(w=new Promise(function(D,M){S.batch.push({resolve:D,reject:M,request:x})}),[2,w]):[2,this.getPrimaryTransport().sendData(x,p)]})})},s.prototype.close=function(){this.requestChannel.removeAllListeners(),this.transports.forEach(function(c){c.unsubscribe(),c.close()})},s.prototype.startBatch=function(){this.batchStarted=!0},s.prototype.stopBatch=function(){if(this.batchStarted===!1)throw Error("cannot end that which has never started");if(this.batch.length===0){this.batchStarted=!1;return}this.getPrimaryTransport().sendData(this.batch),this.batch=[],this.batchStarted=!1},s.prototype.makeRequest=function(c,d,p){return p?{jsonrpc:"2.0",id:p,method:c,params:d}:{jsonrpc:"2.0",method:c,params:d}},s.prototype.handleError=function(c){this.requestChannel.emit("error",c)},s.prototype.handleNotification=function(c){this.requestChannel.emit("notification",c)},s})()})),ko=Te((e=>{var n=e&&e.__extends||(function(){var o=function(s,c){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var h in p)p.hasOwnProperty(h)&&(d[h]=p[h])},o(s,c)};return function(s,c){o(s,c);function d(){this.constructor=s}s.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}})();Object.defineProperty(e,"__esModule",{value:!0}),e.convertJSONToRPCError=e.JSONRPCError=e.ERR_UNKNOWN=e.ERR_MISSIING_ID=e.ERR_TIMEOUT=void 0,e.ERR_TIMEOUT=7777,e.ERR_MISSIING_ID=7878,e.ERR_UNKNOWN=7979;var i=(function(o){n(s,o);function s(c,d,p){var h=this.constructor,b=o.call(this,c)||this;return b.message=c,b.code=d,b.data=p,Object.setPrototypeOf(b,h.prototype),b}return s})(Error);e.JSONRPCError=i,e.convertJSONToRPCError=function(o){if(o.error){var s=o.error,c=s.message,d=s.code,p=s.data;return new i(c,d,p)}return new i("Unknown error",e.ERR_UNKNOWN,o)}})),l0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=bd(),i=ko();e.TransportRequestManager=(function(){function o(){this.pendingRequest={},this.pendingBatchRequest={},this.transportEventChannel=new n.EventEmitter}return o.prototype.addRequest=function(s,c){return this.transportEventChannel.emit("pending",s),s instanceof Array?(this.addBatchReq(s,c),Promise.resolve()):this.addReq(s.internalID,c)},o.prototype.settlePendingRequest=function(s,c){var d=this;s.forEach(function(p){var h=d.pendingRequest[p.internalID];if(delete d.pendingBatchRequest[p.internalID],h!==void 0){if(c){h.reject(c);return}h.resolve(),(p.request.id===null||p.request.id===void 0)&&delete d.pendingRequest[p.internalID]}})},o.prototype.isPendingRequest=function(s){return this.pendingRequest.hasOwnProperty(s)},o.prototype.resolveResponse=function(s,c){c===void 0&&(c=!0);var d=s;try{return d=JSON.parse(s),this.checkJSONRPC(d)===!1?void 0:d instanceof Array?this.resolveBatch(d,c):this.resolveRes(d,c)}catch{var p=new i.JSONRPCError("Bad response format",i.ERR_UNKNOWN,s);return c&&this.transportEventChannel.emit("error",p),p}},o.prototype.addBatchReq=function(s,c){var d=this;return s.forEach(function(p){var h=p.resolve,b=p.reject,x=p.request.internalID;d.pendingBatchRequest[x]=!0,d.pendingRequest[x]={resolve:h,reject:b}}),Promise.resolve()},o.prototype.addReq=function(s,c){var d=this;return new Promise(function(p,h){c!==null&&c&&d.setRequestTimeout(s,c,h),d.pendingRequest[s]={resolve:p,reject:h}})},o.prototype.checkJSONRPC=function(s){var c=[s];return s instanceof Array&&(c=s),c.every(function(d){return d.result!==void 0||d.error!==void 0||d.method!==void 0})},o.prototype.processResult=function(s,c){if(s.error){var d=i.convertJSONToRPCError(s);c.reject(d);return}c.resolve(s.result)},o.prototype.resolveBatch=function(s,c){var d=this,p=s.map(function(h){return d.resolveRes(h,c)}).filter(function(h){return h});if(p.length>0)return p[0]},o.prototype.resolveRes=function(s,c){var d=s.id,p=s.error,h=this.pendingRequest[d];if(h){delete this.pendingRequest[d],this.processResult(s,h),this.transportEventChannel.emit("response",s);return}if(d===void 0&&p===void 0){this.transportEventChannel.emit("notification",s);return}var b;return p&&(b=i.convertJSONToRPCError(s)),c&&p&&b&&this.transportEventChannel.emit("error",b),b},o.prototype.setRequestTimeout=function(s,c,d){var p=this;setTimeout(function(){delete p.pendingRequest[s],d(new i.JSONRPCError("Request timeout request took longer than "+c+" ms to resolve",i.ERR_TIMEOUT))},c)},o})()})),uo=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=l0();e.Transport=(function(){function i(){this.transportRequestManager=new n.TransportRequestManager,this.transportRequestManager.transportEventChannel.on("error",function(){})}return i.prototype.subscribe=function(o,s){this.transportRequestManager.transportEventChannel.addListener(o,s)},i.prototype.unsubscribe=function(o,s){if(!o)return this.transportRequestManager.transportEventChannel.removeAllListeners();o&&s&&this.transportRequestManager.transportEventChannel.removeListener(o,s)},i.prototype.parseData=function(o){return o instanceof Array?o.map(function(s){return s.request.request}):o.request},i})()})),Co=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getNotifications=e.getBatchRequests=e.isNotification=void 0,e.isNotification=function(n){return n.request.id===void 0||n.request.id===null},e.getBatchRequests=function(n){return n instanceof Array?n.filter(function(i){return i.request.request.id!=null}).map(function(i){return i.request}):[]},e.getNotifications=function(n){return n instanceof Array?n.filter(function(i){return e.isNotification(i.request)}).map(function(i){return i.request}):e.isNotification(n)?[n]:[]}})),c0=Te((e=>{var n=e&&e.__extends||(function(){var c=function(d,p){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,b){h.__proto__=b}||function(h,b){for(var x in b)b.hasOwnProperty(x)&&(h[x]=b[x])},c(d,p)};return function(d,p){c(d,p);function h(){this.constructor=d}d.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}})();Object.defineProperty(e,"__esModule",{value:!0});var i=uo(),o=Co(),s=ko();e.default=(function(c){n(d,c);function d(p,h,b){var x=c.call(this)||this;return x.connection=p,x.reqUri=h,x.resUri=b,x}return d.prototype.connect=function(){var p=this;return this.connection.on(this.resUri,function(h){p.transportRequestManager.resolveResponse(h)}),Promise.resolve()},d.prototype.sendData=function(p,h){h===void 0&&(h=null);var b=this.transportRequestManager.addRequest(p,h),x=o.getNotifications(p),w=this.parseData(p);try{return this.connection.emit(this.reqUri,w),this.transportRequestManager.settlePendingRequest(x),b}catch(E){var S=new s.JSONRPCError(E.message,s.ERR_UNKNOWN,E);return this.transportRequestManager.settlePendingRequest(x,S),Promise.reject(S)}},d.prototype.close=function(){this.connection.removeAllListeners()},d})(i.Transport)}));function ck(e){return e&&DataView.prototype.isPrototypeOf(e)}function So(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function wd(e){return typeof e!="string"&&(e=String(e)),e}function _d(e){var n={next:function(){var i=e.shift();return{done:i===void 0,value:i}}};return Rn.iterable&&(n[Symbol.iterator]=function(){return n}),n}function on(e){this.map={},e instanceof on?e.forEach(function(n,i){this.append(i,n)},this):Array.isArray(e)?e.forEach(function(n){if(n.length!=2)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+n.length);this.append(n[0],n[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(n){this.append(n,e[n])},this)}function xd(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function u0(e){return new Promise(function(n,i){e.onload=function(){n(e.result)},e.onerror=function(){i(e.error)}})}function uk(e){var n=new FileReader,i=u0(n);return n.readAsArrayBuffer(e),i}function dk(e){var n=new FileReader,i=u0(n),o=/charset=([A-Za-z0-9_-]+)/.exec(e.type),s=o?o[1]:"utf-8";return n.readAsText(e,s),i}function fk(e){for(var n=new Uint8Array(e),i=Array(n.length),o=0;o<n.length;o++)i[o]=String.fromCharCode(n[o]);return i.join("")}function d0(e){if(e.slice)return e.slice(0);var n=new Uint8Array(e.byteLength);return n.set(new Uint8Array(e)),n.buffer}function f0(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:Rn.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Rn.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Rn.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Rn.arrayBuffer&&Rn.blob&&ck(e)?(this._bodyArrayBuffer=d0(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Rn.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||h0(e))?this._bodyArrayBuffer=d0(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Rn.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Rn.blob&&(this.blob=function(){var e=xd(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return xd(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(Rn.blob)return this.blob().then(uk);throw Error("could not read as ArrayBuffer")},this.text=function(){var e=xd(this);if(e)return e;if(this._bodyBlob)return dk(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(fk(this._bodyArrayBuffer));if(this._bodyFormData)throw Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Rn.formData&&(this.formData=function(){return this.text().then(mk)}),this.json=function(){return this.text().then(JSON.parse)},this}function pk(e){var n=e.toUpperCase();return g0.indexOf(n)>-1?n:e}function _a(e,n){if(!(this instanceof _a))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');n||(n={});var i=n.body;if(e instanceof _a){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,n.headers||(this.headers=new on(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!i&&e._bodyInit!=null&&(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=n.credentials||this.credentials||"same-origin",(n.headers||!this.headers)&&(this.headers=new on(n.headers)),this.method=pk(n.method||this.method||"GET"),this.mode=n.mode||this.mode||null,this.signal=n.signal||this.signal||(function(){if("AbortController"in pn)return new AbortController().signal})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&i)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),(this.method==="GET"||this.method==="HEAD")&&(n.cache==="no-store"||n.cache==="no-cache")){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function mk(e){var n=new FormData;return e.trim().split("&").forEach(function(i){if(i){var o=i.split("="),s=o.shift().replace(/\+/g," "),c=o.join("=").replace(/\+/g," ");n.append(decodeURIComponent(s),decodeURIComponent(c))}}),n}function hk(e){var n=new on;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(i){return i.indexOf(`
`)===0?i.substr(1,i.length):i}).forEach(function(i){var o=i.split(":"),s=o.shift().trim();if(s){var c=o.join(":").trim();try{n.append(s,c)}catch(d){console.warn("Response "+d.message)}}}),n}function Hr(e,n){if(!(this instanceof Hr))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(n||(n={}),this.type="default",this.status=n.status===void 0?200:n.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=n.statusText===void 0?"":""+n.statusText,this.headers=new on(n.headers),this.url=n.url||"",this._initBody(e)}function p0(e,n){return new Promise(function(i,o){var s=new _a(e,n);if(s.signal&&s.signal.aborted)return o(new ji("Aborted","AbortError"));var c=new XMLHttpRequest;function d(){c.abort()}c.onload=function(){var b={statusText:c.statusText,headers:hk(c.getAllResponseHeaders()||"")};s.url.indexOf("file://")===0&&(c.status<200||c.status>599)?b.status=200:b.status=c.status,b.url="responseURL"in c?c.responseURL:b.headers.get("X-Request-URL");var x="response"in c?c.response:c.responseText;setTimeout(function(){i(new Hr(x,b))},0)},c.onerror=function(){setTimeout(function(){o(TypeError("Network request failed"))},0)},c.ontimeout=function(){setTimeout(function(){o(TypeError("Network request timed out"))},0)},c.onabort=function(){setTimeout(function(){o(new ji("Aborted","AbortError"))},0)};function p(b){try{return b===""&&pn.location.href?pn.location.href:b}catch{return b}}if(c.open(s.method,p(s.url),!0),s.credentials==="include"?c.withCredentials=!0:s.credentials==="omit"&&(c.withCredentials=!1),"responseType"in c&&(Rn.blob?c.responseType="blob":Rn.arrayBuffer&&(c.responseType="arraybuffer")),n&&typeof n.headers=="object"&&!(n.headers instanceof on||pn.Headers&&n.headers instanceof pn.Headers)){var h=[];Object.getOwnPropertyNames(n.headers).forEach(function(b){h.push(So(b)),c.setRequestHeader(b,wd(n.headers[b]))}),s.headers.forEach(function(b,x){h.indexOf(x)===-1&&c.setRequestHeader(x,b)})}else s.headers.forEach(function(b,x){c.setRequestHeader(x,b)});s.signal&&(s.signal.addEventListener("abort",d),c.onreadystatechange=function(){c.readyState===4&&s.signal.removeEventListener("abort",d)}),c.send(s._bodyInit===void 0?null:s._bodyInit)})}let pn,Rn,m0,h0,g0,y0,ji,v0,b0,w0,_0,xa,x0,k0,C0,S0,E0,T0,Eo,kd,Cd,R0,qi,To,Wl,D0,Sd,O0,P0,L0,M0,Ul,N0,ka,Ed,qt,Kl,I0,A0,j0,q0,z0,F0,B0,V0,$0,H0,W0,U0,K0,Q0,G0,J0,X0,Y0,Z0,eg,tg,ng,rg,ig;v0=Mb((()=>{pn=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},Rn={searchParams:"URLSearchParams"in pn,iterable:"Symbol"in pn&&"iterator"in Symbol,blob:"FileReader"in pn&&"Blob"in pn&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in pn,arrayBuffer:"ArrayBuffer"in pn},Rn.arrayBuffer&&(m0=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h0=ArrayBuffer.isView||function(e){return e&&m0.indexOf(Object.prototype.toString.call(e))>-1}),on.prototype.append=function(e,n){e=So(e),n=wd(n);var i=this.map[e];this.map[e]=i?i+", "+n:n},on.prototype.delete=function(e){delete this.map[So(e)]},on.prototype.get=function(e){return e=So(e),this.has(e)?this.map[e]:null},on.prototype.has=function(e){return this.map.hasOwnProperty(So(e))},on.prototype.set=function(e,n){this.map[So(e)]=wd(n)},on.prototype.forEach=function(e,n){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(n,this.map[i],i,this)},on.prototype.keys=function(){var e=[];return this.forEach(function(n,i){e.push(i)}),_d(e)},on.prototype.values=function(){var e=[];return this.forEach(function(n){e.push(n)}),_d(e)},on.prototype.entries=function(){var e=[];return this.forEach(function(n,i){e.push([i,n])}),_d(e)},Rn.iterable&&(on.prototype[Symbol.iterator]=on.prototype.entries),g0=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"],_a.prototype.clone=function(){return new _a(this,{body:this._bodyInit})},f0.call(_a.prototype),f0.call(Hr.prototype),Hr.prototype.clone=function(){return new Hr(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new on(this.headers),url:this.url})},Hr.error=function(){var e=new Hr(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e},y0=[301,302,303,307,308],Hr.redirect=function(e,n){if(y0.indexOf(n)===-1)throw RangeError("Invalid status code");return new Hr(null,{status:n,headers:{location:e}})},ji=pn.DOMException;try{new ji}catch{ji=function(e,n){this.message=e,this.name=n,this.stack=Error(e).stack},ji.prototype=Object.create(Error.prototype),ji.prototype.constructor=ji}p0.polyfill=!0,pn.fetch||(pn.fetch=p0,pn.Headers=on,pn.Request=_a,pn.Response=Hr)})),b0=Te(((e,n)=>{v0(),n.exports=self.fetch.bind(self)})),w0=Te((e=>{var n=e&&e.__extends||(function(){var x=function(w,S){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var M in D)D.hasOwnProperty(M)&&(E[M]=D[M])},x(w,S)};return function(w,S){x(w,S);function E(){this.constructor=w}w.prototype=S===null?Object.create(S):(E.prototype=S.prototype,new E)}})(),i=e&&e.__awaiter||function(x,w,S,E){function D(M){return M instanceof S?M:new S(function(F){F(M)})}return new(S||(S=Promise))(function(M,F){function J(ce){try{V(E.next(ce))}catch(he){F(he)}}function K(ce){try{V(E.throw(ce))}catch(he){F(he)}}function V(ce){ce.done?M(ce.value):D(ce.value).then(J,K)}V((E=E.apply(x,w||[])).next())})},o=e&&e.__generator||function(x,w){var S={label:0,sent:function(){if(M[0]&1)throw M[1];return M[1]},trys:[],ops:[]},E,D,M,F;return F={next:J(0),throw:J(1),return:J(2)},typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function J(V){return function(ce){return K([V,ce])}}function K(V){if(E)throw TypeError("Generator is already executing.");for(;S;)try{if(E=1,D&&(M=V[0]&2?D.return:V[0]?D.throw||((M=D.return)&&M.call(D),0):D.next)&&!(M=M.call(D,V[1])).done)return M;switch(D=0,M&&(V=[V[0]&2,M.value]),V[0]){case 0:case 1:M=V;break;case 4:return S.label++,{value:V[1],done:!1};case 5:S.label++,D=V[1],V=[0];continue;case 7:V=S.ops.pop(),S.trys.pop();continue;default:if(M=S.trys,!(M=M.length>0&&M[M.length-1])&&(V[0]===6||V[0]===2)){S=0;continue}if(V[0]===3&&(!M||V[1]>M[0]&&V[1]<M[3])){S.label=V[1];break}if(V[0]===6&&S.label<M[1]){S.label=M[1],M=V;break}if(M&&S.label<M[2]){S.label=M[2],S.ops.push(V);break}M[2]&&S.ops.pop(),S.trys.pop();continue}V=w.call(x,S)}catch(ce){V=[6,ce],D=0}finally{E=M=0}if(V[0]&5)throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}},s=e&&e.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(e,"__esModule",{value:!0});var c=s(b0()),d=uo(),p=Co(),h=ko(),b=(function(x){n(w,x);function w(S,E){var D=x.call(this)||this;return D.onlyNotifications=function(M){return M instanceof Array?M.every(function(F){return F.request.request.id===null||F.request.request.id===void 0}):M.request.id===null||M.request.id===void 0},D.uri=S,D.credentials=E&&E.credentials,D.headers=w.setupHeaders(E&&E.headers),D.injectedFetcher=E==null?void 0:E.fetcher,D}return w.prototype.connect=function(){return Promise.resolve()},w.prototype.sendData=function(S,E){return E===void 0&&(E=null),i(this,void 0,void 0,function(){var D,M,F,J,K,V,he,ce,he;return o(this,function(B){switch(B.label){case 0:D=this.transportRequestManager.addRequest(S,E),M=p.getNotifications(S),F=p.getBatchRequests(S),J=this.injectedFetcher||c.default,B.label=1;case 1:return B.trys.push([1,4,,5]),[4,J(this.uri,{method:"POST",headers:this.headers,body:JSON.stringify(this.parseData(S)),credentials:this.credentials})];case 2:return K=B.sent(),this.transportRequestManager.settlePendingRequest(M),this.onlyNotifications(S)?[2,Promise.resolve()]:[4,K.text()];case 3:return V=B.sent(),he=this.transportRequestManager.resolveResponse(V),he?(this.transportRequestManager.settlePendingRequest(F,he),[2,Promise.reject(he)]):[3,5];case 4:return ce=B.sent(),he=new h.JSONRPCError(ce.message,h.ERR_UNKNOWN,ce),this.transportRequestManager.settlePendingRequest(M,he),this.transportRequestManager.settlePendingRequest(p.getBatchRequests(S),he),[2,Promise.reject(he)];case 5:return[2,D]}})})},w.prototype.close=function(){},w.setupHeaders=function(S){var E=new Headers(S);return E.set("Content-Type","application/json"),E},w})(d.Transport);e.HTTPTransport=b,e.default=b})),_0=iT({default:()=>x0}),k0=Mb((()=>{xa=null,typeof WebSocket<"u"?xa=WebSocket:typeof MozWebSocket<"u"?xa=MozWebSocket:typeof global<"u"?xa=global.WebSocket||global.MozWebSocket:typeof window<"u"?xa=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(xa=self.WebSocket||self.MozWebSocket),x0=xa})),C0=Te((e=>{var n=e&&e.__extends||(function(){var b=function(x,w){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var D in E)E.hasOwnProperty(D)&&(S[D]=E[D])},b(x,w)};return function(x,w){b(x,w);function S(){this.constructor=x}x.prototype=w===null?Object.create(w):(S.prototype=w.prototype,new S)}})(),i=e&&e.__awaiter||function(b,x,w,S){function E(D){return D instanceof w?D:new w(function(M){M(D)})}return new(w||(w=Promise))(function(D,M){function F(V){try{K(S.next(V))}catch(ce){M(ce)}}function J(V){try{K(S.throw(V))}catch(ce){M(ce)}}function K(V){V.done?D(V.value):E(V.value).then(F,J)}K((S=S.apply(b,x||[])).next())})},o=e&&e.__generator||function(b,x){var w={label:0,sent:function(){if(D[0]&1)throw D[1];return D[1]},trys:[],ops:[]},S,E,D,M;return M={next:F(0),throw:F(1),return:F(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function F(K){return function(V){return J([K,V])}}function J(K){if(S)throw TypeError("Generator is already executing.");for(;w;)try{if(S=1,E&&(D=K[0]&2?E.return:K[0]?E.throw||((D=E.return)&&D.call(E),0):E.next)&&!(D=D.call(E,K[1])).done)return D;switch(E=0,D&&(K=[K[0]&2,D.value]),K[0]){case 0:case 1:D=K;break;case 4:return w.label++,{value:K[1],done:!1};case 5:w.label++,E=K[1],K=[0];continue;case 7:K=w.ops.pop(),w.trys.pop();continue;default:if(D=w.trys,!(D=D.length>0&&D[D.length-1])&&(K[0]===6||K[0]===2)){w=0;continue}if(K[0]===3&&(!D||K[1]>D[0]&&K[1]<D[3])){w.label=K[1];break}if(K[0]===6&&w.label<D[1]){w.label=D[1],D=K;break}if(D&&w.label<D[2]){w.label=D[2],w.ops.push(K);break}D[2]&&w.ops.pop(),w.trys.pop();continue}K=x.call(b,w)}catch(V){K=[6,V],E=0}finally{S=D=0}if(K[0]&5)throw K[1];return{value:K[0]?K[1]:void 0,done:!0}}},s=e&&e.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0});var c=s((k0(),pu(_0))),d=uo(),p=Co(),h=ko();e.default=(function(b){n(x,b);function x(w){var S=b.call(this)||this;return S.uri=w,S.connection=new c.default(w),S}return x.prototype.connect=function(){var w=this;return new Promise(function(S,E){var D=function(){w.connection.removeEventListener("open",D),S()};w.connection.addEventListener("open",D),w.connection.addEventListener("message",function(M){var F=M.data;w.transportRequestManager.resolveResponse(F)})})},x.prototype.sendData=function(w,S){return S===void 0&&(S=5e3),i(this,void 0,void 0,function(){var E,D,M;return o(this,function(F){E=this.transportRequestManager.addRequest(w,S),D=p.getNotifications(w);try{this.connection.send(JSON.stringify(this.parseData(w))),this.transportRequestManager.settlePendingRequest(D)}catch(J){M=new h.JSONRPCError(J.message,h.ERR_UNKNOWN,J),this.transportRequestManager.settlePendingRequest(D,M),this.transportRequestManager.settlePendingRequest(p.getBatchRequests(w),M),E=Promise.reject(M)}return[2,E]})})},x.prototype.close=function(){this.connection.close()},x})(d.Transport)})),S0=Te((e=>{var n=e&&e.__extends||(function(){var p=function(h,b){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var S in w)w.hasOwnProperty(S)&&(x[S]=w[S])},p(h,b)};return function(h,b){p(h,b);function x(){this.constructor=h}h.prototype=b===null?Object.create(b):(x.prototype=b.prototype,new x)}})(),i=e&&e.__awaiter||function(p,h,b,x){function w(S){return S instanceof b?S:new b(function(E){E(S)})}return new(b||(b=Promise))(function(S,E){function D(J){try{F(x.next(J))}catch(K){E(K)}}function M(J){try{F(x.throw(J))}catch(K){E(K)}}function F(J){J.done?S(J.value):w(J.value).then(D,M)}F((x=x.apply(p,h||[])).next())})},o=e&&e.__generator||function(p,h){var b={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},x,w,S,E;return E={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function D(F){return function(J){return M([F,J])}}function M(F){if(x)throw TypeError("Generator is already executing.");for(;b;)try{if(x=1,w&&(S=F[0]&2?w.return:F[0]?w.throw||((S=w.return)&&S.call(w),0):w.next)&&!(S=S.call(w,F[1])).done)return S;switch(w=0,S&&(F=[F[0]&2,S.value]),F[0]){case 0:case 1:S=F;break;case 4:return b.label++,{value:F[1],done:!1};case 5:b.label++,w=F[1],F=[0];continue;case 7:F=b.ops.pop(),b.trys.pop();continue;default:if(S=b.trys,!(S=S.length>0&&S[S.length-1])&&(F[0]===6||F[0]===2)){b=0;continue}if(F[0]===3&&(!S||F[1]>S[0]&&F[1]<S[3])){b.label=F[1];break}if(F[0]===6&&b.label<S[1]){b.label=S[1],S=F;break}if(S&&b.label<S[2]){b.label=S[2],b.ops.push(F);break}S[2]&&b.ops.pop(),b.trys.pop();continue}F=h.call(p,b)}catch(J){F=[6,J],w=0}finally{x=S=0}if(F[0]&5)throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var s=uo(),c=Co(),d=function(p){var h=400,b=window.screen.height;return window.open(p,"inspector:popup","left=0,top=0,width="+h+",height="+b+",resizable,scrollbars=yes,status=1")};e.default=(function(p){n(h,p);function h(b){var x=p.call(this)||this;return x.messageHandler=function(w){x.transportRequestManager.resolveResponse(JSON.stringify(w.data))},x.uri=b,x.postMessageID="post-message-transport-"+Math.random(),x}return h.prototype.createWindow=function(b){return new Promise(function(x,w){var S=d(b);setTimeout(function(){x(S)},3e3)})},h.prototype.connect=function(){var b=this,x=/^(http|https):\/\/.*$/;return new Promise(function(w,S){return i(b,void 0,void 0,function(){var E;return o(this,function(D){switch(D.label){case 0:return x.test(this.uri)||S(Error("Bad URI")),E=this,[4,this.createWindow(this.uri)];case 1:return E.frame=D.sent(),window.addEventListener("message",this.messageHandler),w(),[2]}})})})},h.prototype.sendData=function(b,x){return x===void 0&&(x=5e3),i(this,void 0,void 0,function(){var w,S;return o(this,function(E){return w=this.transportRequestManager.addRequest(b,null),S=c.getNotifications(b),this.frame&&(this.frame.postMessage(b.request,this.uri),this.transportRequestManager.settlePendingRequest(S)),[2,w]})})},h.prototype.close=function(){this.frame&&(window.removeEventListener("message",this.messageHandler),this.frame.close())},h})(s.Transport)})),E0=Te((e=>{var n=e&&e.__extends||(function(){var d=function(p,h){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var w in x)x.hasOwnProperty(w)&&(b[w]=x[w])},d(p,h)};return function(p,h){d(p,h);function b(){this.constructor=p}p.prototype=h===null?Object.create(h):(b.prototype=h.prototype,new b)}})(),i=e&&e.__awaiter||function(d,p,h,b){function x(w){return w instanceof h?w:new h(function(S){S(w)})}return new(h||(h=Promise))(function(w,S){function E(F){try{M(b.next(F))}catch(J){S(J)}}function D(F){try{M(b.throw(F))}catch(J){S(J)}}function M(F){F.done?w(F.value):x(F.value).then(E,D)}M((b=b.apply(d,p||[])).next())})},o=e&&e.__generator||function(d,p){var h={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},b,x,w,S;return S={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function E(M){return function(F){return D([M,F])}}function D(M){if(b)throw TypeError("Generator is already executing.");for(;h;)try{if(b=1,x&&(w=M[0]&2?x.return:M[0]?x.throw||((w=x.return)&&w.call(x),0):x.next)&&!(w=w.call(x,M[1])).done)return w;switch(x=0,w&&(M=[M[0]&2,w.value]),M[0]){case 0:case 1:w=M;break;case 4:return h.label++,{value:M[1],done:!1};case 5:h.label++,x=M[1],M=[0];continue;case 7:M=h.ops.pop(),h.trys.pop();continue;default:if(w=h.trys,!(w=w.length>0&&w[w.length-1])&&(M[0]===6||M[0]===2)){h=0;continue}if(M[0]===3&&(!w||M[1]>w[0]&&M[1]<w[3])){h.label=M[1];break}if(M[0]===6&&h.label<w[1]){h.label=w[1],w=M;break}if(w&&h.label<w[2]){h.label=w[2],h.ops.push(M);break}w[2]&&h.ops.pop(),h.trys.pop();continue}M=p.call(d,h)}catch(F){M=[6,F],x=0}finally{b=w=0}if(M[0]&5)throw M[1];return{value:M[0]?M[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var s=uo(),c=Co();e.default=(function(d){n(p,d);function p(h){var b=d.call(this)||this;return b.messageHandler=function(x){b.transportRequestManager.resolveResponse(JSON.stringify(x.data))},b.uri=h,b.postMessageID="post-message-transport-"+Math.random(),b}return p.prototype.createWindow=function(h){var b=this;return new Promise(function(x,w){var S,E=document.createElement("iframe");E.setAttribute("id",b.postMessageID),E.setAttribute("width","0px"),E.setAttribute("height","0px"),E.setAttribute("style","visiblity:hidden;border:none;outline:none;"),E.addEventListener("load",function(){x(S)}),E.setAttribute("src",h),window.document.body.appendChild(E),S=E.contentWindow})},p.prototype.connect=function(){var h=this,b=/^(http|https):\/\/.*$/;return new Promise(function(x,w){return i(h,void 0,void 0,function(){var S;return o(this,function(E){switch(E.label){case 0:return b.test(this.uri)||w(Error("Bad URI")),S=this,[4,this.createWindow(this.uri)];case 1:return S.frame=E.sent(),window.addEventListener("message",this.messageHandler),x(),[2]}})})})},p.prototype.sendData=function(h,b){return b===void 0&&(b=5e3),i(this,void 0,void 0,function(){var x,w;return o(this,function(S){return x=this.transportRequestManager.addRequest(h,null),w=c.getNotifications(h),this.frame&&(this.frame.postMessage(h.request,"*"),this.transportRequestManager.settlePendingRequest(w)),[2,x]})})},p.prototype.close=function(){var h;(h=document.getElementById(this.postMessageID))==null||h.remove(),window.removeEventListener("message",this.messageHandler)},p})(s.Transport)})),T0=Te((e=>{var n=e&&e.__awaiter||function(o,s,c,d){function p(h){return h instanceof c?h:new c(function(b){b(h)})}return new(c||(c=Promise))(function(h,b){function x(E){try{S(d.next(E))}catch(D){b(D)}}function w(E){try{S(d.throw(E))}catch(D){b(D)}}function S(E){E.done?h(E.value):p(E.value).then(x,w)}S((d=d.apply(o,s||[])).next())})},i=e&&e.__generator||function(o,s){var c={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,p,h,b;return b={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function x(S){return function(E){return w([S,E])}}function w(S){if(d)throw TypeError("Generator is already executing.");for(;c;)try{if(d=1,p&&(h=S[0]&2?p.return:S[0]?p.throw||((h=p.return)&&h.call(p),0):p.next)&&!(h=h.call(p,S[1])).done)return h;switch(p=0,h&&(S=[S[0]&2,h.value]),S[0]){case 0:case 1:h=S;break;case 4:return c.label++,{value:S[1],done:!1};case 5:c.label++,p=S[1],S=[0];continue;case 7:S=c.ops.pop(),c.trys.pop();continue;default:if(h=c.trys,!(h=h.length>0&&h[h.length-1])&&(S[0]===6||S[0]===2)){c=0;continue}if(S[0]===3&&(!h||S[1]>h[0]&&S[1]<h[3])){c.label=S[1];break}if(S[0]===6&&c.label<h[1]){c.label=h[1],h=S;break}if(h&&c.label<h[2]){c.label=h[2],c.ops.push(S);break}h[2]&&c.ops.pop(),c.trys.pop();continue}S=s.call(o,c)}catch(E){S=[6,E],p=0}finally{d=h=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=(function(){function o(s){this.requestManager=s}return o.prototype.startBatch=function(){return this.requestManager.startBatch()},o.prototype.stopBatch=function(){return this.requestManager.stopBatch()},o.prototype.request=function(s,c){return n(this,void 0,void 0,function(){return i(this,function(d){switch(d.label){case 0:return this.requestManager.connectPromise?[4,this.requestManager.connectPromise]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2,this.requestManager.request(s,!1,c)]}})})},o.prototype.notify=function(s){return n(this,void 0,void 0,function(){return i(this,function(c){switch(c.label){case 0:return this.requestManager.connectPromise?[4,this.requestManager.connectPromise]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2,this.requestManager.request(s,!0,null)]}})})},o.prototype.onNotification=function(s){this.requestManager.requestChannel.addListener("notification",s)},o.prototype.onError=function(s){this.requestManager.requestChannel.addListener("error",s)},o.prototype.close=function(){this.requestManager.close()},o})()})),Fl=Te((e=>{var n=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.PostMessageIframeTransport=e.PostMessageWindowTransport=e.JSONRPCError=e.WebSocketTransport=e.EventEmitterTransport=e.HTTPTransport=e.RequestManager=e.Client=void 0,e.RequestManager=n(s0()).default,e.EventEmitterTransport=n(c0()).default,e.HTTPTransport=n(w0()).default,e.WebSocketTransport=n(C0()).default,e.PostMessageWindowTransport=n(S0()).default,e.PostMessageIframeTransport=n(E0()).default;var i=ko();Object.defineProperty(e,"JSONRPCError",{enumerable:!0,get:function(){return i.JSONRPCError}});var o=n(T0());e.Client=o.default,e.default=o.default})),Eo=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});function n(h){return h===!0||h===!1}e.boolean=n;function i(h){return typeof h=="string"||h instanceof String}e.string=i;function o(h){return typeof h=="number"||h instanceof Number}e.number=o;function s(h){return h instanceof Error}e.error=s;function c(h){return typeof h=="function"}e.func=c;function d(h){return Array.isArray(h)}e.array=d;function p(h){return d(h)&&h.every(b=>i(b))}e.stringArray=p})),kd=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=Eo(),i;(function(d){d.ParseError=-32700,d.InvalidRequest=-32600,d.MethodNotFound=-32601,d.InvalidParams=-32602,d.InternalError=-32603,d.jsonrpcReservedErrorRangeStart=-32099,d.serverErrorStart=-32099,d.MessageWriteError=-32099,d.MessageReadError=-32098,d.PendingResponseRejected=-32097,d.ConnectionInactive=-32096,d.ServerNotInitialized=-32002,d.UnknownErrorCode=-32001,d.jsonrpcReservedErrorRangeEnd=-32e3,d.serverErrorEnd=-32e3})(i||(e.ErrorCodes=i={})),e.ResponseError=class Xw extends Error{constructor(p,h,b){super(h),this.code=n.number(p)?p:i.UnknownErrorCode,this.data=b,Object.setPrototypeOf(this,Xw.prototype)}toJson(){let p={code:this.code,message:this.message};return this.data!==void 0&&(p.data=this.data),p}};var o=class ed{constructor(p){this.kind=p}static is(p){return p===ed.auto||p===ed.byName||p===ed.byPosition}toString(){return this.kind}};e.ParameterStructures=o,o.auto=new o("auto"),o.byPosition=new o("byPosition"),o.byName=new o("byName");var s=class{constructor(d,p){this.method=d,this.numberOfParams=p}get parameterStructures(){return o.auto}};e.AbstractMessageSignature=s,e.RequestType0=class extends s{constructor(d){super(d,0)}},e.RequestType=class extends s{constructor(d,p=o.auto){super(d,1),this._parameterStructures=p}get parameterStructures(){return this._parameterStructures}},e.RequestType1=class extends s{constructor(d,p=o.auto){super(d,1),this._parameterStructures=p}get parameterStructures(){return this._parameterStructures}},e.RequestType2=class extends s{constructor(d){super(d,2)}},e.RequestType3=class extends s{constructor(d){super(d,3)}},e.RequestType4=class extends s{constructor(d){super(d,4)}},e.RequestType5=class extends s{constructor(d){super(d,5)}},e.RequestType6=class extends s{constructor(d){super(d,6)}},e.RequestType7=class extends s{constructor(d){super(d,7)}},e.RequestType8=class extends s{constructor(d){super(d,8)}},e.RequestType9=class extends s{constructor(d){super(d,9)}},e.NotificationType=class extends s{constructor(d,p=o.auto){super(d,1),this._parameterStructures=p}get parameterStructures(){return this._parameterStructures}},e.NotificationType0=class extends s{constructor(d){super(d,0)}},e.NotificationType1=class extends s{constructor(d,p=o.auto){super(d,1),this._parameterStructures=p}get parameterStructures(){return this._parameterStructures}},e.NotificationType2=class extends s{constructor(d){super(d,2)}},e.NotificationType3=class extends s{constructor(d){super(d,3)}},e.NotificationType4=class extends s{constructor(d){super(d,4)}},e.NotificationType5=class extends s{constructor(d){super(d,5)}},e.NotificationType6=class extends s{constructor(d){super(d,6)}},e.NotificationType7=class extends s{constructor(d){super(d,7)}},e.NotificationType8=class extends s{constructor(d){super(d,8)}},e.NotificationType9=class extends s{constructor(d){super(d,9)}};var c;(function(d){function p(x){let w=x;return w&&n.string(w.method)&&(n.string(w.id)||n.number(w.id))}d.isRequest=p;function h(x){let w=x;return w&&n.string(w.method)&&x.id===void 0}d.isNotification=h;function b(x){let w=x;return w&&(w.result!==void 0||!!w.error)&&(n.string(w.id)||n.number(w.id)||w.id===null)}d.isResponse=b})(c||(e.Message=c={}))})),Cd=Te((e=>{var n;Object.defineProperty(e,"__esModule",{value:!0});var i;(function(s){s.None=0,s.First=1,s.AsOld=s.First,s.Last=2,s.AsNew=s.Last})(i||(e.Touch=i={}));var o=class{constructor(){this[n]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var s;return(s=this._head)==null?void 0:s.value}get last(){var s;return(s=this._tail)==null?void 0:s.value}has(s){return this._map.has(s)}get(s,c=i.None){let d=this._map.get(s);if(d)return c!==i.None&&this.touch(d,c),d.value}set(s,c,d=i.None){let p=this._map.get(s);if(p)p.value=c,d!==i.None&&this.touch(p,d);else{switch(p={key:s,value:c,next:void 0,previous:void 0},d){case i.None:this.addItemLast(p);break;case i.First:this.addItemFirst(p);break;case i.Last:this.addItemLast(p);break;default:this.addItemLast(p);break}this._map.set(s,p),this._size++}return this}delete(s){return!!this.remove(s)}remove(s){let c=this._map.get(s);if(c)return this._map.delete(s),this.removeItem(c),this._size--,c.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw Error("Invalid list");let s=this._head;return this._map.delete(s.key),this.removeItem(s),this._size--,s.value}forEach(s,c){let d=this._state,p=this._head;for(;p;){if(c?s.bind(c)(p.value,p.key,this):s(p.value,p.key,this),this._state!==d)throw Error("LinkedMap got modified during iteration.");p=p.next}}keys(){let s=this._state,c=this._head,d={[Symbol.iterator]:()=>d,next:()=>{if(this._state!==s)throw Error("LinkedMap got modified during iteration.");if(c){let p={value:c.key,done:!1};return c=c.next,p}else return{value:void 0,done:!0}}};return d}values(){let s=this._state,c=this._head,d={[Symbol.iterator]:()=>d,next:()=>{if(this._state!==s)throw Error("LinkedMap got modified during iteration.");if(c){let p={value:c.value,done:!1};return c=c.next,p}else return{value:void 0,done:!0}}};return d}entries(){let s=this._state,c=this._head,d={[Symbol.iterator]:()=>d,next:()=>{if(this._state!==s)throw Error("LinkedMap got modified during iteration.");if(c){let p={value:[c.key,c.value],done:!1};return c=c.next,p}else return{value:void 0,done:!0}}};return d}[(n=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(s){if(s>=this.size)return;if(s===0){this.clear();return}let c=this._head,d=this.size;for(;c&&d>s;)this._map.delete(c.key),c=c.next,d--;this._head=c,this._size=d,c&&(c.previous=void 0),this._state++}addItemFirst(s){if(!this._head&&!this._tail)this._tail=s;else if(this._head)s.next=this._head,this._head.previous=s;else throw Error("Invalid list");this._head=s,this._state++}addItemLast(s){if(!this._head&&!this._tail)this._head=s;else if(this._tail)s.previous=this._tail,this._tail.next=s;else throw Error("Invalid list");this._tail=s,this._state++}removeItem(s){if(s===this._head&&s===this._tail)this._head=void 0,this._tail=void 0;else if(s===this._head){if(!s.next)throw Error("Invalid list");s.next.previous=void 0,this._head=s.next}else if(s===this._tail){if(!s.previous)throw Error("Invalid list");s.previous.next=void 0,this._tail=s.previous}else{let c=s.next,d=s.previous;if(!c||!d)throw Error("Invalid list");c.previous=d,d.next=c}s.next=void 0,s.previous=void 0,this._state++}touch(s,c){if(!this._head||!this._tail)throw Error("Invalid list");if(!(c!==i.First&&c!==i.Last)){if(c===i.First){if(s===this._head)return;let d=s.next,p=s.previous;s===this._tail?(p.next=void 0,this._tail=p):(d.previous=p,p.next=d),s.previous=void 0,s.next=this._head,this._head.previous=s,this._head=s,this._state++}else if(c===i.Last){if(s===this._tail)return;let d=s.next,p=s.previous;s===this._head?(d.previous=void 0,this._head=d):(d.previous=p,p.next=d),s.next=void 0,s.previous=this._tail,this._tail.next=s,this._tail=s,this._state++}}}toJSON(){let s=[];return this.forEach((c,d)=>{s.push([d,c])}),s}fromJSON(s){this.clear();for(let[c,d]of s)this.set(c,d)}};e.LinkedMap=o,e.LRUCache=class extends o{constructor(s,c=1){super(),this._limit=s,this._ratio=Math.min(Math.max(0,c),1)}get limit(){return this._limit}set limit(s){this._limit=s,this.checkTrim()}get ratio(){return this._ratio}set ratio(s){this._ratio=Math.min(Math.max(0,s),1),this.checkTrim()}get(s,c=i.AsNew){return super.get(s,c)}peek(s){return super.get(s,i.None)}set(s,c){return super.set(s,c,i.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}})),R0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n;(function(i){function o(s){return{dispose:s}}i.create=o})(n||(e.Disposable=n={}))})),qi=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n;function i(){if(n===void 0)throw Error("No runtime abstraction layer installed");return n}(function(o){function s(c){if(c===void 0)throw Error("No runtime abstraction layer provided");n=c}o.install=s})(i||(i={})),e.default=i})),To=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qi(),i;(function(c){let d={dispose(){}};c.None=function(){return d}})(i||(e.Event=i={}));var o=class{add(c,d=null,p){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(c),this._contexts.push(d),Array.isArray(p)&&p.push({dispose:()=>this.remove(c,d)})}remove(c,d=null){if(!this._callbacks)return;let p=!1;for(let h=0,b=this._callbacks.length;h<b;h++)if(this._callbacks[h]===c)if(this._contexts[h]===d){this._callbacks.splice(h,1),this._contexts.splice(h,1);return}else p=!0;if(p)throw Error("When adding a listener with a context, you should remove it with the same context")}invoke(...c){if(!this._callbacks)return[];let d=[],p=this._callbacks.slice(0),h=this._contexts.slice(0);for(let b=0,x=p.length;b<x;b++)try{d.push(p[b].apply(h[b],c))}catch(w){(0,n.default)().console.error(w)}return d}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},s=class Yw{constructor(d){this._options=d}get event(){return this._event||(this._event=(d,p,h)=>{this._callbacks||(this._callbacks=new o),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(d,p);let b={dispose:()=>{this._callbacks&&(this._callbacks.remove(d,p),b.dispose=Yw._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(h)&&h.push(b),b}),this._event}fire(d){this._callbacks&&this._callbacks.invoke.call(this._callbacks,d)}dispose(){this._callbacks&&(this._callbacks=(this._callbacks.dispose(),void 0))}};e.Emitter=s,s._noop=function(){}})),Wl=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qi(),i=Eo(),o=To(),s;(function(p){p.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.Event.None}),p.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o.Event.None});function h(b){let x=b;return x&&(x===p.None||x===p.Cancelled||i.boolean(x.isCancellationRequested)&&!!x.onCancellationRequested)}p.is=h})(s||(e.CancellationToken=s={}));var c=Object.freeze(function(p,h){let b=(0,n.default)().timer.setTimeout(p.bind(h),0);return{dispose(){b.dispose()}}}),d=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?c:(this._emitter||(this._emitter=new o.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter=(this._emitter.dispose(),void 0))}};e.CancellationTokenSource=class{get token(){return this._token||(this._token=new d),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this._token?this._token instanceof d&&this._token.dispose():this._token=s.None}}})),D0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=Wl(),i;(function(c){c.Continue=0,c.Cancelled=1})(i||(i={})),e.SharedArraySenderStrategy=class{constructor(){this.buffers=new Map}enableCancellation(c){if(c.id===null)return;let d=new SharedArrayBuffer(4),p=new Int32Array(d,0,1);p[0]=i.Continue,this.buffers.set(c.id,d),c.$cancellationData=d}async sendCancellation(c,d){let p=this.buffers.get(d);if(p===void 0)return;let h=new Int32Array(p,0,1);Atomics.store(h,0,i.Cancelled)}cleanup(c){this.buffers.delete(c)}dispose(){this.buffers.clear()}};var o=class{constructor(c){this.data=new Int32Array(c,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===i.Cancelled}get onCancellationRequested(){throw Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},s=class{constructor(c){this.token=new o(c)}cancel(){}dispose(){}};e.SharedArrayReceiverStrategy=class{constructor(){this.kind="request"}createCancellationTokenSource(c){let d=c.$cancellationData;return d===void 0?new n.CancellationTokenSource:new s(d)}}})),Sd=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qi();e.Semaphore=class{constructor(i=1){if(i<=0)throw Error("Capacity must be greater than 0");this._capacity=i,this._active=0,this._waiting=[]}lock(i){return new Promise((o,s)=>{this._waiting.push({thunk:i,resolve:o,reject:s}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,n.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let i=this._waiting.shift();if(this._active++,this._active>this._capacity)throw Error("To many thunks active");try{let o=i.thunk();o instanceof Promise?o.then(s=>{this._active--,i.resolve(s),this.runNext()},s=>{this._active--,i.reject(s),this.runNext()}):(this._active--,i.resolve(o),this.runNext())}catch(o){this._active--,i.reject(o),this.runNext()}}}})),O0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qi(),i=Eo(),o=To(),s=Sd(),c;(function(h){function b(x){let w=x;return w&&i.func(w.listen)&&i.func(w.dispose)&&i.func(w.onError)&&i.func(w.onClose)&&i.func(w.onPartialMessage)}h.is=b})(c||(e.MessageReader=c={}));var d=class{constructor(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter,this.partialMessageEmitter=new o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(h){this.errorEmitter.fire(this.asError(h))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(h){this.partialMessageEmitter.fire(h)}asError(h){return h instanceof Error?h:Error(`Reader received error. Reason: ${i.string(h.message)?h.message:"unknown"}`)}};e.AbstractMessageReader=d;var p;(function(h){function b(x){let w,S,E=new Map,D,M=new Map;if(x===void 0||typeof x=="string")w=x??"utf-8";else{if(w=x.charset??"utf-8",x.contentDecoder!==void 0&&(S=x.contentDecoder,E.set(S.name,S)),x.contentDecoders!==void 0)for(let F of x.contentDecoders)E.set(F.name,F);if(x.contentTypeDecoder!==void 0&&(D=x.contentTypeDecoder,M.set(D.name,D)),x.contentTypeDecoders!==void 0)for(let F of x.contentTypeDecoders)M.set(F.name,F)}return D===void 0&&(D=(0,n.default)().applicationJson.decoder,M.set(D.name,D)),{charset:w,contentDecoder:S,contentDecoders:E,contentTypeDecoder:D,contentTypeDecoders:M}}h.fromOptions=b})(p||(p={})),e.ReadableStreamMessageReader=class extends d{constructor(h,b){super(),this.readable=h,this.options=p.fromOptions(b),this.buffer=(0,n.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new s.Semaphore(1)}set partialMessageTimeout(h){this._partialMessageTimeout=h}get partialMessageTimeout(){return this._partialMessageTimeout}listen(h){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=h;let b=this.readable.onData(x=>{this.onData(x)});return this.readable.onError(x=>this.fireError(x)),this.readable.onClose(()=>this.fireClose()),b}onData(h){try{for(this.buffer.append(h);;){if(this.nextMessageLength===-1){let x=this.buffer.tryReadHeaders(!0);if(!x)return;let w=x.get("content-length");if(!w){this.fireError(Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(x))}`));return}let S=parseInt(w);if(isNaN(S)){this.fireError(Error(`Content-Length value must be a number. Got ${w}`));return}this.nextMessageLength=S}let b=this.buffer.tryReadBody(this.nextMessageLength);if(b===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let x=this.options.contentDecoder===void 0?b:await this.options.contentDecoder.decode(b),w=await this.options.contentTypeDecoder.decode(x,this.options);this.callback(w)}).catch(x=>{this.fireError(x)})}}catch(b){this.fireError(b)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer=(this.partialMessageTimer.dispose(),void 0))}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,n.default)().timer.setTimeout((h,b)=>{this.partialMessageTimer=void 0,h===this.messageToken&&(this.firePartialMessage({messageToken:h,waitingTime:b}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}})),P0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qi(),i=Eo(),o=Sd(),s=To(),c="Content-Length: ",d=`\r
`,p;(function(x){function w(S){let E=S;return E&&i.func(E.dispose)&&i.func(E.onClose)&&i.func(E.onError)&&i.func(E.write)}x.is=w})(p||(e.MessageWriter=p={}));var h=class{constructor(){this.errorEmitter=new s.Emitter,this.closeEmitter=new s.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(x,w,S){this.errorEmitter.fire([this.asError(x),w,S])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(x){return x instanceof Error?x:Error(`Writer received error. Reason: ${i.string(x.message)?x.message:"unknown"}`)}};e.AbstractMessageWriter=h;var b;(function(x){function w(S){return S===void 0||typeof S=="string"?{charset:S??"utf-8",contentTypeEncoder:(0,n.default)().applicationJson.encoder}:{charset:S.charset??"utf-8",contentEncoder:S.contentEncoder,contentTypeEncoder:S.contentTypeEncoder??(0,n.default)().applicationJson.encoder}}x.fromOptions=w})(b||(b={})),e.WriteableStreamMessageWriter=class extends h{constructor(x,w){super(),this.writable=x,this.options=b.fromOptions(w),this.errorCount=0,this.writeSemaphore=new o.Semaphore(1),this.writable.onError(S=>this.fireError(S)),this.writable.onClose(()=>this.fireClose())}async write(x){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(x,this.options).then(w=>this.options.contentEncoder===void 0?w:this.options.contentEncoder.encode(w)).then(w=>{let S=[];return S.push(c,w.byteLength.toString(),d),S.push(d),this.doWrite(x,S,w)},w=>{throw this.fireError(w),w}))}async doWrite(x,w,S){try{return await this.writable.write(w.join(""),"ascii"),this.writable.write(S)}catch(E){return this.handleError(E,x),Promise.reject(E)}}handleError(x,w){this.errorCount++,this.fireError(x,w,this.errorCount)}end(){this.writable.end()}}})),L0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=13,i=10,o=`\r
`;e.AbstractMessageBuffer=class{constructor(s="utf-8"){this._encoding=s,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(s){let c=typeof s=="string"?this.fromString(s,this._encoding):s;this._chunks.push(c),this._totalLength+=c.byteLength}tryReadHeaders(s=!1){if(this._chunks.length===0)return;let c=0,d=0,p=0,h=0;e:for(;d<this._chunks.length;){let S=this._chunks[d];for(p=0;p<S.length;){switch(S[p]){case n:switch(c){case 0:c=1;break;case 2:c=3;break;default:c=0}break;case i:switch(c){case 1:c=2;break;case 3:c=4,p++;break e;default:c=0}break;default:c=0}p++}h+=S.byteLength,d++}if(c!==4)return;let b=this._read(h+p),x=new Map,w=this.toString(b,"ascii").split(o);if(w.length<2)return x;for(let S=0;S<w.length-2;S++){let E=w[S],D=E.indexOf(":");if(D===-1)throw Error(`Message header must separate key and value using ':'
${E}`);let M=E.substr(0,D),F=E.substr(D+1).trim();x.set(s?M.toLowerCase():M,F)}return x}tryReadBody(s){if(!(this._totalLength<s))return this._read(s)}get numberOfBytes(){return this._totalLength}_read(s){if(s===0)return this.emptyBuffer();if(s>this._totalLength)throw Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===s){let p=this._chunks[0];return this._chunks.shift(),this._totalLength-=s,this.asNative(p)}if(this._chunks[0].byteLength>s){let p=this._chunks[0],h=this.asNative(p,s);return this._chunks[0]=p.slice(s),this._totalLength-=s,h}let c=this.allocNative(s),d=0;for(;s>0;){let p=this._chunks[0];if(p.byteLength>s){let h=p.slice(0,s);c.set(h,d),d+=s,this._chunks[0]=p.slice(s),this._totalLength-=s,s-=s}else c.set(p,d),d+=p.byteLength,this._chunks.shift(),this._totalLength-=p.byteLength,s-=p.byteLength}return c}}})),M0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.ConnectionOptions=e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.RequestCancellationReceiverStrategy=e.IdCancellationReceiverStrategy=e.ConnectionStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=e.NullLogger=e.ProgressType=e.ProgressToken=void 0;var n=qi(),i=Eo(),o=kd(),s=Cd(),c=To(),d=Wl(),p;(function(X){X.type=new o.NotificationType("$/cancelRequest")})(p||(p={}));var h;(function(X){function _e(Se){return typeof Se=="string"||typeof Se=="number"}X.is=_e})(h||(e.ProgressToken=h={}));var b;(function(X){X.type=new o.NotificationType("$/progress")})(b||(b={})),e.ProgressType=class{constructor(){}};var x;(function(X){function _e(Se){return i.func(Se)}X.is=_e})(x||(x={})),e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var w;(function(X){X[X.Off=0]="Off",X[X.Messages=1]="Messages",X[X.Compact=2]="Compact",X[X.Verbose=3]="Verbose"})(w||(e.Trace=w={}));var S;(function(X){X.Off="off",X.Messages="messages",X.Compact="compact",X.Verbose="verbose"})(S||(e.TraceValues=S={})),(function(X){function _e(ae){if(!i.string(ae))return X.Off;switch(ae=ae.toLowerCase(),ae){case"off":return X.Off;case"messages":return X.Messages;case"compact":return X.Compact;case"verbose":return X.Verbose;default:return X.Off}}X.fromString=_e;function Se(ae){switch(ae){case X.Off:return"off";case X.Messages:return"messages";case X.Compact:return"compact";case X.Verbose:return"verbose";default:return"off"}}X.toString=Se})(w||(e.Trace=w={}));var E;(function(X){X.Text="text",X.JSON="json"})(E||(e.TraceFormat=E={})),(function(X){function _e(Se){return i.string(Se)?(Se=Se.toLowerCase(),Se==="json"?X.JSON:X.Text):X.Text}X.fromString=_e})(E||(e.TraceFormat=E={}));var D;(function(X){X.type=new o.NotificationType("$/setTrace")})(D||(e.SetTraceNotification=D={}));var M;(function(X){X.type=new o.NotificationType("$/logTrace")})(M||(e.LogTraceNotification=M={}));var F;(function(X){X[X.Closed=1]="Closed",X[X.Disposed=2]="Disposed",X[X.AlreadyListening=3]="AlreadyListening"})(F||(e.ConnectionErrors=F={}));var J=class Zw extends Error{constructor(_e,Se){super(Se),this.code=_e,Object.setPrototypeOf(this,Zw.prototype)}};e.ConnectionError=J;var K;(function(X){function _e(Se){let ae=Se;return ae&&i.func(ae.cancelUndispatched)}X.is=_e})(K||(e.ConnectionStrategy=K={}));var V;(function(X){function _e(Se){let ae=Se;return ae&&(ae.kind===void 0||ae.kind==="id")&&i.func(ae.createCancellationTokenSource)&&(ae.dispose===void 0||i.func(ae.dispose))}X.is=_e})(V||(e.IdCancellationReceiverStrategy=V={}));var ce;(function(X){function _e(Se){let ae=Se;return ae&&ae.kind==="request"&&i.func(ae.createCancellationTokenSource)&&(ae.dispose===void 0||i.func(ae.dispose))}X.is=_e})(ce||(e.RequestCancellationReceiverStrategy=ce={}));var he;(function(X){X.Message=Object.freeze({createCancellationTokenSource(Se){return new d.CancellationTokenSource}});function _e(Se){return V.is(Se)||ce.is(Se)}X.is=_e})(he||(e.CancellationReceiverStrategy=he={}));var B;(function(X){X.Message=Object.freeze({sendCancellation(Se,ae){return Se.sendNotification(p.type,{id:ae})},cleanup(Se){}});function _e(Se){let ae=Se;return ae&&i.func(ae.sendCancellation)&&i.func(ae.cleanup)}X.is=_e})(B||(e.CancellationSenderStrategy=B={}));var W;(function(X){X.Message=Object.freeze({receiver:he.Message,sender:B.Message});function _e(Se){let ae=Se;return ae&&he.is(ae.receiver)&&B.is(ae.sender)}X.is=_e})(W||(e.CancellationStrategy=W={}));var ue;(function(X){function _e(Se){let ae=Se;return ae&&i.func(ae.handleMessage)}X.is=_e})(ue||(e.MessageStrategy=ue={}));var be;(function(X){function _e(Se){let ae=Se;return ae&&(W.is(ae.cancellationStrategy)||K.is(ae.connectionStrategy)||ue.is(ae.messageStrategy))}X.is=_e})(be||(e.ConnectionOptions=be={}));var ye;(function(X){X[X.New=1]="New",X[X.Listening=2]="Listening",X[X.Closed=3]="Closed",X[X.Disposed=4]="Disposed"})(ye||(ye={}));function xe(X,_e,Se,ae){let ne=Se===void 0?e.NullLogger:Se,oe=0,$=0,Ne=0,Qe,ut=new Map,Fe,We=new Map,Re=new Map,Pe,hn=new s.LinkedMap,At=new Map,Dn=new Set,sn=new Map,Ue=w.Off,tn=E.Text,gt,gn=ye.New,Yn=new c.Emitter,kt=new c.Emitter,ui=new c.Emitter,yn=new c.Emitter,vn=new c.Emitter,In=ae&&ae.cancellationStrategy?ae.cancellationStrategy:W.Message;function Mr(I){if(I===null)throw Error("Can't send requests with id null since the response can't be correlated.");return"req-"+I.toString()}function An(I){return I===null?"res-unknown-"+(++Ne).toString():"res-"+I.toString()}function nn(){return"not-"+(++$).toString()}function $i(I,Y){o.Message.isRequest(Y)?I.set(Mr(Y.id),Y):o.Message.isResponse(Y)?I.set(An(Y.id),Y):I.set(nn(),Y)}function Ur(I){}function Nr(){return gn===ye.Listening}function di(){return gn===ye.Closed}function Vt(){return gn===ye.Disposed}function Kt(){(gn===ye.New||gn===ye.Listening)&&(gn=ye.Closed,kt.fire(void 0))}function yt(I){Yn.fire([I,void 0,void 0])}function Ft(I){Yn.fire(I)}X.onClose(Kt),X.onError(yt),_e.onClose(Kt),_e.onError(Ft);function Ct(){Pe||hn.size===0||(Pe=(0,n.default)().timer.setImmediate(()=>{Pe=void 0,Hi()}))}function fi(I){o.Message.isRequest(I)?fr(I):o.Message.isNotification(I)?$t(I):o.Message.isResponse(I)?Ge(I):lt(I)}function Hi(){if(hn.size===0)return;let I=hn.shift();try{let Y=ae==null?void 0:ae.messageStrategy;ue.is(Y)?Y.handleMessage(I,fi):fi(I)}finally{Ct()}}let Ir=I=>{try{if(o.Message.isNotification(I)&&I.method===p.type.method){let Y=I.params.id,me=Mr(Y),ke=hn.get(me);if(o.Message.isRequest(ke)){let tt=ae==null?void 0:ae.connectionStrategy,it=tt&&tt.cancelUndispatched?tt.cancelUndispatched(ke,Ur):void 0;if(it&&(it.error!==void 0||it.result!==void 0)){hn.delete(me),sn.delete(Y),it.id=ke.id,St(it,I.method,Date.now()),_e.write(it).catch(()=>ne.error("Sending response for canceled message failed."));return}}let pt=sn.get(Y);if(pt!==void 0){pt.cancel(),Qr(I);return}else Dn.add(Y)}$i(hn,I)}finally{Ct()}};function fr(I){if(Vt())return;function Y(He,Ve,at){let ht={jsonrpc:"2.0",id:I.id};He instanceof o.ResponseError?ht.error=He.toJson():ht.result=He===void 0?null:He,St(ht,Ve,at),_e.write(ht).catch(()=>ne.error("Sending response failed."))}function me(He,Ve,at){let ht={jsonrpc:"2.0",id:I.id,error:He.toJson()};St(ht,Ve,at),_e.write(ht).catch(()=>ne.error("Sending response failed."))}function ke(He,Ve,at){He===void 0&&(He=null);let ht={jsonrpc:"2.0",id:I.id,result:He};St(ht,Ve,at),_e.write(ht).catch(()=>ne.error("Sending response failed."))}Zn(I);let pt=ut.get(I.method),tt,it;pt&&(tt=pt.type,it=pt.handler);let wt=Date.now();if(it||Qe){let He=I.id??String(Date.now()),Ve=V.is(In.receiver)?In.receiver.createCancellationTokenSource(He):In.receiver.createCancellationTokenSource(I);I.id!==null&&Dn.has(I.id)&&Ve.cancel(),I.id!==null&&sn.set(He,Ve);try{let at;if(it)if(I.params===void 0){if(tt!==void 0&&tt.numberOfParams!==0){me(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${I.method} defines ${tt.numberOfParams} params but received none.`),I.method,wt);return}at=it(Ve.token)}else if(Array.isArray(I.params)){if(tt!==void 0&&tt.parameterStructures===o.ParameterStructures.byName){me(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${I.method} defines parameters by name but received parameters by position`),I.method,wt);return}at=it(...I.params,Ve.token)}else{if(tt!==void 0&&tt.parameterStructures===o.ParameterStructures.byPosition){me(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${I.method} defines parameters by position but received parameters by name`),I.method,wt);return}at=it(I.params,Ve.token)}else Qe&&(at=Qe(I.method,I.params,Ve.token));let ht=at;at?ht.then?ht.then(Ht=>{sn.delete(He),Y(Ht,I.method,wt)},Ht=>{sn.delete(He),Ht instanceof o.ResponseError?me(Ht,I.method,wt):Ht&&i.string(Ht.message)?me(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${I.method} failed with message: ${Ht.message}`),I.method,wt):me(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${I.method} failed unexpectedly without providing any details.`),I.method,wt)}):(sn.delete(He),Y(at,I.method,wt)):(sn.delete(He),ke(at,I.method,wt))}catch(at){sn.delete(He),at instanceof o.ResponseError?Y(at,I.method,wt):at&&i.string(at.message)?me(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${I.method} failed with message: ${at.message}`),I.method,wt):me(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${I.method} failed unexpectedly without providing any details.`),I.method,wt)}}else me(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${I.method}`),I.method,wt)}function Ge(I){if(!Vt())if(I.id===null)I.error?ne.error(`Received response message without id: Error is: 
${JSON.stringify(I.error,void 0,4)}`):ne.error("Received response message without id. No further error information provided.");else{let Y=I.id,me=At.get(Y);if(pi(I,me),me!==void 0){At.delete(Y);try{if(I.error){let ke=I.error;me.reject(new o.ResponseError(ke.code,ke.message,ke.data))}else if(I.result!==void 0)me.resolve(I.result);else throw Error("Should never happen.")}catch(ke){ke.message?ne.error(`Response handler '${me.method}' failed with message: ${ke.message}`):ne.error(`Response handler '${me.method}' failed unexpectedly.`)}}}}function $t(I){if(Vt())return;let Y,me;if(I.method===p.type.method){let ke=I.params.id;Dn.delete(ke),Qr(I);return}else{let ke=We.get(I.method);ke&&(me=ke.handler,Y=ke.type)}if(me||Fe)try{if(Qr(I),me)if(I.params===void 0)Y!==void 0&&Y.numberOfParams!==0&&Y.parameterStructures!==o.ParameterStructures.byName&&ne.error(`Notification ${I.method} defines ${Y.numberOfParams} params but received none.`),me();else if(Array.isArray(I.params)){let ke=I.params;I.method===b.type.method&&ke.length===2&&h.is(ke[0])?me({token:ke[0],value:ke[1]}):(Y!==void 0&&(Y.parameterStructures===o.ParameterStructures.byName&&ne.error(`Notification ${I.method} defines parameters by name but received parameters by position`),Y.numberOfParams!==I.params.length&&ne.error(`Notification ${I.method} defines ${Y.numberOfParams} params but received ${ke.length} arguments`)),me(...ke))}else Y!==void 0&&Y.parameterStructures===o.ParameterStructures.byPosition&&ne.error(`Notification ${I.method} defines parameters by position but received parameters by name`),me(I.params);else Fe&&Fe(I.method,I.params)}catch(ke){ke.message?ne.error(`Notification handler '${I.method}' failed with message: ${ke.message}`):ne.error(`Notification handler '${I.method}' failed unexpectedly.`)}else ui.fire(I)}function lt(I){if(!I){ne.error("Received empty message.");return}ne.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(I,null,4)}`);let Y=I;if(i.string(Y.id)||i.number(Y.id)){let me=Y.id,ke=At.get(me);ke&&ke.reject(Error("The received response has neither a result nor an error property."))}}function vt(I){if(I!=null)switch(Ue){case w.Verbose:return JSON.stringify(I,null,4);case w.Compact:return JSON.stringify(I);default:return}}function On(I){if(!(Ue===w.Off||!gt))if(tn===E.Text){let Y;(Ue===w.Verbose||Ue===w.Compact)&&I.params&&(Y=`Params: ${vt(I.params)}

`),gt.log(`Sending request '${I.method} - (${I.id})'.`,Y)}else jn("send-request",I)}function Kr(I){if(!(Ue===w.Off||!gt))if(tn===E.Text){let Y;(Ue===w.Verbose||Ue===w.Compact)&&(Y=I.params?`Params: ${vt(I.params)}

`:`No parameters provided.

`),gt.log(`Sending notification '${I.method}'.`,Y)}else jn("send-notification",I)}function St(I,Y,me){if(!(Ue===w.Off||!gt))if(tn===E.Text){let ke;(Ue===w.Verbose||Ue===w.Compact)&&(I.error&&I.error.data?ke=`Error data: ${vt(I.error.data)}

`:I.result?ke=`Result: ${vt(I.result)}

`:I.error===void 0&&(ke=`No result returned.

`)),gt.log(`Sending response '${Y} - (${I.id})'. Processing request took ${Date.now()-me}ms`,ke)}else jn("send-response",I)}function Zn(I){if(!(Ue===w.Off||!gt))if(tn===E.Text){let Y;(Ue===w.Verbose||Ue===w.Compact)&&I.params&&(Y=`Params: ${vt(I.params)}

`),gt.log(`Received request '${I.method} - (${I.id})'.`,Y)}else jn("receive-request",I)}function Qr(I){if(!(Ue===w.Off||!gt||I.method===M.type.method))if(tn===E.Text){let Y;(Ue===w.Verbose||Ue===w.Compact)&&(Y=I.params?`Params: ${vt(I.params)}

`:`No parameters provided.

`),gt.log(`Received notification '${I.method}'.`,Y)}else jn("receive-notification",I)}function pi(I,Y){if(!(Ue===w.Off||!gt))if(tn===E.Text){let me;if((Ue===w.Verbose||Ue===w.Compact)&&(I.error&&I.error.data?me=`Error data: ${vt(I.error.data)}

`:I.result?me=`Result: ${vt(I.result)}

`:I.error===void 0&&(me=`No result returned.

`)),Y){let ke=I.error?` Request failed: ${I.error.message} (${I.error.code}).`:"";gt.log(`Received response '${Y.method} - (${I.id})' in ${Date.now()-Y.timerStart}ms.${ke}`,me)}else gt.log(`Received response ${I.id} without active response promise.`,me)}else jn("receive-response",I)}function jn(I,Y){if(!gt||Ue===w.Off)return;let me={isLSPMessage:!0,type:I,message:Y,timestamp:Date.now()};gt.log(me)}function Vn(){if(di())throw new J(F.Closed,"Connection is closed.");if(Vt())throw new J(F.Disposed,"Connection is disposed.")}function Gr(){if(Nr())throw new J(F.AlreadyListening,"Connection is already listening")}function mi(){if(!Nr())throw Error("Call listen() first.")}function er(I){return I===void 0?null:I}function Pn(I){if(I!==null)return I}function bt(I){return I!=null&&!Array.isArray(I)&&typeof I=="object"}function jt(I,Y){switch(I){case o.ParameterStructures.auto:return bt(Y)?Pn(Y):[er(Y)];case o.ParameterStructures.byName:if(!bt(Y))throw Error("Received parameters by name but param is not an object literal.");return Pn(Y);case o.ParameterStructures.byPosition:return[er(Y)];default:throw Error(`Unknown parameter structure ${I.toString()}`)}}function P(I,Y){let me,ke=I.numberOfParams;switch(ke){case 0:me=void 0;break;case 1:me=jt(I.parameterStructures,Y[0]);break;default:me=[];for(let pt=0;pt<Y.length&&pt<ke;pt++)me.push(er(Y[pt]));if(Y.length<ke)for(let pt=Y.length;pt<ke;pt++)me.push(null);break}return me}let Je={sendNotification:(I,...Y)=>{Vn();let me,ke;if(i.string(I)){me=I;let tt=Y[0],it=0,wt=o.ParameterStructures.auto;o.ParameterStructures.is(tt)&&(it=1,wt=tt);let He=Y.length,Ve=He-it;switch(Ve){case 0:ke=void 0;break;case 1:ke=jt(wt,Y[it]);break;default:if(wt===o.ParameterStructures.byName)throw Error(`Received ${Ve} parameters for 'by Name' notification parameter structure.`);ke=Y.slice(it,He).map(at=>er(at));break}}else{let tt=Y;me=I.method,ke=P(I,tt)}let pt={jsonrpc:"2.0",method:me,params:ke};return Kr(pt),_e.write(pt).catch(tt=>{throw ne.error("Sending notification failed."),tt})},onNotification:(I,Y)=>{Vn();let me;return i.func(I)?Fe=I:Y&&(i.string(I)?(me=I,We.set(I,{type:void 0,handler:Y})):(me=I.method,We.set(I.method,{type:I,handler:Y}))),{dispose:()=>{me===void 0?Fe=void 0:We.delete(me)}}},onProgress:(I,Y,me)=>{if(Re.has(Y))throw Error(`Progress handler for token ${Y} already registered`);return Re.set(Y,me),{dispose:()=>{Re.delete(Y)}}},sendProgress:(I,Y,me)=>Je.sendNotification(b.type,{token:Y,value:me}),onUnhandledProgress:yn.event,sendRequest:(I,...Y)=>{Vn(),mi();let me,ke,pt;if(i.string(I)){me=I;let He=Y[0],Ve=Y[Y.length-1],at=0,ht=o.ParameterStructures.auto;o.ParameterStructures.is(He)&&(at=1,ht=He);let Ht=Y.length;d.CancellationToken.is(Ve)&&(--Ht,pt=Ve);let tr=Ht-at;switch(tr){case 0:ke=void 0;break;case 1:ke=jt(ht,Y[at]);break;default:if(ht===o.ParameterStructures.byName)throw Error(`Received ${tr} parameters for 'by Name' request parameter structure.`);ke=Y.slice(at,Ht).map(xs=>er(xs));break}}else{let He=Y;me=I.method,ke=P(I,He);let Ve=I.numberOfParams;pt=d.CancellationToken.is(He[Ve])?He[Ve]:void 0}let tt=oe++,it;pt&&(it=pt.onCancellationRequested(()=>{let He=In.sender.sendCancellation(Je,tt);return He===void 0?(ne.log(`Received no promise from cancellation strategy when cancelling id ${tt}`),Promise.resolve()):He.catch(()=>{ne.log(`Sending cancellation messages for id ${tt} failed`)})}));let wt={jsonrpc:"2.0",id:tt,method:me,params:ke};return On(wt),typeof In.sender.enableCancellation=="function"&&In.sender.enableCancellation(wt),new Promise(async(He,Ve)=>{let at={method:me,timerStart:Date.now(),resolve:ht=>{He(ht),In.sender.cleanup(tt),it==null||it.dispose()},reject:ht=>{Ve(ht),In.sender.cleanup(tt),it==null||it.dispose()}};try{await _e.write(wt),At.set(tt,at)}catch(ht){throw ne.error("Sending request failed."),at.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,ht.message?ht.message:"Unknown reason")),ht}})},onRequest:(I,Y)=>{Vn();let me=null;return x.is(I)?(me=void 0,Qe=I):i.string(I)?(me=null,Y!==void 0&&(me=I,ut.set(I,{handler:Y,type:void 0}))):Y!==void 0&&(me=I.method,ut.set(I.method,{type:I,handler:Y})),{dispose:()=>{me!==null&&(me===void 0?Qe=void 0:ut.delete(me))}}},hasPendingResponse:()=>At.size>0,trace:async(I,Y,me)=>{let ke=!1,pt=E.Text;me!==void 0&&(i.boolean(me)?ke=me:(ke=me.sendNotification||!1,pt=me.traceFormat||E.Text)),Ue=I,tn=pt,gt=Ue===w.Off?void 0:Y,ke&&!di()&&!Vt()&&await Je.sendNotification(D.type,{value:w.toString(I)})},onError:Yn.event,onClose:kt.event,onUnhandledNotification:ui.event,onDispose:vn.event,end:()=>{_e.end()},dispose:()=>{if(Vt())return;gn=ye.Disposed,vn.fire(void 0);let I=new o.ResponseError(o.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Y of At.values())Y.reject(I);At=new Map,sn=new Map,Dn=new Set,hn=new s.LinkedMap,i.func(_e.dispose)&&_e.dispose(),i.func(X.dispose)&&X.dispose()},listen:()=>{Vn(),Gr(),gn=ye.Listening,X.listen(Ir)},inspect:()=>{(0,n.default)().console.log("inspect")}};return Je.onNotification(M.type,I=>{if(Ue===w.Off||!gt)return;let Y=Ue===w.Verbose||Ue===w.Compact;gt.log(I.message,Y?I.verbose:void 0)}),Je.onNotification(b.type,I=>{let Y=Re.get(I.token);Y?Y(I.value):yn.fire(I)}),Je}e.createMessageConnection=xe})),Ul=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressType=e.ProgressToken=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.AbstractMessageBuffer=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.SharedArrayReceiverStrategy=e.SharedArraySenderStrategy=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.LRUCache=e.Touch=e.LinkedMap=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.Message=e.RAL=void 0,e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=void 0;var n=kd();Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return n.Message}}),Object.defineProperty(e,"RequestType",{enumerable:!0,get:function(){return n.RequestType}}),Object.defineProperty(e,"RequestType0",{enumerable:!0,get:function(){return n.RequestType0}}),Object.defineProperty(e,"RequestType1",{enumerable:!0,get:function(){return n.RequestType1}}),Object.defineProperty(e,"RequestType2",{enumerable:!0,get:function(){return n.RequestType2}}),Object.defineProperty(e,"RequestType3",{enumerable:!0,get:function(){return n.RequestType3}}),Object.defineProperty(e,"RequestType4",{enumerable:!0,get:function(){return n.RequestType4}}),Object.defineProperty(e,"RequestType5",{enumerable:!0,get:function(){return n.RequestType5}}),Object.defineProperty(e,"RequestType6",{enumerable:!0,get:function(){return n.RequestType6}}),Object.defineProperty(e,"RequestType7",{enumerable:!0,get:function(){return n.RequestType7}}),Object.defineProperty(e,"RequestType8",{enumerable:!0,get:function(){return n.RequestType8}}),Object.defineProperty(e,"RequestType9",{enumerable:!0,get:function(){return n.RequestType9}}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return n.ResponseError}}),Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return n.ErrorCodes}}),Object.defineProperty(e,"NotificationType",{enumerable:!0,get:function(){return n.NotificationType}}),Object.defineProperty(e,"NotificationType0",{enumerable:!0,get:function(){return n.NotificationType0}}),Object.defineProperty(e,"NotificationType1",{enumerable:!0,get:function(){return n.NotificationType1}}),Object.defineProperty(e,"NotificationType2",{enumerable:!0,get:function(){return n.NotificationType2}}),Object.defineProperty(e,"NotificationType3",{enumerable:!0,get:function(){return n.NotificationType3}}),Object.defineProperty(e,"NotificationType4",{enumerable:!0,get:function(){return n.NotificationType4}}),Object.defineProperty(e,"NotificationType5",{enumerable:!0,get:function(){return n.NotificationType5}}),Object.defineProperty(e,"NotificationType6",{enumerable:!0,get:function(){return n.NotificationType6}}),Object.defineProperty(e,"NotificationType7",{enumerable:!0,get:function(){return n.NotificationType7}}),Object.defineProperty(e,"NotificationType8",{enumerable:!0,get:function(){return n.NotificationType8}}),Object.defineProperty(e,"NotificationType9",{enumerable:!0,get:function(){return n.NotificationType9}}),Object.defineProperty(e,"ParameterStructures",{enumerable:!0,get:function(){return n.ParameterStructures}});var i=Cd();Object.defineProperty(e,"LinkedMap",{enumerable:!0,get:function(){return i.LinkedMap}}),Object.defineProperty(e,"LRUCache",{enumerable:!0,get:function(){return i.LRUCache}}),Object.defineProperty(e,"Touch",{enumerable:!0,get:function(){return i.Touch}});var o=R0();Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return o.Disposable}});var s=To();Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return s.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return s.Emitter}});var c=Wl();Object.defineProperty(e,"CancellationTokenSource",{enumerable:!0,get:function(){return c.CancellationTokenSource}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return c.CancellationToken}});var d=D0();Object.defineProperty(e,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return d.SharedArraySenderStrategy}}),Object.defineProperty(e,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return d.SharedArrayReceiverStrategy}});var p=O0();Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return p.MessageReader}}),Object.defineProperty(e,"AbstractMessageReader",{enumerable:!0,get:function(){return p.AbstractMessageReader}}),Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return p.ReadableStreamMessageReader}});var h=P0();Object.defineProperty(e,"MessageWriter",{enumerable:!0,get:function(){return h.MessageWriter}}),Object.defineProperty(e,"AbstractMessageWriter",{enumerable:!0,get:function(){return h.AbstractMessageWriter}}),Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return h.WriteableStreamMessageWriter}});var b=L0();Object.defineProperty(e,"AbstractMessageBuffer",{enumerable:!0,get:function(){return b.AbstractMessageBuffer}});var x=M0();Object.defineProperty(e,"ConnectionStrategy",{enumerable:!0,get:function(){return x.ConnectionStrategy}}),Object.defineProperty(e,"ConnectionOptions",{enumerable:!0,get:function(){return x.ConnectionOptions}}),Object.defineProperty(e,"NullLogger",{enumerable:!0,get:function(){return x.NullLogger}}),Object.defineProperty(e,"createMessageConnection",{enumerable:!0,get:function(){return x.createMessageConnection}}),Object.defineProperty(e,"ProgressToken",{enumerable:!0,get:function(){return x.ProgressToken}}),Object.defineProperty(e,"ProgressType",{enumerable:!0,get:function(){return x.ProgressType}}),Object.defineProperty(e,"Trace",{enumerable:!0,get:function(){return x.Trace}}),Object.defineProperty(e,"TraceValues",{enumerable:!0,get:function(){return x.TraceValues}}),Object.defineProperty(e,"TraceFormat",{enumerable:!0,get:function(){return x.TraceFormat}}),Object.defineProperty(e,"SetTraceNotification",{enumerable:!0,get:function(){return x.SetTraceNotification}}),Object.defineProperty(e,"LogTraceNotification",{enumerable:!0,get:function(){return x.LogTraceNotification}}),Object.defineProperty(e,"ConnectionErrors",{enumerable:!0,get:function(){return x.ConnectionErrors}}),Object.defineProperty(e,"ConnectionError",{enumerable:!0,get:function(){return x.ConnectionError}}),Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return x.CancellationReceiverStrategy}}),Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return x.CancellationSenderStrategy}}),Object.defineProperty(e,"CancellationStrategy",{enumerable:!0,get:function(){return x.CancellationStrategy}}),Object.defineProperty(e,"MessageStrategy",{enumerable:!0,get:function(){return x.MessageStrategy}}),e.RAL=qi().default})),N0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=Ul(),i=class e_ extends n.AbstractMessageBuffer{constructor(b="utf-8"){super(b),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return e_.emptyBuffer}fromString(b,x){return new TextEncoder().encode(b)}toString(b,x){return x==="ascii"?this.asciiDecoder.decode(b):new TextDecoder(x).decode(b)}asNative(b,x){return x===void 0?b:b.slice(0,x)}allocNative(b){return new Uint8Array(b)}};i.emptyBuffer=new Uint8Array;var o=class{constructor(h){this.socket=h,this._onData=new n.Emitter,this._messageListener=b=>{b.data.arrayBuffer().then(x=>{this._onData.fire(new Uint8Array(x))},()=>{(0,n.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(h){return this.socket.addEventListener("close",h),n.Disposable.create(()=>this.socket.removeEventListener("close",h))}onError(h){return this.socket.addEventListener("error",h),n.Disposable.create(()=>this.socket.removeEventListener("error",h))}onEnd(h){return this.socket.addEventListener("end",h),n.Disposable.create(()=>this.socket.removeEventListener("end",h))}onData(h){return this._onData.event(h)}},s=class{constructor(h){this.socket=h}onClose(h){return this.socket.addEventListener("close",h),n.Disposable.create(()=>this.socket.removeEventListener("close",h))}onError(h){return this.socket.addEventListener("error",h),n.Disposable.create(()=>this.socket.removeEventListener("error",h))}onEnd(h){return this.socket.addEventListener("end",h),n.Disposable.create(()=>this.socket.removeEventListener("end",h))}write(h,b){if(typeof h=="string"){if(b!==void 0&&b!=="utf-8")throw Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${b}`);this.socket.send(h)}else this.socket.send(h);return Promise.resolve()}end(){this.socket.close()}},c=new TextEncoder,d=Object.freeze({messageBuffer:Object.freeze({create:h=>new i(h)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(h,b)=>{if(b.charset!=="utf-8")throw Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${b.charset}`);return Promise.resolve(c.encode(JSON.stringify(h,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(h,b)=>{if(!(h instanceof Uint8Array))throw Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(b.charset).decode(h)))}})}),stream:Object.freeze({asReadableStream:h=>new o(h),asWritableStream:h=>new s(h)}),console,timer:Object.freeze({setTimeout(h,b,...x){let w=setTimeout(h,b,...x);return{dispose:()=>clearTimeout(w)}},setImmediate(h,...b){let x=setTimeout(h,0,...b);return{dispose:()=>clearTimeout(x)}},setInterval(h,b,...x){let w=setInterval(h,b,...x);return{dispose:()=>clearInterval(w)}}})});function p(){return d}(function(h){function b(){n.RAL.install(d)}h.install=b})(p||(p={})),e.default=p})),ka=Te((e=>{var n=e&&e.__createBinding||(Object.create?(function(c,d,p,h){h===void 0&&(h=p);var b=Object.getOwnPropertyDescriptor(d,p);(!b||("get"in b?!d.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(c,h,b)}):(function(c,d,p,h){h===void 0&&(h=p),c[h]=d[p]})),i=e&&e.__exportStar||function(c,d){for(var p in c)p!=="default"&&!Object.prototype.hasOwnProperty.call(d,p)&&n(d,c,p)};Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.BrowserMessageWriter=e.BrowserMessageReader=void 0,N0().default.install();var o=Ul();i(Ul(),e),e.BrowserMessageReader=class extends o.AbstractMessageReader{constructor(c){super(),this._onData=new o.Emitter,this._messageListener=d=>{this._onData.fire(d.data)},c.addEventListener("error",d=>this.fireError(d)),c.onmessage=this._messageListener}listen(c){return this._onData.event(c)}},e.BrowserMessageWriter=class extends o.AbstractMessageWriter{constructor(c){super(),this.port=c,this.errorCount=0,c.addEventListener("error",d=>this.fireError(d))}write(c){try{return this.port.postMessage(c),Promise.resolve()}catch(d){return this.handleError(d,c),Promise.reject(d)}}handleError(c,d){this.errorCount++,this.fireError(c,d,this.errorCount)}end(){}};function s(c,d,p,h){return p===void 0&&(p=o.NullLogger),o.ConnectionStrategy.is(h)&&(h={connectionStrategy:h}),(0,o.createMessageConnection)(c,d,p,h)}e.createMessageConnection=s})),Ed=Te(((e,n)=>{n.exports=ka()})),qt=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=ka(),i;(function(o){o.clientToServer="clientToServer",o.serverToClient="serverToClient",o.both="both"})(i||(e.MessageDirection=i={})),e.RegistrationType=class{constructor(o){this.method=o}},e.ProtocolRequestType0=class extends n.RequestType0{constructor(o){super(o)}},e.ProtocolRequestType=class extends n.RequestType{constructor(o){super(o,n.ParameterStructures.byName)}},e.ProtocolNotificationType0=class extends n.NotificationType0{constructor(o){super(o)}},e.ProtocolNotificationType=class extends n.NotificationType{constructor(o){super(o,n.ParameterStructures.byName)}}})),Kl=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});function n(x){return x===!0||x===!1}e.boolean=n;function i(x){return typeof x=="string"||x instanceof String}e.string=i;function o(x){return typeof x=="number"||x instanceof Number}e.number=o;function s(x){return x instanceof Error}e.error=s;function c(x){return typeof x=="function"}e.func=c;function d(x){return Array.isArray(x)}e.array=d;function p(x){return d(x)&&x.every(w=>i(w))}e.stringArray=p;function h(x,w){return Array.isArray(x)&&x.every(w)}e.typedArray=h;function b(x){return typeof x=="object"&&!!x}e.objectLiteral=b})),I0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(o){o.method="textDocument/implementation",o.messageDirection=n.MessageDirection.clientToServer,o.type=new n.ProtocolRequestType(o.method)})(i||(e.ImplementationRequest=i={}))})),A0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(o){o.method="textDocument/typeDefinition",o.messageDirection=n.MessageDirection.clientToServer,o.type=new n.ProtocolRequestType(o.method)})(i||(e.TypeDefinitionRequest=i={}))})),j0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(s){s.method="workspace/workspaceFolders",s.messageDirection=n.MessageDirection.serverToClient,s.type=new n.ProtocolRequestType0(s.method)})(i||(e.WorkspaceFoldersRequest=i={}));var o;(function(s){s.method="workspace/didChangeWorkspaceFolders",s.messageDirection=n.MessageDirection.clientToServer,s.type=new n.ProtocolNotificationType(s.method)})(o||(e.DidChangeWorkspaceFoldersNotification=o={}))})),q0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(o){o.method="workspace/configuration",o.messageDirection=n.MessageDirection.serverToClient,o.type=new n.ProtocolRequestType(o.method)})(i||(e.ConfigurationRequest=i={}))})),z0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(s){s.method="textDocument/documentColor",s.messageDirection=n.MessageDirection.clientToServer,s.type=new n.ProtocolRequestType(s.method)})(i||(e.DocumentColorRequest=i={}));var o;(function(s){s.method="textDocument/colorPresentation",s.messageDirection=n.MessageDirection.clientToServer,s.type=new n.ProtocolRequestType(s.method)})(o||(e.ColorPresentationRequest=o={}))})),F0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(s){s.method="textDocument/foldingRange",s.messageDirection=n.MessageDirection.clientToServer,s.type=new n.ProtocolRequestType(s.method)})(i||(e.FoldingRangeRequest=i={}));var o;(function(s){s.method="workspace/foldingRange/refresh",s.messageDirection=n.MessageDirection.serverToClient,s.type=new n.ProtocolRequestType0(s.method)})(o||(e.FoldingRangeRefreshRequest=o={}))})),B0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(o){o.method="textDocument/declaration",o.messageDirection=n.MessageDirection.clientToServer,o.type=new n.ProtocolRequestType(o.method)})(i||(e.DeclarationRequest=i={}))})),V0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(o){o.method="textDocument/selectionRange",o.messageDirection=n.MessageDirection.clientToServer,o.type=new n.ProtocolRequestType(o.method)})(i||(e.SelectionRangeRequest=i={}))})),$0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=ka(),i=qt(),o;(function(d){d.type=new n.ProgressType;function p(h){return h===d.type}d.is=p})(o||(e.WorkDoneProgress=o={}));var s;(function(d){d.method="window/workDoneProgress/create",d.messageDirection=i.MessageDirection.serverToClient,d.type=new i.ProtocolRequestType(d.method)})(s||(e.WorkDoneProgressCreateRequest=s={}));var c;(function(d){d.method="window/workDoneProgress/cancel",d.messageDirection=i.MessageDirection.clientToServer,d.type=new i.ProtocolNotificationType(d.method)})(c||(e.WorkDoneProgressCancelNotification=c={}))})),H0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(c){c.method="textDocument/prepareCallHierarchy",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(i||(e.CallHierarchyPrepareRequest=i={}));var o;(function(c){c.method="callHierarchy/incomingCalls",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(o||(e.CallHierarchyIncomingCallsRequest=o={}));var s;(function(c){c.method="callHierarchy/outgoingCalls",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(s||(e.CallHierarchyOutgoingCallsRequest=s={}))})),W0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(h){h.Relative="relative"})(i||(e.TokenFormat=i={}));var o;(function(h){h.method="textDocument/semanticTokens",h.type=new n.RegistrationType(h.method)})(o||(e.SemanticTokensRegistrationType=o={}));var s;(function(h){h.method="textDocument/semanticTokens/full",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method),h.registrationMethod=o.method})(s||(e.SemanticTokensRequest=s={}));var c;(function(h){h.method="textDocument/semanticTokens/full/delta",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method),h.registrationMethod=o.method})(c||(e.SemanticTokensDeltaRequest=c={}));var d;(function(h){h.method="textDocument/semanticTokens/range",h.messageDirection=n.MessageDirection.clientToServer,h.type=new n.ProtocolRequestType(h.method),h.registrationMethod=o.method})(d||(e.SemanticTokensRangeRequest=d={}));var p;(function(h){h.method="workspace/semanticTokens/refresh",h.messageDirection=n.MessageDirection.serverToClient,h.type=new n.ProtocolRequestType0(h.method)})(p||(e.SemanticTokensRefreshRequest=p={}))})),U0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(o){o.method="window/showDocument",o.messageDirection=n.MessageDirection.serverToClient,o.type=new n.ProtocolRequestType(o.method)})(i||(e.ShowDocumentRequest=i={}))})),K0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(o){o.method="textDocument/linkedEditingRange",o.messageDirection=n.MessageDirection.clientToServer,o.type=new n.ProtocolRequestType(o.method)})(i||(e.LinkedEditingRangeRequest=i={}))})),Q0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(b){b.file="file",b.folder="folder"})(i||(e.FileOperationPatternKind=i={}));var o;(function(b){b.method="workspace/willCreateFiles",b.messageDirection=n.MessageDirection.clientToServer,b.type=new n.ProtocolRequestType(b.method)})(o||(e.WillCreateFilesRequest=o={}));var s;(function(b){b.method="workspace/didCreateFiles",b.messageDirection=n.MessageDirection.clientToServer,b.type=new n.ProtocolNotificationType(b.method)})(s||(e.DidCreateFilesNotification=s={}));var c;(function(b){b.method="workspace/willRenameFiles",b.messageDirection=n.MessageDirection.clientToServer,b.type=new n.ProtocolRequestType(b.method)})(c||(e.WillRenameFilesRequest=c={}));var d;(function(b){b.method="workspace/didRenameFiles",b.messageDirection=n.MessageDirection.clientToServer,b.type=new n.ProtocolNotificationType(b.method)})(d||(e.DidRenameFilesNotification=d={}));var p;(function(b){b.method="workspace/didDeleteFiles",b.messageDirection=n.MessageDirection.clientToServer,b.type=new n.ProtocolNotificationType(b.method)})(p||(e.DidDeleteFilesNotification=p={}));var h;(function(b){b.method="workspace/willDeleteFiles",b.messageDirection=n.MessageDirection.clientToServer,b.type=new n.ProtocolRequestType(b.method)})(h||(e.WillDeleteFilesRequest=h={}))})),G0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(c){c.document="document",c.project="project",c.group="group",c.scheme="scheme",c.global="global"})(i||(e.UniquenessLevel=i={}));var o;(function(c){c.$import="import",c.$export="export",c.local="local"})(o||(e.MonikerKind=o={}));var s;(function(c){c.method="textDocument/moniker",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(s||(e.MonikerRequest=s={}))})),J0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(c){c.method="textDocument/prepareTypeHierarchy",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(i||(e.TypeHierarchyPrepareRequest=i={}));var o;(function(c){c.method="typeHierarchy/supertypes",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(o||(e.TypeHierarchySupertypesRequest=o={}));var s;(function(c){c.method="typeHierarchy/subtypes",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(s||(e.TypeHierarchySubtypesRequest=s={}))})),X0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(s){s.method="textDocument/inlineValue",s.messageDirection=n.MessageDirection.clientToServer,s.type=new n.ProtocolRequestType(s.method)})(i||(e.InlineValueRequest=i={}));var o;(function(s){s.method="workspace/inlineValue/refresh",s.messageDirection=n.MessageDirection.serverToClient,s.type=new n.ProtocolRequestType0(s.method)})(o||(e.InlineValueRefreshRequest=o={}))})),Y0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(c){c.method="textDocument/inlayHint",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(i||(e.InlayHintRequest=i={}));var o;(function(c){c.method="inlayHint/resolve",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(o||(e.InlayHintResolveRequest=o={}));var s;(function(c){c.method="workspace/inlayHint/refresh",c.messageDirection=n.MessageDirection.serverToClient,c.type=new n.ProtocolRequestType0(c.method)})(s||(e.InlayHintRefreshRequest=s={}))})),Z0=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=ka(),i=Kl(),o=qt(),s;(function(b){function x(w){let S=w;return S&&i.boolean(S.retriggerRequest)}b.is=x})(s||(e.DiagnosticServerCancellationData=s={}));var c;(function(b){b.Full="full",b.Unchanged="unchanged"})(c||(e.DocumentDiagnosticReportKind=c={}));var d;(function(b){b.method="textDocument/diagnostic",b.messageDirection=o.MessageDirection.clientToServer,b.type=new o.ProtocolRequestType(b.method),b.partialResult=new n.ProgressType})(d||(e.DocumentDiagnosticRequest=d={}));var p;(function(b){b.method="workspace/diagnostic",b.messageDirection=o.MessageDirection.clientToServer,b.type=new o.ProtocolRequestType(b.method),b.partialResult=new n.ProgressType})(p||(e.WorkspaceDiagnosticRequest=p={}));var h;(function(b){b.method="workspace/diagnostic/refresh",b.messageDirection=o.MessageDirection.serverToClient,b.type=new o.ProtocolRequestType0(b.method)})(h||(e.DiagnosticRefreshRequest=h={}))})),eg=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=(Xp(),pu(Jp)),i=Kl(),o=qt(),s;(function(D){D.Markup=1,D.Code=2;function M(F){return F===1||F===2}D.is=M})(s||(e.NotebookCellKind=s={}));var c;(function(D){function M(K,V){let ce={executionOrder:K};return(V===!0||V===!1)&&(ce.success=V),ce}D.create=M;function F(K){let V=K;return i.objectLiteral(V)&&n.uinteger.is(V.executionOrder)&&(V.success===void 0||i.boolean(V.success))}D.is=F;function J(K,V){return K===V?!0:K==null||V==null?!1:K.executionOrder===V.executionOrder&&K.success===V.success}D.equals=J})(c||(e.ExecutionSummary=c={}));var d;(function(D){function M(V,ce){return{kind:V,document:ce}}D.create=M;function F(V){let ce=V;return i.objectLiteral(ce)&&s.is(ce.kind)&&n.DocumentUri.is(ce.document)&&(ce.metadata===void 0||i.objectLiteral(ce.metadata))}D.is=F;function J(V,ce){let he=new Set;return V.document!==ce.document&&he.add("document"),V.kind!==ce.kind&&he.add("kind"),V.executionSummary!==ce.executionSummary&&he.add("executionSummary"),(V.metadata!==void 0||ce.metadata!==void 0)&&!K(V.metadata,ce.metadata)&&he.add("metadata"),(V.executionSummary!==void 0||ce.executionSummary!==void 0)&&!c.equals(V.executionSummary,ce.executionSummary)&&he.add("executionSummary"),he}D.diff=J;function K(V,ce){if(V===ce)return!0;if(V==null||ce==null||typeof V!=typeof ce||typeof V!="object")return!1;let he=Array.isArray(V),B=Array.isArray(ce);if(he!==B)return!1;if(he&&B){if(V.length!==ce.length)return!1;for(let W=0;W<V.length;W++)if(!K(V[W],ce[W]))return!1}if(i.objectLiteral(V)&&i.objectLiteral(ce)){let W=Object.keys(V),ue=Object.keys(ce);if(W.length!==ue.length||(W.sort(),ue.sort(),!K(W,ue)))return!1;for(let be=0;be<W.length;be++){let ye=W[be];if(!K(V[ye],ce[ye]))return!1}}return!0}})(d||(e.NotebookCell=d={}));var p;(function(D){function M(J,K,V,ce){return{uri:J,notebookType:K,version:V,cells:ce}}D.create=M;function F(J){let K=J;return i.objectLiteral(K)&&i.string(K.uri)&&n.integer.is(K.version)&&i.typedArray(K.cells,d.is)}D.is=F})(p||(e.NotebookDocument=p={}));var h;(function(D){D.method="notebookDocument/sync",D.messageDirection=o.MessageDirection.clientToServer,D.type=new o.RegistrationType(D.method)})(h||(e.NotebookDocumentSyncRegistrationType=h={}));var b;(function(D){D.method="notebookDocument/didOpen",D.messageDirection=o.MessageDirection.clientToServer,D.type=new o.ProtocolNotificationType(D.method),D.registrationMethod=h.method})(b||(e.DidOpenNotebookDocumentNotification=b={}));var x;(function(D){function M(J){let K=J;return i.objectLiteral(K)&&n.uinteger.is(K.start)&&n.uinteger.is(K.deleteCount)&&(K.cells===void 0||i.typedArray(K.cells,d.is))}D.is=M;function F(J,K,V){let ce={start:J,deleteCount:K};return V!==void 0&&(ce.cells=V),ce}D.create=F})(x||(e.NotebookCellArrayChange=x={}));var w;(function(D){D.method="notebookDocument/didChange",D.messageDirection=o.MessageDirection.clientToServer,D.type=new o.ProtocolNotificationType(D.method),D.registrationMethod=h.method})(w||(e.DidChangeNotebookDocumentNotification=w={}));var S;(function(D){D.method="notebookDocument/didSave",D.messageDirection=o.MessageDirection.clientToServer,D.type=new o.ProtocolNotificationType(D.method),D.registrationMethod=h.method})(S||(e.DidSaveNotebookDocumentNotification=S={}));var E;(function(D){D.method="notebookDocument/didClose",D.messageDirection=o.MessageDirection.clientToServer,D.type=new o.ProtocolNotificationType(D.method),D.registrationMethod=h.method})(E||(e.DidCloseNotebookDocumentNotification=E={}))})),tg=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(o){o.method="textDocument/inlineCompletion",o.messageDirection=n.MessageDirection.clientToServer,o.type=new n.ProtocolRequestType(o.method)})(i||(e.InlineCompletionRequest=i={}))})),ng=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.WillRenameFilesRequest=e.DidRenameFilesNotification=e.WillCreateFilesRequest=e.DidCreateFilesNotification=e.FileOperationPatternKind=e.LinkedEditingRangeRequest=e.ShowDocumentRequest=e.SemanticTokensRegistrationType=e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.TokenFormat=e.CallHierarchyPrepareRequest=e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=e.SelectionRangeRequest=e.DeclarationRequest=e.FoldingRangeRefreshRequest=e.FoldingRangeRequest=e.ColorPresentationRequest=e.DocumentColorRequest=e.ConfigurationRequest=e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=e.TypeDefinitionRequest=e.ImplementationRequest=e.ApplyWorkspaceEditRequest=e.ExecuteCommandRequest=e.PrepareRenameRequest=e.RenameRequest=e.PrepareSupportDefaultBehavior=e.DocumentOnTypeFormattingRequest=e.DocumentRangesFormattingRequest=e.DocumentRangeFormattingRequest=e.DocumentFormattingRequest=e.DocumentLinkResolveRequest=e.DocumentLinkRequest=e.CodeLensRefreshRequest=e.CodeLensResolveRequest=e.CodeLensRequest=e.WorkspaceSymbolResolveRequest=void 0,e.InlineCompletionRequest=e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=e.InlineValueRefreshRequest=e.InlineValueRequest=e.TypeHierarchySupertypesRequest=e.TypeHierarchySubtypesRequest=e.TypeHierarchyPrepareRequest=void 0;var n=qt(),i=(Xp(),pu(Jp)),o=Kl(),s=I0();Object.defineProperty(e,"ImplementationRequest",{enumerable:!0,get:function(){return s.ImplementationRequest}});var c=A0();Object.defineProperty(e,"TypeDefinitionRequest",{enumerable:!0,get:function(){return c.TypeDefinitionRequest}});var d=j0();Object.defineProperty(e,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return d.WorkspaceFoldersRequest}}),Object.defineProperty(e,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return d.DidChangeWorkspaceFoldersNotification}});var p=q0();Object.defineProperty(e,"ConfigurationRequest",{enumerable:!0,get:function(){return p.ConfigurationRequest}});var h=z0();Object.defineProperty(e,"DocumentColorRequest",{enumerable:!0,get:function(){return h.DocumentColorRequest}}),Object.defineProperty(e,"ColorPresentationRequest",{enumerable:!0,get:function(){return h.ColorPresentationRequest}});var b=F0();Object.defineProperty(e,"FoldingRangeRequest",{enumerable:!0,get:function(){return b.FoldingRangeRequest}}),Object.defineProperty(e,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return b.FoldingRangeRefreshRequest}});var x=B0();Object.defineProperty(e,"DeclarationRequest",{enumerable:!0,get:function(){return x.DeclarationRequest}});var w=V0();Object.defineProperty(e,"SelectionRangeRequest",{enumerable:!0,get:function(){return w.SelectionRangeRequest}});var S=$0();Object.defineProperty(e,"WorkDoneProgress",{enumerable:!0,get:function(){return S.WorkDoneProgress}}),Object.defineProperty(e,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return S.WorkDoneProgressCreateRequest}}),Object.defineProperty(e,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return S.WorkDoneProgressCancelNotification}});var E=H0();Object.defineProperty(e,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return E.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(e,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return E.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(e,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return E.CallHierarchyPrepareRequest}});var D=W0();Object.defineProperty(e,"TokenFormat",{enumerable:!0,get:function(){return D.TokenFormat}}),Object.defineProperty(e,"SemanticTokensRequest",{enumerable:!0,get:function(){return D.SemanticTokensRequest}}),Object.defineProperty(e,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return D.SemanticTokensDeltaRequest}}),Object.defineProperty(e,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return D.SemanticTokensRangeRequest}}),Object.defineProperty(e,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return D.SemanticTokensRefreshRequest}}),Object.defineProperty(e,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return D.SemanticTokensRegistrationType}});var M=U0();Object.defineProperty(e,"ShowDocumentRequest",{enumerable:!0,get:function(){return M.ShowDocumentRequest}});var F=K0();Object.defineProperty(e,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return F.LinkedEditingRangeRequest}});var J=Q0();Object.defineProperty(e,"FileOperationPatternKind",{enumerable:!0,get:function(){return J.FileOperationPatternKind}}),Object.defineProperty(e,"DidCreateFilesNotification",{enumerable:!0,get:function(){return J.DidCreateFilesNotification}}),Object.defineProperty(e,"WillCreateFilesRequest",{enumerable:!0,get:function(){return J.WillCreateFilesRequest}}),Object.defineProperty(e,"DidRenameFilesNotification",{enumerable:!0,get:function(){return J.DidRenameFilesNotification}}),Object.defineProperty(e,"WillRenameFilesRequest",{enumerable:!0,get:function(){return J.WillRenameFilesRequest}}),Object.defineProperty(e,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return J.DidDeleteFilesNotification}}),Object.defineProperty(e,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return J.WillDeleteFilesRequest}});var K=G0();Object.defineProperty(e,"UniquenessLevel",{enumerable:!0,get:function(){return K.UniquenessLevel}}),Object.defineProperty(e,"MonikerKind",{enumerable:!0,get:function(){return K.MonikerKind}}),Object.defineProperty(e,"MonikerRequest",{enumerable:!0,get:function(){return K.MonikerRequest}});var V=J0();Object.defineProperty(e,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return V.TypeHierarchyPrepareRequest}}),Object.defineProperty(e,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return V.TypeHierarchySubtypesRequest}}),Object.defineProperty(e,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return V.TypeHierarchySupertypesRequest}});var ce=X0();Object.defineProperty(e,"InlineValueRequest",{enumerable:!0,get:function(){return ce.InlineValueRequest}}),Object.defineProperty(e,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return ce.InlineValueRefreshRequest}});var he=Y0();Object.defineProperty(e,"InlayHintRequest",{enumerable:!0,get:function(){return he.InlayHintRequest}}),Object.defineProperty(e,"InlayHintResolveRequest",{enumerable:!0,get:function(){return he.InlayHintResolveRequest}}),Object.defineProperty(e,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return he.InlayHintRefreshRequest}});var B=Z0();Object.defineProperty(e,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return B.DiagnosticServerCancellationData}}),Object.defineProperty(e,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return B.DocumentDiagnosticReportKind}}),Object.defineProperty(e,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return B.DocumentDiagnosticRequest}}),Object.defineProperty(e,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return B.WorkspaceDiagnosticRequest}}),Object.defineProperty(e,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return B.DiagnosticRefreshRequest}});var W=eg();Object.defineProperty(e,"NotebookCellKind",{enumerable:!0,get:function(){return W.NotebookCellKind}}),Object.defineProperty(e,"ExecutionSummary",{enumerable:!0,get:function(){return W.ExecutionSummary}}),Object.defineProperty(e,"NotebookCell",{enumerable:!0,get:function(){return W.NotebookCell}}),Object.defineProperty(e,"NotebookDocument",{enumerable:!0,get:function(){return W.NotebookDocument}}),Object.defineProperty(e,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return W.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(e,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return W.DidOpenNotebookDocumentNotification}}),Object.defineProperty(e,"NotebookCellArrayChange",{enumerable:!0,get:function(){return W.NotebookCellArrayChange}}),Object.defineProperty(e,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return W.DidChangeNotebookDocumentNotification}}),Object.defineProperty(e,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return W.DidSaveNotebookDocumentNotification}}),Object.defineProperty(e,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return W.DidCloseNotebookDocumentNotification}});var ue=tg();Object.defineProperty(e,"InlineCompletionRequest",{enumerable:!0,get:function(){return ue.InlineCompletionRequest}});var be;(function(P){function Je(I){let Y=I;return o.string(Y)||o.string(Y.language)||o.string(Y.scheme)||o.string(Y.pattern)}P.is=Je})(be||(e.TextDocumentFilter=be={}));var ye;(function(P){function Je(I){let Y=I;return o.objectLiteral(Y)&&(o.string(Y.notebookType)||o.string(Y.scheme)||o.string(Y.pattern))}P.is=Je})(ye||(e.NotebookDocumentFilter=ye={}));var xe;(function(P){function Je(I){let Y=I;return o.objectLiteral(Y)&&(o.string(Y.notebook)||ye.is(Y.notebook))&&(Y.language===void 0||o.string(Y.language))}P.is=Je})(xe||(e.NotebookCellTextDocumentFilter=xe={}));var X;(function(P){function Je(I){if(!Array.isArray(I))return!1;for(let Y of I)if(!o.string(Y)&&!be.is(Y)&&!xe.is(Y))return!1;return!0}P.is=Je})(X||(e.DocumentSelector=X={}));var _e;(function(P){P.method="client/registerCapability",P.messageDirection=n.MessageDirection.serverToClient,P.type=new n.ProtocolRequestType(P.method)})(_e||(e.RegistrationRequest=_e={}));var Se;(function(P){P.method="client/unregisterCapability",P.messageDirection=n.MessageDirection.serverToClient,P.type=new n.ProtocolRequestType(P.method)})(Se||(e.UnregistrationRequest=Se={}));var ae;(function(P){P.Create="create",P.Rename="rename",P.Delete="delete"})(ae||(e.ResourceOperationKind=ae={}));var ne;(function(P){P.Abort="abort",P.Transactional="transactional",P.TextOnlyTransactional="textOnlyTransactional",P.Undo="undo"})(ne||(e.FailureHandlingKind=ne={}));var oe;(function(P){P.UTF8="utf-8",P.UTF16="utf-16",P.UTF32="utf-32"})(oe||(e.PositionEncodingKind=oe={}));var $;(function(P){function Je(I){let Y=I;return Y&&o.string(Y.id)&&Y.id.length>0}P.hasId=Je})($||(e.StaticRegistrationOptions=$={}));var Ne;(function(P){function Je(I){let Y=I;return Y&&(Y.documentSelector===null||X.is(Y.documentSelector))}P.is=Je})(Ne||(e.TextDocumentRegistrationOptions=Ne={}));var Qe;(function(P){function Je(Y){let me=Y;return o.objectLiteral(me)&&(me.workDoneProgress===void 0||o.boolean(me.workDoneProgress))}P.is=Je;function I(Y){let me=Y;return me&&o.boolean(me.workDoneProgress)}P.hasWorkDoneProgress=I})(Qe||(e.WorkDoneProgressOptions=Qe={}));var ut;(function(P){P.method="initialize",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(ut||(e.InitializeRequest=ut={}));var Fe;(function(P){P.unknownProtocolVersion=1})(Fe||(e.InitializeErrorCodes=Fe={}));var We;(function(P){P.method="initialized",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolNotificationType(P.method)})(We||(e.InitializedNotification=We={}));var Re;(function(P){P.method="shutdown",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType0(P.method)})(Re||(e.ShutdownRequest=Re={}));var Pe;(function(P){P.method="exit",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolNotificationType0(P.method)})(Pe||(e.ExitNotification=Pe={}));var hn;(function(P){P.method="workspace/didChangeConfiguration",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolNotificationType(P.method)})(hn||(e.DidChangeConfigurationNotification=hn={}));var At;(function(P){P.Error=1,P.Warning=2,P.Info=3,P.Log=4,P.Debug=5})(At||(e.MessageType=At={}));var Dn;(function(P){P.method="window/showMessage",P.messageDirection=n.MessageDirection.serverToClient,P.type=new n.ProtocolNotificationType(P.method)})(Dn||(e.ShowMessageNotification=Dn={}));var sn;(function(P){P.method="window/showMessageRequest",P.messageDirection=n.MessageDirection.serverToClient,P.type=new n.ProtocolRequestType(P.method)})(sn||(e.ShowMessageRequest=sn={}));var Ue;(function(P){P.method="window/logMessage",P.messageDirection=n.MessageDirection.serverToClient,P.type=new n.ProtocolNotificationType(P.method)})(Ue||(e.LogMessageNotification=Ue={}));var tn;(function(P){P.method="telemetry/event",P.messageDirection=n.MessageDirection.serverToClient,P.type=new n.ProtocolNotificationType(P.method)})(tn||(e.TelemetryEventNotification=tn={}));var gt;(function(P){P.None=0,P.Full=1,P.Incremental=2})(gt||(e.TextDocumentSyncKind=gt={}));var gn;(function(P){P.method="textDocument/didOpen",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolNotificationType(P.method)})(gn||(e.DidOpenTextDocumentNotification=gn={}));var Yn;(function(P){function Je(Y){let me=Y;return me!=null&&typeof me.text=="string"&&me.range!==void 0&&(me.rangeLength===void 0||typeof me.rangeLength=="number")}P.isIncremental=Je;function I(Y){let me=Y;return me!=null&&typeof me.text=="string"&&me.range===void 0&&me.rangeLength===void 0}P.isFull=I})(Yn||(e.TextDocumentContentChangeEvent=Yn={}));var kt;(function(P){P.method="textDocument/didChange",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolNotificationType(P.method)})(kt||(e.DidChangeTextDocumentNotification=kt={}));var ui;(function(P){P.method="textDocument/didClose",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolNotificationType(P.method)})(ui||(e.DidCloseTextDocumentNotification=ui={}));var yn;(function(P){P.method="textDocument/didSave",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolNotificationType(P.method)})(yn||(e.DidSaveTextDocumentNotification=yn={}));var vn;(function(P){P.Manual=1,P.AfterDelay=2,P.FocusOut=3})(vn||(e.TextDocumentSaveReason=vn={}));var In;(function(P){P.method="textDocument/willSave",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolNotificationType(P.method)})(In||(e.WillSaveTextDocumentNotification=In={}));var Mr;(function(P){P.method="textDocument/willSaveWaitUntil",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Mr||(e.WillSaveTextDocumentWaitUntilRequest=Mr={}));var An;(function(P){P.method="workspace/didChangeWatchedFiles",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolNotificationType(P.method)})(An||(e.DidChangeWatchedFilesNotification=An={}));var nn;(function(P){P.Created=1,P.Changed=2,P.Deleted=3})(nn||(e.FileChangeType=nn={}));var $i;(function(P){function Je(I){let Y=I;return o.objectLiteral(Y)&&(i.URI.is(Y.baseUri)||i.WorkspaceFolder.is(Y.baseUri))&&o.string(Y.pattern)}P.is=Je})($i||(e.RelativePattern=$i={}));var Ur;(function(P){P.Create=1,P.Change=2,P.Delete=4})(Ur||(e.WatchKind=Ur={}));var Nr;(function(P){P.method="textDocument/publishDiagnostics",P.messageDirection=n.MessageDirection.serverToClient,P.type=new n.ProtocolNotificationType(P.method)})(Nr||(e.PublishDiagnosticsNotification=Nr={}));var di;(function(P){P.Invoked=1,P.TriggerCharacter=2,P.TriggerForIncompleteCompletions=3})(di||(e.CompletionTriggerKind=di={}));var Vt;(function(P){P.method="textDocument/completion",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Vt||(e.CompletionRequest=Vt={}));var Kt;(function(P){P.method="completionItem/resolve",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Kt||(e.CompletionResolveRequest=Kt={}));var yt;(function(P){P.method="textDocument/hover",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(yt||(e.HoverRequest=yt={}));var Ft;(function(P){P.Invoked=1,P.TriggerCharacter=2,P.ContentChange=3})(Ft||(e.SignatureHelpTriggerKind=Ft={}));var Ct;(function(P){P.method="textDocument/signatureHelp",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Ct||(e.SignatureHelpRequest=Ct={}));var fi;(function(P){P.method="textDocument/definition",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(fi||(e.DefinitionRequest=fi={}));var Hi;(function(P){P.method="textDocument/references",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Hi||(e.ReferencesRequest=Hi={}));var Ir;(function(P){P.method="textDocument/documentHighlight",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Ir||(e.DocumentHighlightRequest=Ir={}));var fr;(function(P){P.method="textDocument/documentSymbol",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(fr||(e.DocumentSymbolRequest=fr={}));var Ge;(function(P){P.method="textDocument/codeAction",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Ge||(e.CodeActionRequest=Ge={}));var $t;(function(P){P.method="codeAction/resolve",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})($t||(e.CodeActionResolveRequest=$t={}));var lt;(function(P){P.method="workspace/symbol",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(lt||(e.WorkspaceSymbolRequest=lt={}));var vt;(function(P){P.method="workspaceSymbol/resolve",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(vt||(e.WorkspaceSymbolResolveRequest=vt={}));var On;(function(P){P.method="textDocument/codeLens",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(On||(e.CodeLensRequest=On={}));var Kr;(function(P){P.method="codeLens/resolve",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Kr||(e.CodeLensResolveRequest=Kr={}));var St;(function(P){P.method="workspace/codeLens/refresh",P.messageDirection=n.MessageDirection.serverToClient,P.type=new n.ProtocolRequestType0(P.method)})(St||(e.CodeLensRefreshRequest=St={}));var Zn;(function(P){P.method="textDocument/documentLink",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Zn||(e.DocumentLinkRequest=Zn={}));var Qr;(function(P){P.method="documentLink/resolve",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Qr||(e.DocumentLinkResolveRequest=Qr={}));var pi;(function(P){P.method="textDocument/formatting",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(pi||(e.DocumentFormattingRequest=pi={}));var jn;(function(P){P.method="textDocument/rangeFormatting",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(jn||(e.DocumentRangeFormattingRequest=jn={}));var Vn;(function(P){P.method="textDocument/rangesFormatting",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Vn||(e.DocumentRangesFormattingRequest=Vn={}));var Gr;(function(P){P.method="textDocument/onTypeFormatting",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Gr||(e.DocumentOnTypeFormattingRequest=Gr={}));var mi;(function(P){P.Identifier=1})(mi||(e.PrepareSupportDefaultBehavior=mi={}));var er;(function(P){P.method="textDocument/rename",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(er||(e.RenameRequest=er={}));var Pn;(function(P){P.method="textDocument/prepareRename",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Pn||(e.PrepareRenameRequest=Pn={}));var bt;(function(P){P.method="workspace/executeCommand",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(bt||(e.ExecuteCommandRequest=bt={}));var jt;(function(P){P.method="workspace/applyEdit",P.messageDirection=n.MessageDirection.serverToClient,P.type=new n.ProtocolRequestType("workspace/applyEdit")})(jt||(e.ApplyWorkspaceEditRequest=jt={}))})),rg=Te((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=ka();function i(o,s,c,d){return n.ConnectionStrategy.is(d)&&(d={connectionStrategy:d}),(0,n.createMessageConnection)(o,s,c,d)}e.createProtocolConnection=i})),ig=Te((e=>{var n=e&&e.__createBinding||(Object.create?(function(c,d,p,h){h===void 0&&(h=p);var b=Object.getOwnPropertyDescriptor(d,p);(!b||("get"in b?!d.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(c,h,b)}):(function(c,d,p,h){h===void 0&&(h=p),c[h]=d[p]})),i=e&&e.__exportStar||function(c,d){for(var p in c)p!=="default"&&!Object.prototype.hasOwnProperty.call(d,p)&&n(d,c,p)};Object.defineProperty(e,"__esModule",{value:!0}),e.LSPErrorCodes=e.createProtocolConnection=void 0,i(ka(),e),i((Xp(),pu(Jp)),e),i(qt(),e),i(ng(),e);var o=rg();Object.defineProperty(e,"createProtocolConnection",{enumerable:!0,get:function(){return o.createProtocolConnection}});var s;(function(c){c.lspReservedErrorRangeStart=-32899,c.RequestFailed=-32803,c.ServerCancelled=-32802,c.ContentModified=-32801,c.RequestCancelled=-32800,c.lspReservedErrorRangeEnd=-32800})(s||(e.LSPErrorCodes=s={}))})),qu=Te((e=>{var n=e&&e.__createBinding||(Object.create?(function(c,d,p,h){h===void 0&&(h=p);var b=Object.getOwnPropertyDescriptor(d,p);(!b||("get"in b?!d.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(c,h,b)}):(function(c,d,p,h){h===void 0&&(h=p),c[h]=d[p]})),i=e&&e.__exportStar||function(c,d){for(var p in c)p!=="default"&&!Object.prototype.hasOwnProperty.call(d,p)&&n(d,c,p)};Object.defineProperty(e,"__esModule",{value:!0}),e.createProtocolConnection=void 0;var o=Ed();i(Ed(),e),i(ig(),e);function s(c,d,p,h){return(0,o.createMessageConnection)(c,d,p,h)}e.createProtocolConnection=s}));function mn(e,n){if(n.line>=e.lines)return n.character===0?e.length:void 0;let i=e.line(n.line+1).from+n.character;if(!(i>e.length))return i}function Or(e,n){return mn(e,n)||0}function zi(e,n){let i=e.lineAt(n);return{character:n-i.from,line:i.number-1}}var Ql=new l2.Renderer,gk=Ql.code;Ql.code=e=>e.text.trim()?gk.call(Ql,e):"";function ag(e){return l2(e,{async:!1,gfm:!0,breaks:!0,renderer:Ql})}function Pr(e,n=ag){if(!e)return"";if(wk(e)){let i=e.value;return e.kind==="markdown"&&(i=n(i.trim())),i}return Array.isArray(e)?e.map(i=>Pr(i,n)).filter(Boolean).join(`

`):typeof e=="string"?e:""}function yk(e){if(e.length===0)return"";if(e.length===1)return e[0]||"";e.sort();let n=e[0]||"",i=e[e.length-1]||"",o=0;for(;o<n.length&&n[o]===i[o];)o++;return n.substring(0,o)}function vk(e){if(e.length===0)return;let n=yk(e.map(s=>{var c;return((c=s.textEdit)==null?void 0:c.newText)||s.label}));if(n==="")return;let i=[];for(let s=0;s<n.length;s++){let c=n.slice(0,s+1);if(c.length>0){let d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");i.push(d)}}let o=i.join("|");return RegExp(`(${o})$`)}function bk(e){return(e==null?void 0:e.range)!==void 0}function wk(e){return e.kind!==void 0}function Jn(e,n){let i=document.createElement("div");i.className="cm-error-message",i.style.cssText=`
  position: absolute;
  padding: 8px;
  background: #fee;
  border: 1px solid #fcc;
  border-radius: 4px;
  color: #c00;
  font-size: 14px;
  z-index: 100;
  max-width: 300px;
  box-shadow: 0 2px 8px rgba(0,0,0,.15);
`,i.textContent=n;let o=e.coordsAtPos(e.state.selection.main.head);o&&(i.style.left=`${o.left}px`,i.style.top=`${o.bottom+5}px`),document.body.appendChild(i),setTimeout(()=>{i.style.opacity="0",i.style.transition="opacity 0.2s",setTimeout(()=>i.remove(),200)},3e3)}function Gl(e){if(e==null)return!0;if(Array.isArray(e))return e.length===0||e.every(Gl);if(typeof e=="string")return og(e);let n=e.value;return typeof n=="string"?og(n):!1}function og(e){return e==null?!0:typeof e=="string"?e.trim()===""||/^[\s\n`]*$/.test(e):!1}function _k(e,n){let i=[];return n.iterChanges((o,s,c,d,p)=>{let h=p.toString();if(o===0&&s===e.length){i.push({text:h});return}let b=zi(e,o),x=zi(e,s);i.push({range:{start:b,end:x},text:h})}),i.sort((o,s)=>{if(!o.range)return 1;if(!s.range)return-1;let c=o.range.start.line??-1,d=s.range.start.line??-1;if(c!==d)return d-c;let p=o.range.start.character??-1;return(s.range.start.character??-1)-p}),i}var xk=dn(qu()),kk=Object.fromEntries(Object.entries(xk.CompletionItemKind).map(([e,n])=>[n,e])),sg;(function(e){e.PlainText=1,e.Snippet=2})(sg||(sg={}));function Ck(e){return e.replaceAll(/\\\\/g,"").replaceAll(/(\$(\d+))/g,(n,i,o)=>"${"+o+"}")}function Sk(e,n){let{detail:i,labelDetails:o,label:s,kind:c,textEdit:d,insertText:p,documentation:h,additionalTextEdits:b,insertTextFormat:x}=e,w={label:s,detail:(o==null?void 0:o.detail)||i,apply(S,E,D,M){if(d&&bk(d)?S.dispatch(r2(S.state,d.newText,Or(S.state.doc,d.range.start),Or(S.state.doc,d.range.end))):p&&x===sg.Snippet&&n.useSnippetOnCompletion?r4(Ck(p))(S,null,D,M):S.dispatch(r2(S.state,s,D,M)),!b)return;let F=b.sort(({range:{end:J}},{range:{end:K}})=>Or(S.state.doc,J)<Or(S.state.doc,K)?1:Or(S.state.doc,J)>Or(S.state.doc,K)?-1:0);for(let J of F)S.dispatch(S.state.update({changes:{from:Or(S.state.doc,J.range.start),to:mn(S.state.doc,J.range.end),insert:J.newText}}))},type:c&&kk[c].toLowerCase()};return n.hasResolveProvider&&n.resolveItem?w.info=async()=>{var S;try{let E=await((S=n.resolveItem)==null?void 0:S.call(n,e)),D=document.createElement("div");D.classList.add("documentation");let M=(E==null?void 0:E.documentation)||h;return!M||Gl(M)?null:(n.allowHTMLContent?D.innerHTML=Pr(M,n.markdownRenderer):D.textContent=Pr(M,n.markdownRenderer),D)}catch(E){if(console.error("Failed to resolve completion item:",E),Gl(h))return null;if(h){let D=document.createElement("div");return D.classList.add("documentation"),n.allowHTMLContent?D.innerHTML=Pr(h,n.markdownRenderer):D.textContent=Pr(h,n.markdownRenderer),D}return null}}:h&&(w.info=()=>{let S=document.createElement("div");return S.classList.add("documentation"),n.allowHTMLContent?S.innerHTML=Pr(h,n.markdownRenderer):S.textContent=Pr(h,n.markdownRenderer),S}),w}function Ek(e,n,i){let o=[n?Tk(n):Rk,i==="python"?Dk:void 0].filter(Boolean),s=e;if(n){let c=n.toLowerCase();/^\w+$/.test(c)&&(s=s.filter(({label:d,filterText:p})=>(p??d).toLowerCase().startsWith(c)))}for(let c of o)s.sort(c);return s}function Tk(e){return(n,i)=>{let o=n.sortText??n.label,s=i.sortText??i.label;switch(!0){case(o.startsWith(e)&&!s.startsWith(e)):return-1;case(!o.startsWith(e)&&s.startsWith(e)):return 1}return o.localeCompare(s)}}function Rk(e,n){let i=e.sortText??e.label,o=n.sortText??n.label;return i.localeCompare(o)}function Dk(e,n){let i=e.label.endsWith("="),o=n.label.endsWith("=");return i&&!o?-1:!i&&o?1:0}function lg(e){let n=new Proxy({},{get(){throw Error(e)}});return function(i){return i.at(-1)??n}}const cg=Sl.define({combine:lg("No document URI provided. Either pass a one into the extension or use documentUri.of().")}),Ok=Sl.define({combine:lg("No language ID provided. Either pass a one into the extension or use languageId.of().")});let Td,ug;Td=dn(Fl()),ug=1e4,ql=class{constructor({rootUri:e,workspaceFolders:n,transport:i,initializationOptions:o,capabilities:s,timeout:c=ug,getWorkspaceConfiguration:d}){De(this,"ready");De(this,"capabilities");De(this,"initializePromise");De(this,"rootUri");De(this,"workspaceFolders");De(this,"timeout");De(this,"transport");De(this,"requestManager");De(this,"client");De(this,"initializationOptions");De(this,"clientCapabilities");De(this,"notificationListeners",new Set);this.rootUri=e,this.workspaceFolders=n,this.transport=i,this.initializationOptions=o,this.clientCapabilities=s,this.timeout=c,this.ready=!1,this.capabilities=null,this.requestManager=new Td.RequestManager([this.transport]),this.client=new Td.Client(this.requestManager),this.client.onNotification(h=>{this.processNotification(h)});let p=this.transport;p!=null&&p.connection&&p.connection.addEventListener("message",h=>{let b=JSON.parse(h.data);b.method==="workspace/configuration"&&d?p.connection.send(JSON.stringify({jsonrpc:"2.0",id:b.id,result:d(b.params)})):b.method&&b.id&&p.connection.send(JSON.stringify({jsonrpc:"2.0",id:b.id,result:null}))}),this.initializePromise=this.initialize()}getInitializationOptions(){let e={textDocument:{hover:{dynamicRegistration:!0,contentFormat:["markdown","plaintext"]},moniker:{},synchronization:{dynamicRegistration:!0,willSave:!1,didSave:!1,willSaveWaitUntil:!1},codeAction:{dynamicRegistration:!0,codeActionLiteralSupport:{codeActionKind:{valueSet:["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports"]}},resolveSupport:{properties:["edit"]}},completion:{dynamicRegistration:!0,completionItem:{snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:["markdown","plaintext"],deprecatedSupport:!1,preselectSupport:!1},contextSupport:!1},signatureHelp:{dynamicRegistration:!0,signatureInformation:{documentationFormat:["markdown","plaintext"]}},declaration:{dynamicRegistration:!0,linkSupport:!0},definition:{dynamicRegistration:!0,linkSupport:!0},typeDefinition:{dynamicRegistration:!0,linkSupport:!0},implementation:{dynamicRegistration:!0,linkSupport:!0},rename:{dynamicRegistration:!0,prepareSupport:!0}},workspace:{didChangeConfiguration:{dynamicRegistration:!0}}};return{capabilities:this.clientCapabilities?typeof this.clientCapabilities=="function"?this.clientCapabilities(e):this.clientCapabilities:e,initializationOptions:this.initializationOptions,processId:null,rootUri:this.rootUri,workspaceFolders:this.workspaceFolders}}async initialize(){let{capabilities:e}=await this.request("initialize",this.getInitializationOptions(),this.timeout*3);this.capabilities=e,this.notify("initialized",{}),this.ready=!0}close(){this.client.close()}textDocumentDidOpen(e){return this.notify("textDocument/didOpen",e)}textDocumentDidChange(e){return this.notify("textDocument/didChange",e)}async textDocumentHover(e){return await this.request("textDocument/hover",e,this.timeout)}async textDocumentCompletion(e){return await this.request("textDocument/completion",e,this.timeout)}async completionItemResolve(e){return await this.request("completionItem/resolve",e,this.timeout)}async textDocumentDefinition(e){return await this.request("textDocument/definition",e,this.timeout)}async textDocumentCodeAction(e){return await this.request("textDocument/codeAction",e,this.timeout)}async textDocumentRename(e){return await this.request("textDocument/rename",e,this.timeout)}async textDocumentPrepareRename(e){return await this.request("textDocument/prepareRename",e,this.timeout)}async textDocumentSignatureHelp(e){return await this.request("textDocument/signatureHelp",e,this.timeout)}onNotification(e){return this.notificationListeners.add(e),()=>this.notificationListeners.delete(e)}request(e,n,i){return this.client.request({method:e,params:n},i)}notify(e,n){return this.client.notify({method:e,params:n})}processNotification(e){this.notificationListeners.forEach(n=>n(e))}},Fl();var Fi=dn(qu()),dg=console.log;function Pk(){return String(Date.now()+Math.random())}var Lk=class{constructor(e){De(this,"documentVersion");De(this,"pluginId");De(this,"client");De(this,"documentUri");De(this,"languageId");De(this,"view");De(this,"allowHTMLContent");De(this,"useSnippetOnCompletion");De(this,"sendIncrementalChanges");De(this,"featureOptions");De(this,"onGoToDefinition");De(this,"markdownRenderer");De(this,"disposeListener");De(this,"lastSeenDiagnosticsVersion",0);let{client:n,documentUri:i,languageId:o,view:s,featureOptions:c,sendIncrementalChanges:d=!0,allowHTMLContent:p=!1,useSnippetOnCompletion:h=!1,onGoToDefinition:b,markdownRenderer:x=ag}=e;this.documentVersion=0,this.pluginId=Pk(),this.client=n,this.documentUri=i,this.languageId=o,this.view=s,this.allowHTMLContent=p,this.useSnippetOnCompletion=h,this.sendIncrementalChanges=d,this.featureOptions=c,this.onGoToDefinition=b,this.markdownRenderer=x,this.disposeListener=n.onNotification(this.processNotification.bind(this)),this.initialize({documentText:this.view.state.doc.toString()})}update({state:e,docChanged:n,startState:{doc:i},changes:o}){n&&(this.sendIncrementalChanges?this.sendChanges(_k(i,o)):this.sendChanges([{text:e.doc.toString()}]))}destroy(){var e;(e=this.disposeListener)==null||e.call(this)}async initialize({documentText:e}){this.client.initializePromise&&await this.client.initializePromise,await this.client.textDocumentDidOpen({textDocument:{uri:this.documentUri,languageId:this.languageId,text:e,version:this.documentVersion}})}async sendChanges(e){if(this.client.ready)try{await this.client.textDocumentDidChange({textDocument:{uri:this.documentUri,version:++this.documentVersion},contentChanges:e})}catch(n){console.error(n)}}requestDiagnostics(e){this.sendChanges([{text:e.state.doc.toString()}])}async requestHoverTooltip(e,{line:n,character:i}){var b;if(!this.featureOptions.hoverEnabled||!(this.client.ready&&((b=this.client.capabilities)!=null&&b.hoverProvider)))return null;let o=await this.client.textDocumentHover({textDocument:{uri:this.documentUri},position:{line:n,character:i}});if(!o)return null;let{contents:s,range:c}=o,d=mn(e.state.doc,{line:n,character:i}),p;if(c&&(d=mn(e.state.doc,c.start),p=mn(e.state.doc,c.end)),d==null||Gl(s))return null;let h=document.createElement("div");return h.classList.add("documentation","cm-lsp-hover-tooltip"),this.allowHTMLContent?h.innerHTML=Pr(s,this.markdownRenderer):h.textContent=Pr(s,this.markdownRenderer),{pos:d,end:p,create:x=>({dom:h}),above:!0}}async requestCompletion(e,{line:n,character:i},{triggerKind:o,triggerCharacter:s}){var S;if(!this.featureOptions.completionEnabled||!(this.client.ready&&((S=this.client.capabilities)!=null&&S.completionProvider)))return null;let c=await this.client.textDocumentCompletion({textDocument:{uri:this.documentUri},position:{line:n,character:i},context:{triggerKind:o,triggerCharacter:s}});if(!c)return null;let d="items"in c?c.items:c,p=vk(d),h=p?e.matchBefore(p):e.matchBefore(/[a-zA-Z0-9]+/),{pos:b}=e,x=Ek(d,h==null?void 0:h.text,this.languageId);h&&(b=h.from);let w=x.map(E=>{var D,M;return Sk(E,{allowHTMLContent:this.allowHTMLContent,useSnippetOnCompletion:this.useSnippetOnCompletion,hasResolveProvider:((M=(D=this.client.capabilities)==null?void 0:D.completionProvider)==null?void 0:M.resolveProvider)??!1,resolveItem:this.client.completionItemResolve.bind(this.client)})});return{from:b,options:w,filter:!1}}async requestDefinition(e,{line:n,character:i}){var x;if(!this.featureOptions.definitionEnabled||!(this.client.ready&&((x=this.client.capabilities)!=null&&x.definitionProvider)))return;let o=await this.client.textDocumentDefinition({textDocument:{uri:this.documentUri},position:{line:n,character:i}});if(!o)return;let s=Array.isArray(o)?o:[o];if(s.length===0)return;let c=s[0];if(!c)return;let d="uri"in c?c.uri:c.targetUri,p="range"in c?c.range:c.targetRange,h=d!==this.documentUri,b={uri:d,range:p,isExternalDocument:h};return h||e.dispatch(e.state.update({selection:{anchor:Or(e.state.doc,p.start),head:mn(e.state.doc,p.end)}})),this.onGoToDefinition&&this.onGoToDefinition(b),b}processNotification(e){try{switch(e.method){case"textDocument/publishDiagnostics":this.processDiagnostics(e.params)}}catch(n){dg(n)}}async processDiagnostics(e){if(e.uri!==this.documentUri)return;if(e.version!=null&&e.version>this.lastSeenDiagnosticsVersion&&(this.lastSeenDiagnosticsVersion=e.version,this.clearDiagnostics()),!this.featureOptions.diagnosticsEnabled){this.clearDiagnostics();return}let n={[Fi.DiagnosticSeverity.Error]:"error",[Fi.DiagnosticSeverity.Warning]:"warning",[Fi.DiagnosticSeverity.Information]:"info",[Fi.DiagnosticSeverity.Hint]:"info"},i=e.diagnostics.map(async({range:s,message:c,severity:d,code:p,source:h})=>{var x;let b=(x=await this.requestCodeActions(s,[p]))==null?void 0:x.map(w=>{var S;return{name:"command"in w&&typeof w.command=="object"&&((S=w.command)==null?void 0:S.title)||w.title,apply:async()=>{var E;if("edit"in w&&((E=w.edit)!=null&&E.changes)){let D=w.edit.changes[this.documentUri];if(!D)return;for(let M of D)this.view.dispatch(this.view.state.update({changes:{from:Or(this.view.state.doc,M.range.start),to:mn(this.view.state.doc,M.range.end),insert:M.newText}}))}"command"in w&&w.command&&dg("Executing command:",w.command)}}});return{from:Or(this.view.state.doc,s.start),to:Or(this.view.state.doc,s.end),severity:n[d??Fi.DiagnosticSeverity.Error],message:c,renderMessage:()=>{let w=document.createElement("div");return w.innerHTML=this.markdownRenderer(c),w},source:h||this.languageId,markClass:this.pluginId,actions:b}}),o=await Promise.all(i);this.addDiagnostics(o)}addDiagnostics(e){if(e.length===0)return;let n=this.view.state,i=[];JT(n,c=>(i.push(c),!0));let o=new Set(e.map(c=>c.source).filter(Boolean)),s=e.filter(c=>!o.has(c.source));this.view.dispatch(Zb(n,[...s,...e]))}clearDiagnostics(){this.view.dispatch(Zb(this.view.state,[]))}async requestCodeActions(e,n){var i;return!this.featureOptions.codeActionsEnabled||!(this.client.ready&&((i=this.client.capabilities)!=null&&i.codeActionProvider))?null:await this.client.textDocumentCodeAction({textDocument:{uri:this.documentUri},range:e,context:{diagnostics:[{range:e,code:n[0],source:this.languageId,message:""}]}})}async requestRename(e,{line:n,character:i}){var o;if(this.featureOptions.renameEnabled){if(!this.client.ready){Jn(e,"Language server not ready");return}if(!((o=this.client.capabilities)!=null&&o.renameProvider)){Jn(e,"Rename not supported by language server");return}try{let s=await this.client.textDocumentPrepareRename({textDocument:{uri:this.documentUri},position:{line:n,character:i}}).catch(()=>this.prepareRenameFallback(e,{line:n,character:i}));if(!s||"defaultBehavior"in s){Jn(e,"Cannot rename this symbol");return}let c=document.createElement("div");c.className="cm-rename-popup",c.style.cssText="position: absolute; padding: 4px; background: white; border: 1px solid #ddd; box-shadow: 0 2px 8px rgba(0,0,0,.15); z-index: 99;";let d=document.createElement("input");d.type="text",d.style.cssText="width: 200px; padding: 4px; border: 1px solid #ddd;";let p="range"in s?s.range:s,h=mn(e.state.doc,p.start);if(h==null)return;let b=mn(e.state.doc,p.end);d.value=e.state.doc.sliceString(h,b),c.appendChild(d);let x=e.coordsAtPos(h);if(!x)return;c.style.left=`${x.left}px`,c.style.top=`${x.bottom+5}px`;let w=async()=>{let E=d.value.trim();if(!E){Jn(e,"New name cannot be empty"),c.remove();return}if(E===d.defaultValue){c.remove();return}try{let D=await this.client.textDocumentRename({textDocument:{uri:this.documentUri},position:{line:n,character:i},newName:E});await this.applyRenameEdit(e,D)}catch(D){Jn(e,`Rename failed: ${D instanceof Error?D.message:"Unknown error"}`)}finally{c.remove()}};d.addEventListener("keydown",E=>{E.key==="Enter"?w():E.key==="Escape"&&c.remove(),E.stopPropagation()});let S=E=>{c.contains(E.target)||(c.remove(),document.removeEventListener("mousedown",S))};document.addEventListener("mousedown",S),document.body.appendChild(c),d.focus(),d.select()}catch(s){Jn(e,`Rename failed: ${s instanceof Error?s.message:"Unknown error"}`)}}}async requestSignatureHelp(e,{line:n,character:i},o=void 0){var s,c;if(!(this.featureOptions.signatureHelpEnabled&&this.client.ready&&((s=this.client.capabilities)!=null&&s.signatureHelpProvider)))return null;try{let d=await this.client.textDocumentSignatureHelp({textDocument:{uri:this.documentUri},position:{line:n,character:i},context:{isRetrigger:!1,triggerKind:1,triggerCharacter:o}});if(!(d!=null&&d.signatures)||d.signatures.length===0)return null;let p=this.createTooltipContainer(),h=d.activeSignature??0,b=d.signatures[h]||d.signatures[0];if(!b)return null;let x=d.activeParameter??b.activeParameter??0,w=this.createSignatureElement(b,x);p.appendChild(w),b.documentation&&p.appendChild(this.createDocumentationElement(b.documentation));let S=(c=b.parameters)==null?void 0:c[x];S!=null&&S.documentation&&p.appendChild(this.createParameterDocElement(S.documentation));let E=mn(e.state.doc,{line:n,character:i});return E==null?null:{pos:E,end:E,create:D=>({dom:p}),above:!1}}catch(d){return console.error("Signature help error:",d),null}}async showSignatureHelpTooltip(e,n,i){let o=await this.requestSignatureHelp(e,zi(e.state.doc,n),i);if(o){let{pos:s,create:c}=o,d=c(e),p=document.createElement("div");p.className="cm-tooltip cm-signature-tooltip",p.style.position="absolute",p.appendChild(d.dom);let h=e.coordsAtPos(s);if(h){p.style.left=`${h.left}px`,p.style.top=`${h.bottom+5}px`,document.body.appendChild(p),setTimeout(()=>{p.remove()},1e4);let b=()=>{p.remove(),e.dom.removeEventListener("keydown",b),e.dom.removeEventListener("mousedown",b)};e.dom.addEventListener("keydown",b),e.dom.addEventListener("mousedown",b)}}}createTooltipContainer(){let e=document.createElement("div");return e.classList.add("cm-signature-help"),e.style.cssText="padding: 6px; max-width: 400px;",e}createSignatureElement(e,n){let i=document.createElement("div");if(i.classList.add("cm-signature"),i.style.cssText="font-family: monospace; margin-bottom: 4px;",!e.label||typeof e.label!="string")return i.textContent="Signature information unavailable",i;let o=e.label,s=e.parameters||[];if(s.length===0||!s[n])return i.textContent=o,i;let c=s[n].label;return typeof c=="string"?this.allowHTMLContent?i.innerHTML=o.replace(c,`<strong class="cm-signature-active-param">${c}</strong>`):i.textContent=o.replace(c,`\xAB${c}\xBB`):Array.isArray(c)&&c.length===2?this.applyRangeHighlighting(i,o,c[0],c[1]):i.textContent=o,i}applyRangeHighlighting(e,n,i,o){e.textContent="";let s=n.substring(0,i),c=n.substring(i,o),d=n.substring(o);e.appendChild(document.createTextNode(s));let p=document.createElement("span");p.classList.add("cm-signature-active-param"),p.style.cssText="font-weight: bold; text-decoration: underline;",p.textContent=c,e.appendChild(p),e.appendChild(document.createTextNode(d))}createDocumentationElement(e){let n=document.createElement("div");n.classList.add("cm-signature-docs"),n.style.cssText="margin-top: 4px; color: #666;";let i=Pr(e,this.markdownRenderer);return this.allowHTMLContent?n.innerHTML=i:n.textContent=i,n}createParameterDocElement(e){let n=document.createElement("div");n.classList.add("cm-parameter-docs"),n.style.cssText="margin-top: 4px; font-style: italic; border-top: 1px solid #eee; padding-top: 4px;";let i=Pr(e,this.markdownRenderer);return this.allowHTMLContent?n.innerHTML=i:n.textContent=i,n}prepareRenameFallback(e,{line:n,character:i}){let o=e.state.doc.line(n+1).text,s=/\w+/g,c,d=i,p=i;for(;(c=s.exec(o))!==null;){let h=c.index,b=c.index+c[0].length;if(i>=h&&i<=b){d=h,p=b;break}}return d===i&&p===i?null:{range:{start:{line:n,character:d},end:{line:n,character:p}},placeholder:o.slice(d,p)}}async applyRenameEdit(e,n){if(!n)return Jn(e,"No edit returned from language server"),!1;let i=n.changes??{},o=n.documentChanges??[];if(Object.keys(i).length===0&&o.length===0)return Jn(e,"No changes to apply"),!1;if(o.length>0)for(let s of o){if("textDocument"in s){if(s.textDocument.uri!==this.documentUri){Jn(e,"Multi-file rename not supported yet");continue}let c=s.edits.sort((d,p)=>{let h=mn(e.state.doc,d.range.start);return(mn(e.state.doc,p.range.start)??0)-(h??0)}).map(d=>({from:mn(e.state.doc,d.range.start)??0,to:mn(e.state.doc,d.range.end)??0,insert:d.newText}));return e.dispatch(e.state.update({changes:c})),!0}return Jn(e,"File creation, deletion, or renaming operations not supported yet"),!1}else if(Object.keys(i).length>0)for(let[s,c]of Object.entries(i)){if(s!==this.documentUri){Jn(e,"Multi-file rename not supported yet");continue}let d=c.sort((p,h)=>{let b=mn(e.state.doc,p.range.start);return(mn(e.state.doc,h.range.start)??0)-(b??0)}).map(p=>({from:mn(e.state.doc,p.range.start)??0,to:mn(e.state.doc,p.range.end)??0,insert:p.newText}));e.dispatch(e.state.update({changes:d}))}return!1}};Fm=function(e){var d;let n=null,i={rename:"F2",goToDefinition:"F12",signatureHelp:"Mod-Shift-Space",...e.keyboardShortcuts},o=e.client,s={diagnosticsEnabled:!0,hoverEnabled:!0,completionEnabled:!0,definitionEnabled:!0,renameEnabled:!0,codeActionsEnabled:!0,signatureHelpEnabled:!0,signatureActivateOnTyping:!1,...e},c=[ao.define(p=>(n=new Lk({client:o,documentUri:e.documentUri??p.state.facet(cg),languageId:e.languageId??p.state.facet(Ok),view:p,featureOptions:s,sendIncrementalChanges:e.sendIncrementalChanges,allowHTMLContent:e.allowHTMLContent,useSnippetOnCompletion:e.useSnippetOnCompletion,onGoToDefinition:e.onGoToDefinition,markdownRenderer:e.markdownRenderer}),n))];return c.push(io.of([{key:i.signatureHelp,run:p=>{if(!(n&&s.signatureHelpEnabled))return!1;let h=p.state.selection.main.head;return n.showSignatureHelpTooltip(p,h),!0}},{key:i.rename,run:p=>{if(!(n&&s.renameEnabled))return!1;let h=p.state.selection.main.head;return n.requestRename(p,zi(p.state.doc,h)),!0}},{key:i.goToDefinition,run:p=>{if(!(n&&s.definitionEnabled))return!1;let h=p.state.selection.main.head;return n.requestDefinition(p,zi(p.state.doc,h)).catch(b=>Jn(p,`Go to definition failed: ${b instanceof Error?b.message:"Unknown error"}`)),!0}}])),s.hoverEnabled&&c.push(Wp((p,h)=>n==null?null:n.requestHoverTooltip(p,zi(p.state.doc,h)),e.hoverConfig)),s.signatureHelpEnabled&&c.push(Zt.updateListener.of(async p=>{var E;if(!(n&&p.docChanged)||!((E=n.client.capabilities)!=null&&E.signatureHelpProvider)||!s.signatureActivateOnTyping)return;let h=n.client.capabilities.signatureHelpProvider.triggerCharacters||["(",","],b,x=p.changes,w=!1,S=-1;x.iterChanges((D,M,F,J,K)=>{if(w)return;let V=K.toString();if(V){for(let ce of h)if(V.includes(ce)){w=!0,S=J,b=ce;break}}}),w&&S>=0&&n.showSignatureHelpTooltip(p.view,S,b)})),s.completionEnabled&&c.push(bu({...e.completionConfig,override:[async p=>{var w,S;if(n==null)return null;let{state:h,pos:b}=p,x=Mk(p,((S=(w=n.client.capabilities)==null?void 0:w.completionProvider)==null?void 0:S.triggerCharacters)??[],e.completionMatchBefore);return x==null?null:await n.requestCompletion(p,zi(h.doc,b),x)},...((d=e.completionConfig)==null?void 0:d.override)||[]]})),c.push(Zt.domEventHandlers({click:(p,h)=>{if(s.definitionEnabled&&i.goToDefinition==="ctrlcmd"&&(p.ctrlKey||p.metaKey)){let b=h.posAtCoords({x:p.clientX,y:p.clientY});b&&n&&(n.requestDefinition(h,zi(h.state.doc,b)).catch(x=>Jn(h,`Go to definition failed: ${x instanceof Error?x.message:"Unknown error"}`)),p.preventDefault())}}})),c};function Mk(e,n,i){let{state:o,pos:s,explicit:c}=e,d=o.doc.lineAt(s),p=Fi.CompletionTriggerKind.Invoked,h,b=d.text[s-d.from-1]||"",x=n==null?void 0:n.includes(b);return!c&&x&&(p=Fi.CompletionTriggerKind.TriggerCharacter,h=b),p===Fi.CompletionTriggerKind.Invoked&&!e.matchBefore(i||/(\w+|\w+\.|\/|,)$/)?null:{triggerKind:p,triggerCharacter:h}}function fg(){return`file://${Pl()??"/__marimo_notebook__.py"}`}function Rd(){return`file://${Cu.dirname(Pl()??"/")}`}function Nk(e){return ni.filter(e,n=>n!==!1&&n!==null)}function pg(e){let n=e.map(Nk);return Object.assign({},...n)}var Ik=class{constructor(e){De(this,"clients",[]);this.clients=e,this.documentUri=fg()}onNotification(e){let n=[];for(let i of this.clients)n.push(i.onNotification(e));return()=>{for(let i of n)i();return!0}}get clientCapabilities(){return pg(this.clients.map(e=>{if(e.clientCapabilities)return typeof e.clientCapabilities=="function"?e.clientCapabilities({}):e.clientCapabilities}).filter(e=>e!=null))}get ready(){return this.clients.some(e=>e.ready)}set ready(e){this.clients.forEach(n=>{n.ready=e})}get capabilities(){return pg(this.clients.map(e=>e.capabilities).filter(e=>e!==null))}set capabilities(e){this.clients.forEach(n=>{n.capabilities=e})}get initializePromise(){return this.clients[0].initializePromise}set initializePromise(e){this.clients.forEach(n=>{n.initializePromise=e})}firstWithCapability(e){return this.clients.find(n=>{var i;return(i=n.capabilities)==null?void 0:i[e]})}clientsWithCapability(e){return this.clients.filter(n=>{var i;return(i=n.capabilities)==null?void 0:i[e]})}async initialize(){await Promise.all(this.clients.map(e=>e.initialize()))}async close(){await Promise.all(this.clients.map(e=>e.close()))}async textDocumentDidChange(e){return await Promise.all(this.clients.map(n=>n.textDocumentDidChange(e))),e}async completionItemResolve(e){let n=this.firstWithCapability("completionProvider");return n?n.completionItemResolve(e):e}async textDocumentCodeAction(e){let n=this.firstWithCapability("codeActionProvider");return n?n.textDocumentCodeAction(e):null}async textDocumentRename(e){let n=this.firstWithCapability("renameProvider");return n?n.textDocumentRename(e):null}async textDocumentPrepareRename(e){let n=this.firstWithCapability("renameProvider");return n?n.textDocumentPrepareRename(e):null}async textDocumentSignatureHelp(e){let n=this.firstWithCapability("signatureHelpProvider");return n?n.textDocumentSignatureHelp(e):null}async textDocumentCompletion(e){let n=this.clientsWithCapability("completionProvider");return Ak(await Promise.allSettled(n.map(i=>i.textDocumentCompletion(e))))}async textDocumentDefinition(e){let n=this.firstWithCapability("definitionProvider");return n?n.textDocumentDefinition(e):null}async textDocumentDidOpen(e){return await Promise.all(this.clients.map(n=>n.textDocumentDidOpen(e))),e}async textDocumentHover(e){var n;for(let i of this.clients){if(!((n=i.capabilities)!=null&&n.hoverProvider))continue;let o=await i.textDocumentHover(e);if(o)return o}return{contents:[]}}};function Ak(e){let n=[],i=!1;for(let o of e)if(o.status==="fulfilled"){let s=o.value;if(s==null)continue;Array.isArray(s)&&n.push(...s),"items"in s&&(n.push(...s.items),i||(i=s.isIncomplete))}return{items:n,isIncomplete:i}}var Dd=class{constructor(e,n={}){De(this,"cache",new Map);this.maxSize=e,this.options=n}getOrCreate(e){kn(this.options.create,"create function is required");let n=this.cache.get(e);if(n!==void 0)return n;let i=this.options.create(e);return this.cache.set(e,i),i}get(e){let n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e)&&this.cache.delete(e),this.cache.set(e,n),this.cache.size>this.maxSize){let i=this.cache.keys().next().value;i!==void 0&&this.cache.delete(i)}}keys(){return this.cache.keys()}values(){return this.cache.values()}entries(){return this.cache.entries()}delete(e){this.cache.delete(e)}};Ow=function(e){return[...jk(e),e].join(`
`)};function jk(e){return Tm().map(n=>{let i=oi(n);return i===e?null:i}).filter(Boolean).sort((n,i)=>n.startsWith("import")&&!i.startsWith("import")?-1:!n.startsWith("import")&&i.startsWith("import")?1:0)}var qk=Be(e=>{let n=e(ft);return ni.fromEntries(n.cellIds.inOrderIds.map(i=>{let o=n.cellHandles[i];return[i,o!=null&&o.current?oi(o.current.editorView):""]}))}),zk=Be(e=>e(ft).cellIds.inOrderIds),Fk=Be(e=>Vk(e(zk),e(ga)));const Bk=Be(e=>({cellIds:e(Fk),codes:e(qk)}));function Vk(e,n){var h,b;let i=new Map;e.forEach(x=>i.set(x,[]));let o=new Set(e),s=new Set(e);for(let{declaredBy:x,usedBy:w}of Object.values(n))for(let S of x){o.delete(S);for(let E of w)s.delete(E),E!==S&&((h=i.get(S))==null||h.push(E))}let c=new Map;e.forEach(x=>c.set(x,0)),i.forEach(x=>{x.forEach(w=>{c.set(w,(c.get(w)||0)+1)})});let d=[];c.forEach((x,w)=>{x===0&&d.push(w)});let p=[];for(;d.length>0;){let x=d.shift();if(!x)break;p.push(x),(b=i.get(x))==null||b.forEach(w=>{c.set(w,(c.get(w)||0)-1),c.get(w)===0&&d.push(w)})}return[...p.filter(x=>!o.has(x)),...o]}function $k(e,n){let i=new Map,o=0;e.forEach(d=>{i.set(d,o),o+=n[d].split(`
`).length});function s(d){return i.has(d)||Ae.warn("[lsp] no cell line offsets for",d),i.get(d)??0}let c=e.map(d=>n[d]).join(`
`);return{cellIds:e,mergedText:c,transformRange:(d,p)=>mg(d,s(p)),reverseRange:(d,p)=>mg(d,-s(p)),isInRange:(d,p)=>{let h=n[p].split(`
`).length,b=i.get(p)||0,x=d.start.line-b,w=d.end.line-b;return x>=0&&w<h},getEditsForNewText:d=>{let p=d.split(`
`),h=c.split(`
`);if(p.length!==h.length)throw Error("Cannot apply rename when there are new lines");let b=[];for(let[x,w]of ni.entries(n)){if(!i.has(x))continue;let S=i.get(x)??0,E=w.split(`
`).length,D=p.slice(S,S+E);b.push({cellId:x,text:D.join(`
`)})}return b},transformPosition:(d,p)=>Jl(d,s(p)),reversePosition:(d,p)=>Jl(d,-s(p))}}function mg(e,n){return{start:Jl(e.start,n),end:Jl(e.end,n)}}function Jl(e,n){return{line:e.line+n,character:e.character}}const Xn={PREFIX:"file:///",of(e){return`${this.PREFIX}${e}`},is(e){return e.startsWith(this.PREFIX)},parse(e){return kn(this.is(e),`Invalid cell document URI: ${e}`),e.slice(this.PREFIX.length)}};function Hk(e){return"notify"in e}var Wk=class{constructor(e){De(this,"documentVersion",0);De(this,"versionToCellNumberAndVersion",new Dd(20));De(this,"lastSnapshot",null);this.getNotebookCode=e}snapshot(){var i;let e=this.getLens(),n=((i=this.lastSnapshot)==null?void 0:i.mergedText)!==e.mergedText;return n?(this.documentVersion++,this.lastSnapshot=e,{lens:e,didChange:n,version:this.documentVersion}):{lens:e,didChange:n,version:this.documentVersion}}getSnapshot(e){let n=this.versionToCellNumberAndVersion.get(e);if(!n)throw Error(`No snapshot for version ${e}`);return n}getLatestSnapshot(){if(!this.lastSnapshot)throw Error("No snapshots");return{lens:this.lastSnapshot,version:this.documentVersion}}getLens(){let{cellIds:e,codes:n}=this.getNotebookCode();return $k(e,n)}},Uk=()=>{let e=zu().cellHandles;return ni.mapValues(e,n=>{var i;return(i=n.current)==null?void 0:i.editorViewOrNull})},Od=(Vi=class{constructor(n,i,o=Uk){this.documentUri=fg(),this.getNotebookEditors=o,this.client=n,this.patchProcessNotification(),this.initializePromise.then(()=>{kn(Hk(this.client),"notify is not a method on the client"),this.client.notify("workspace/didChangeConfiguration",{settings:i})}),this.snapshotter=new Wk(this.getNotebookCode.bind(this))}onNotification(n){return this.client.onNotification(n)}get ready(){return this.client.ready}set ready(n){this.client.ready=n}get capabilities(){return this.client.capabilities}set capabilities(n){this.client.capabilities=n}get initializePromise(){return this.client.initializePromise}set initializePromise(n){this.client.initializePromise=n}get clientCapabilities(){return this.client.clientCapabilities}async initialize(){await this.client.initialize()}close(){this.client.close()}getNotebookCode(){return st.get(Bk)}assertCellDocumentUri(n){kn(Xn.is(n),"Execpted URI to be CellDocumentUri")}async textDocumentDidOpen(n){Ae.debug("[lsp] textDocumentDidOpen",n);let i=n.textDocument.uri;this.assertCellDocumentUri(i);let{lens:o,version:s}=this.snapshotter.snapshot();Vi.SEEN_CELL_DOCUMENT_URIS.add(i);let c=await this.client.textDocumentDidOpen({textDocument:{languageId:n.textDocument.languageId,text:o.mergedText,uri:this.documentUri,version:s}});return c?{...c,textDocument:{...c.textDocument,text:o.mergedText}}:n}async sync(){let{lens:n,version:i,didChange:o}=this.snapshotter.snapshot();return o?this.client.textDocumentDidChange({textDocument:{uri:this.documentUri,version:i},contentChanges:[{text:n.mergedText}]}):{textDocument:{uri:this.documentUri,version:i},contentChanges:[{text:n.mergedText}]}}async textDocumentDidChange(n){return Ae.debug("[lsp] textDocumentDidChange",n),n.contentChanges.length===1?this.sync():(Ae.warn("[lsp] Unhandled textDocumentDidChange",n),this.client.textDocumentDidChange(n))}async textDocumentDefinition(n){let i=n.textDocument.uri;if(!Xn.is(i))return Ae.warn("Invalid cell document URI",i),null;await this.sync();let{lens:o}=this.snapshotter.getLatestSnapshot(),s=Xn.parse(i);return this.client.textDocumentDefinition({...n,textDocument:{uri:this.documentUri},position:o.transformPosition(n.position,s)})}async textDocumentSignatureHelp(n){let i=n.textDocument.uri;if(!Xn.is(i))return Ae.warn("Invalid cell document URI",i),null;await this.sync();let{lens:o}=this.snapshotter.getLatestSnapshot(),s=Xn.parse(i);return await this.client.textDocumentSignatureHelp({...n,textDocument:{uri:this.documentUri},position:o.transformPosition(n.position,s)})||null}textDocumentCodeAction(n){return Promise.resolve(null)}async textDocumentRename(n){var S;let i=n.textDocument.uri;if(!Xn.is(i))return Ae.warn("Invalid cell document URI",i),null;let o=Xn.parse(i);await this.sync();let{lens:s}=this.snapshotter.getLatestSnapshot(),c=s.transformPosition(n.position,o),d=await this.client.textDocumentRename({...n,textDocument:{uri:this.documentUri},position:c});if(!d)return null;let p=(S=d.documentChanges)==null?void 0:S.flatMap(E=>"edits"in E?E.edits:[]);if(!p||p.length!==1)return Ae.warn("Expected exactly one edit",p),d;let h=p[0];if(!("newText"in h))return Ae.warn("Expected newText in edit",h),d;let b=s.getEditsForNewText(h.newText),x=new Map(b.map(E=>[E.cellId,E.text])),w=this.getNotebookEditors();for(let[E,D]of ni.entries(w)){let M=x.get(E);if(M==null){Ae.warn("No new code for cell",E);continue}if(!D){Ae.warn("No view for plugin",E);continue}D.state.doc.toString()!==M&&D.dispatch({changes:{from:0,to:D.state.doc.length,insert:M}})}return{...d,documentChanges:[{edits:[],textDocument:{uri:i,version:0}}]}}completionItemResolve(n){return this.client.completionItemResolve(n)}async textDocumentPrepareRename(n){let i=n.textDocument.uri;if(!Xn.is(i))return Ae.warn("Invalid cell document URI",i),null;await this.sync();let{lens:o}=this.snapshotter.getLatestSnapshot(),s=Xn.parse(i);return this.client.textDocumentPrepareRename({...n,textDocument:{uri:this.documentUri},position:o.transformPosition(n.position,s)})}async textDocumentHover(n){Ae.debug("[lsp] textDocumentHover",n),await this.sync();let{lens:i}=this.snapshotter.getLatestSnapshot(),o=Xn.parse(n.textDocument.uri),s=await this.client.textDocumentHover({...n,textDocument:{uri:this.documentUri},position:i.transformPosition(n.position,o)});return s?(typeof s.contents=="object"&&"kind"in s.contents&&(s.contents={kind:"markdown",value:s.contents.value}),s.contents===""?null:(s.range&&(s.range=i.reverseRange(s.range,o)),s)):(Ae.debug("[lsp] no hover result"),s)}async textDocumentCompletion(n){let{lens:i}=this.snapshotter.getLatestSnapshot(),o=Xn.parse(n.textDocument.uri);return this.client.textDocumentCompletion({...n,textDocument:{uri:this.documentUri},position:i.transformPosition(n.position,o)})}patchProcessNotification(){kn("processNotification"in this.client,"processNotification is not a method on the client");let n=this.client.processNotification.bind(this.client),i=o=>{if(o.method==="textDocument/publishDiagnostics"){Ae.debug("[lsp] handling diagnostics",o);let s=this.snapshotter.getLatestSnapshot(),c=o.params.diagnostics,{lens:d,version:p}=s,h=new Map;for(let x of c)for(let w of d.cellIds)if(d.isInRange(x.range,w)){h.has(w)||h.set(w,[]);let S={...x,range:d.reverseRange(x.range,w)};h.get(w).push(S);break}let b=new Set(Vi.SEEN_CELL_DOCUMENT_URIS);for(let[x,w]of h.entries()){Ae.debug("[lsp] diagnostics for cell",x,w);let S=Xn.of(x);b.delete(S),n({...o,params:{...o.params,uri:S,version:p,diagnostics:w}})}if(b.size>0){Ae.debug("[lsp] clearing diagnostics",b);for(let x of b)n({method:"textDocument/publishDiagnostics",params:{uri:x,diagnostics:[]}})}return}return n(o)};this.client.processNotification=i}},De(Vi,"SEEN_CELL_DOCUMENT_URIS",new Set),Vi),Kk=dn(Fl());function Pd(e){let n=new Kk.WebSocketTransport(CT().getLSPURL(e).toString()),i=n.connect.bind(n);return n.connect=async()=>(await u4(),i()),n}jm=function(e){return e===ii.CONNECTING},Hu=function(e){return e===ii.OPEN},mw=function(e){return e===ii.CLOSED||e===ii.CLOSING||e===ii.CONNECTING},cw=function(e){switch(e){case ii.CLOSED:return"App disconnected";case ii.CONNECTING:return"Connecting to a runtime ...";case ii.CLOSING:return"App disconnecting...";case ii.OPEN:return"";default:return""}};var hg=ma.define(),gg=new gu,Ld="marimo-connecting-indicator";function Qk(){let e=document.getElementById(Ld);return e||(e=document.createElement("div"),e.id=Ld,e.textContent="Connecting\u2026",e.style.position="fixed",e.style.zIndex="9999",e.style.background="#222",e.style.color="#fff",e.style.padding="2px 8px",e.style.borderRadius="6px",e.style.fontSize="0.9em",e.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",e.style.pointerEvents="none",e.style.display="none",document.body.append(e)),e}function yg(e,n){let i=Qk();i.style.left=`${e}px`,i.style.top=`${n}px`,i.style.display="block",i.textContent="Connecting\u2026"}function Md(){let e=document.getElementById(Ld);e&&(e.style.display="none")}var Nd=null;Cw=function(e){let n=()=>e.get(Dl).state,i=!Hu(n()),o=ao.define(s=>{let c=!1,d=s.dom;function p(){let S=s.state.selection.main,E=s.coordsAtPos(S.head);E?yg(E.left+2,E.bottom+2):yg(window.innerWidth/2,window.innerHeight*.1),Nd&&window.clearTimeout(Nd),Nd=window.setTimeout(Md,1500)}function h(){p()}function b(){c||(c=(d.addEventListener("keydown",h,{capture:!0}),d.addEventListener("paste",h,{capture:!0}),!0))}function x(){c&&(c=(d.removeEventListener("keydown",h,{capture:!0}),d.removeEventListener("paste",h,{capture:!0}),!1))}let w=e.sub(Dl,()=>{e.get(Dl).state===ii.CONNECTING?b():(x(),Md())});return jm(n())&&b(),{destroy(){x(),w(),Md()}}});return[gg.of(hu.readOnly.of(i)),hu.transactionExtender.of(s=>{for(let c of s.effects)if(c.is(hg)){let d=c.value;if(d!==i)return i=d,{effects:gg.reconfigure(hu.readOnly.of(d))}}return null}),ao.define(s=>{let c=e.sub(Dl,()=>{let d=!Hu(e.get(Dl).state);s.dispatch({effects:hg.of(d)})});return{destroy(){c()}}}),o]};function Gk(e){return e.facet(hu.readOnly)}function Jk(e){return[Xb(e),io.of([{key:"ArrowRight",preventDefault:!0,run:n=>vg(n,e)},{key:"Tab",preventDefault:!0,run:n=>vg(n,e)}])]}function vg(e,n){if(Gk(e.state))return!1;let i=e.state.doc.length;return i===0?(e.dispatch({changes:{from:0,to:i,insert:n},selection:{head:n.length,anchor:n.length}}),!0):!1}function Xk(e){let{beforeText:n,linkText:i,afterText:o,onClick:s}=e;return[Xb(c=>{let d=document.createElement("span");d.append(document.createTextNode(n));let p=document.createElement("span");return p.textContent=i,p.classList.add("cm-clickable-placeholder"),p.onclick=h=>{h.stopPropagation(),s(c)},d.append(p),d.append(document.createTextNode(o)),d}),Zt.theme({".cm-placeholder":{color:"var(--slate-8)"},".cm-clickable-placeholder":{cursor:"pointer !important",pointerEvents:"auto",color:"var(--slate-9)",textDecoration:"underline",textUnderlineOffset:"0.2em"},".cm-clickable-placeholder:hover":{color:"var(--sky-11)"}})]}var Yk=ri(e=>{let n={transport:Pd("pylsp"),rootUri:Rd(),workspaceFolders:[]},i=e==null?void 0:e.pylsp,o=["D100","D103"],s=["W292","E402"],c=["B018","I001"],d={pylsp:{plugins:{marimo_plugin:{enabled:!0},jedi:{auto_import_modules:["numpy"]},jedi_completion:{include_params:!0,resolve_at_most:50},flake8:{enabled:i==null?void 0:i.enable_flake8,extendIgnore:s},pydocstyle:{enabled:i==null?void 0:i.enable_pydocstyle,ignore:o},pylint:{enabled:i==null?void 0:i.enable_pylint},pyflakes:{enabled:i==null?void 0:i.enable_pyflakes},pylsp_mypy:{enabled:i==null?void 0:i.enable_mypy,live_mode:!0},ruff:{enabled:i==null?void 0:i.enable_ruff,extendIgnore:[...s,...o,...c]},signature:{formatter:i!=null&&i.enable_ruff?"ruff":"black",line_length:88}}}};return new Od(new ql({...n}),d)}),Zk=ri(e=>new Od(new ql({transport:Pd("ty"),rootUri:Rd(),workspaceFolders:[],getWorkspaceConfiguration:n=>[{disableLanguageServices:!0}]}),{})),eC=ri(e=>new Od(new ql({transport:Pd("basedpyright"),rootUri:Rd(),workspaceFolders:[]}),{})),tC=class{constructor(){De(this,"type","python");De(this,"defaultCode","");De(this,"defaultMetadata",{})}transformIn(e){return[e,0,{}]}transformOut(e,n){return[e,0]}isSupported(e){return!0}getExtension(e,n,i,o,s){return[(()=>{var h,b,x,w;let c={defaultKeymap:!1,activateOnTyping:n.activate_on_typing,closeOnBlur:!1},d={hideOnChange:!0},p=[];if((h=s==null?void 0:s.pylsp)!=null&&h.enabled&&Vl("pylsp")&&p.push(Yk(s)),(b=s==null?void 0:s.ty)!=null&&b.enabled&&Vl("ty")&&p.push(Zk(s)),(x=s==null?void 0:s.basedpyright)!=null&&x.enabled&&Vl("basedpyright")&&p.push(eC(s)),p.length>0){let S=p.length===1?p[0]:new Ik(p);return[Fm({client:S,languageId:"python",allowHTMLContent:!0,useSnippetOnCompletion:!1,hoverConfig:d,completionConfig:c,diagnosticsEnabled:((w=s.diagnostics)==null?void 0:w.enabled)??!1,sendIncrementalChanges:!1,signatureHelpEnabled:!0,signatureActivateOnTyping:!1,keyboardShortcuts:{signatureHelp:i.getHotkey("cell.signatureHelp").key,goToDefinition:i.getHotkey("cell.goToDefinition").key,rename:i.getHotkey("cell.renameSymbol").key},completionMatchBefore:/(\w+|\w+\.|\(|\/|,)$/,onGoToDefinition:E=>{Ae.debug("onGoToDefinition",E),S.documentUri!==E.uri&&Li().openFile({path:E.uri.replace("file://","")})}}),cg.of(Xn.of(e))]}return bu({...c,override:[e0]})})(),Am(),nC(o)]}};function nC(e){return e==="marimo-import"?yu.highest(Jk("import marimo as mo")):e==="ai"?Xk({beforeText:"Start coding or ",linkText:"generate",afterText:" with AI.",onClick:n=>{n.state.facet(Dt).aiCellCompletion()}}):[]}var Id=Gp.configure({props:[RT.add({ParenthesizedExpression:Ub,ArgList:Ub})]});Am=function(){return new Jb(Id,[Id.data.of({autocomplete:o4}),Id.data.of({autocomplete:s4})])};const rC=e=>{let n;return async()=>(n||(n=e()),await n)};var Xl=class{constructor(e={}){De(this,"opts");De(this,"parser",null);De(this,"offsetRecord",{});De(this,"getParser",rC(async()=>{if(this.parser)return this.parser;let e=await le(()=>import("./node-sql-parser-C3OW8Cbe.js").then(async i=>(await i.__tla,i)).then(rT()),__vite__mapDeps([213,1]),import.meta.url),{Parser:n}=e.default||e;return this.parser=new n,this.parser}));this.opts=e}async parse(e,n){var s,c;this.offsetRecord={};let i=(c=(s=this.opts).getParserOptions)==null?void 0:c.call(s,n.state),o=await this.sanitizeSql(e,i);try{let d=await this.getParser();return(i==null?void 0:i.database)==="DuckDB"?this.parseWithDuckDBSupport(o,i):{success:!0,errors:[],ast:d.astify(o,i)}}catch(d){return{success:!1,errors:[this.extractErrorInfo(d,o)]}}}async sanitizeSql(e,n){if(n!=null&&n.ignoreBrackets){let{sql:i,offsetRecord:o}=oC(e);return this.offsetRecord=o,i}return e}async parseWithDuckDBSupport(e,n){let i=await this.getParser(),o=iC(e).trimStart().toLowerCase();if(o.startsWith("from")||o.includes("macro"))return{success:!0,errors:[]};let s=e;o.includes("create or replace table")&&(this.offsetRecord[e.indexOf("create or replace table")]=-11,s=e.replace(/create or replace table/i,"create table"));try{let c={...n,database:"PostgreSQL"};return{success:!0,errors:[],ast:i.astify(s,c)}}catch(c){return{success:!1,errors:[this.extractErrorInfo(c,e)]}}}extractErrorInfo(e,n){var d,p,h;let i=1,o=1,s=(e==null?void 0:e.message)||"SQL parsing error",c=e;if(c!=null&&c.location)i=((d=c.location.start)==null?void 0:d.line)||1,o=((p=c.location.start)==null?void 0:p.column)||1;else if(c!=null&&c.hash)i=c.hash.line||1,o=((h=c.hash.loc)==null?void 0:h.first_column)||1;else{let b=s.match(/line (\d+)/i),x=s.match(/column (\d+)/i);b!=null&&b[1]&&(i=parseInt(b[1],10)),x!=null&&x[1]&&(o=parseInt(x[1],10))}for(let[b,x]of Object.entries(this.offsetRecord))o>parseInt(b,10)&&(o-=x);return o>n.length&&(o=n.length),{message:this.cleanErrorMessage(s),line:Math.max(1,i),column:o,severity:"error"}}cleanErrorMessage(e){return e.replace(/^Error: /,"").replace(/Expected .* but .* found\./i,n=>n.replace(/but .* found/,"found unexpected token")).trim()}async validateSql(e,n){return(await this.parse(e,n)).errors}async extractTableReferences(e){try{return(await this.getParser()).tableList(e).map(n=>{let i=n.split("::");return i[i.length-1]||n})}catch{return[]}}async extractColumnReferences(e){try{return(await this.getParser()).columnList(e).map(n=>{let i=n.split("::");return i[i.length-1]||n})}catch{return[]}}};function iC(e,n=["/*","--"]){let i=[];if(n.includes("/*")&&i.push("/\\*[\\s\\S]*?\\*/"),n.includes("--")&&i.push("--[^\\n]*"),i.length===0)return e;let o=RegExp(`^\\s*(${i.join("|")})\\s*`,""),s=e,c="";for(;s!==c;)c=s,s=s.replace(o,"");return s}var aC=2;function oC(e){let n={};return{sql:e.replace(/("(?:[^"\\]|\\.)*")|('(?:[^'\\]|\\.)*')|(\{[^}]*\})/g,(i,o,s,c,d)=>o||s?i:c?(n[d]=aC,`'${c}'`):i),offsetRecord:n}}var sC=750;function lC(e,n){let i=n.line(e.line).from+Math.max(0,e.column-1);return{from:i,to:i+1,severity:e.severity,message:e.message,source:"sql-parser"}}function cC(e={}){let n=e.parser||new Xl;return HT(async i=>{let o=i.state.doc,s=o.toString();return s.trim()?(await n.validateSql(s,{state:i.state})).map(c=>lC(c,o)):[]},{delay:e.delay||sC})}function Ca(e){return typeof e=="object"&&!Array.isArray(e)&&!("self"in e)}function li(e){return typeof e=="object"&&!Array.isArray(e)&&"self"in e&&"children"in e}function Lr(e){return Array.isArray(e)}function Nn(e,n,i,o){let s=e.length;if(n==="string"||n==="completion"&&o&&Lr(o))return"column";if(n==="namespace"&&i){if(Lr(i))return"table";if(Ca(i))return Object.values(i).some(c=>Lr(c)||li(c)&&Lr(c.children))?s<=1?"database":"schema":s===0?"database":"namespace"}if(n==="completion"&&i)return Lr(i)?"table":(Ca(i)&&Object.values(i).some(c=>Lr(c)||li(c)&&Lr(c.children)),s<=1?"database":"schema");switch(s){case 0:return"database";case 1:return"schema";default:return"namespace"}}function bg(e,n,i={}){let{maxDepth:o=10}=i;if(n===""&&li(e)){let c=Nn([],"completion",e.children);return{completion:e.self,path:[],type:"completion",semanticType:c,namespace:e.children}}let s=n.split(".").filter(c=>c.length>0);return s.length===0||s.length>o?null:Ad(e,s,[],i)}function Ad(e,n,i,o,s){if(n.length===0){if(li(e)){let h=Nn(i,"completion",e.children,s);return{completion:e.self,path:i,type:"completion",semanticType:h,namespace:e.children}}return{path:i,type:"namespace",semanticType:Nn(i,"namespace",e,s),namespace:e}}let[c,...d]=n,{caseSensitive:p=!1}=o;if(!c)return null;if(Ca(e)){let h=p?Object.keys(e).find(b=>b===c):Object.keys(e).find(b=>b.toLowerCase()===c.toLowerCase());if(h){let b=e[h];if(b)return Ad(b,d,[...i,h],o,e)}}else{if(li(e))return Ad(e.children,n,i,o,e);if(Lr(e)){for(let h of e)if(typeof h=="string"){if((p?h===c:h.toLowerCase()===c.toLowerCase())&&d.length===0){let b=Nn([...i,h],"string",void 0,e);return{value:h,path:[...i,h],type:"string",semanticType:b}}}else if((p?h.label===c:h.label.toLowerCase()===c.toLowerCase())&&d.length===0){let b=Nn([...i,h.label],"completion",void 0,e);return{completion:h,path:[...i,h.label],type:"completion",semanticType:b}}}}return null}function uC(e,n,i={}){let o=[];if(n.includes(".")){let s=n.lastIndexOf("."),c=n.substring(0,s),d=n.substring(s+1),p=bg(e,c,i);if(p!=null&&p.namespace)return jd(p.namespace,d,p.path,i)}else return jd(e,n,[],i);return o}function jd(e,n,i,o){let s=[],{caseSensitive:c=!1,allowPartialMatch:d=!0}=o;if(Ca(e)){for(let[p,h]of Object.entries(e))if(d?c?p.startsWith(n):p.toLowerCase().startsWith(n.toLowerCase()):c?p===n:p.toLowerCase()===n.toLowerCase())if(li(h)){let b=Nn([...i,p],"completion",h.children,e);s.push({completion:h.self,path:[...i,p],type:"completion",semanticType:b,namespace:h.children})}else{let b=Nn([...i,p],"namespace",h,e);s.push({path:[...i,p],type:"namespace",semanticType:b,namespace:h})}}else if(li(e)){if(d?c?e.self.label.startsWith(n):e.self.label.toLowerCase().startsWith(n.toLowerCase()):c?e.self.label===n:e.self.label.toLowerCase()===n.toLowerCase()){let p=Nn([...i,e.self.label],"completion",e.children);s.push({completion:e.self,path:[...i,e.self.label],type:"completion",semanticType:p,namespace:e.children})}s.push(...jd(e.children,n,i,o))}else if(Lr(e)){for(let p of e)if(typeof p=="string"){if(d?c?p.startsWith(n):p.toLowerCase().startsWith(n.toLowerCase()):c?p===n:p.toLowerCase()===n.toLowerCase()){let h=Nn([...i,p],"string",void 0,e);s.push({value:p,path:[...i,p],type:"string",semanticType:h})}}else if(d?c?p.label.startsWith(n):p.label.toLowerCase().startsWith(n.toLowerCase()):c?p.label===n:p.label.toLowerCase()===n.toLowerCase()){let h=Nn([...i,p.label],"completion",void 0,e);s.push({completion:p,path:[...i,p.label],type:"completion",semanticType:h})}}return s}function dC(e,n,i={}){let o=[],{maxDepth:s=10}=i;Yl(e,[],o,s);let{caseSensitive:c=!1}=i;return o.filter(d=>d.path.some(p=>c?p===n:p.toLowerCase()===n.toLowerCase())).sort((d,p)=>{var x,w;let h=c?d.path[d.path.length-1]===n:((x=d.path[d.path.length-1])==null?void 0:x.toLowerCase())===n.toLowerCase(),b=c?p.path[p.path.length-1]===n:((w=p.path[p.path.length-1])==null?void 0:w.toLowerCase())===n.toLowerCase();return h&&!b?-1:!h&&b?1:d.path.length-p.path.length})}function Yl(e,n,i,o){if(!(n.length>=o)){if(Ca(e))for(let[s,c]of Object.entries(e)){let d=[...n,s];if(li(c)){let p=Nn(d,"completion",c.children,e);i.push({completion:c.self,path:d,type:"completion",semanticType:p,namespace:c.children}),Yl(c.children,d,i,o)}else{let p=Nn(d,"namespace",c,e);i.push({path:d,type:"namespace",semanticType:p,namespace:c}),Yl(c,d,i,o)}}else if(li(e)){let s=Nn(n,"completion",e.children);i.push({completion:e.self,path:n,type:"completion",semanticType:s,namespace:e.children}),Yl(e.children,n,i,o)}else if(Lr(e))for(let s of e)if(typeof s=="string"){let c=Nn([...n,s],"string",void 0,e);i.push({value:s,path:[...n,s],type:"string",semanticType:c})}else{let c=Nn([...n,s.label],"completion",void 0,e);i.push({completion:s,path:[...n,s.label],type:"completion",semanticType:c})}}}function wg(e,n,i={}){let{enableFuzzySearch:o=!1}=i,s=bg(e,n,i);if(s)return s;let c=uC(e,n,i);if(c.length>0)return c[0]||null;if(o){let d=dC(e,n,i);if(d.length>0)return d[0]||null}return null}function _g(e,n){if(n.size===0)return{};if(Ca(e)){let i={};for(let[o,s]of Object.entries(e))if(Array.from(n).some(c=>c.toLowerCase()===o.toLowerCase()))i[o]=s;else if(Ca(s)){let c=_g(s,n);Object.keys(c).length>0&&(i[o]=c)}return i}return e}function fC(e={}){let{schema:n={},keywords:i={},hoverTime:o=300,enableKeywords:s=!0,enableTables:c=!0,enableColumns:d=!0,enableFuzzySearch:p=!0,parser:h=new Xl,tooltipRender:b,tooltipRenderers:x={}}=e,w=null;return Wp(async(S,E,D)=>{let{from:M,to:F,text:J}=S.state.doc.lineAt(E),K=E,V=E;w===null&&(w=typeof i=="function"?i(S):Promise.resolve(i));let ce=await w;for(;K>M&&/[\w.]/.test(J[K-M-1]??"");)K--;for(;V<F&&/[\w.]/.test(J[V-M]??"");)V++;if(K===E&&D<0||V===E&&D>0)return null;let he=J.slice(K-M,V-M).toLowerCase();if(!he||he.length===0)return null;let B=typeof n=="function"?n(S):n,W=null;if(`${he}`,!W&&s&&ce[he]&&(ce[he],W={word:he,view:S,pos:E,tooltipType:"keyword",keywordData:{keyword:he,info:ce[he]}}),!W&&(c||d)&&B){let ue=S.state.doc.toString(),be=await h.extractTableReferences(ue),ye=new Set(be.map(_e=>_e.toLowerCase())),xe=_g(B,ye),X=wg(xe,he,{enableFuzzySearch:p});!X&&ye.size===0&&(X=wg(B,he,{enableFuzzySearch:p})),X&&(Array.from(ye),W={word:he,view:S,pos:E,tooltipType:"namespace",namespaceData:{item:X,word:he,resolvedSchema:ye.size>0?xe:B}})}return W?{pos:K,end:V,above:!0,create(ue){if(b){let xe=b(he,ue,E);if(xe)return{dom:xe}}let be=null;if(W.tooltipType==="keyword"&&W.keywordData)be=x.keyword?x.keyword(W.keywordData):kg(W.keywordData);else if(W.tooltipType==="namespace"&&W.namespaceData){let xe=W.namespaceData,{semanticType:X}=xe.item;be=X==="table"&&x.table?x.table(xe):X==="column"&&x.column?x.column(xe):(X==="database"||X==="schema"||X==="namespace")&&x.namespace?x.namespace(xe):xg(xe.item)}if(!be)return{dom:document.createElement("div")};let ye=document.createElement("div");return ye.className="cm-sql-hover-tooltip",ye.innerHTML=be,{dom:ye}}}:null},{hoverTime:o})}function xg(e){var s,c,d,p,h,b,x;let n=e.path.join("."),i=((s=e.completion)==null?void 0:s.label)||e.value||e.path[e.path.length-1]||"unknown",o=`<div class="sql-hover-${e.semanticType}">`;switch(o+=`<div class="sql-hover-header"><strong>${i}</strong> <span class="sql-hover-type">${e.semanticType}</span></div>`,e.semanticType){case"database":if(o+=`<div class="sql-hover-description">Database${(c=e.completion)!=null&&c.detail?`: ${e.completion.detail}`:""}</div>`,e.namespace){let w=Zl(e.namespace);w>0&&(o+=`<div class="sql-hover-children">Contains ${w} schema${w===1?"":"s"}</div>`)}break;case"schema":if(o+=`<div class="sql-hover-description">Schema${(d=e.completion)!=null&&d.detail?`: ${e.completion.detail}`:""}</div>`,n&&(o+=`<div class="sql-hover-path"><strong>Path:</strong> <code>${n}</code></div>`),e.namespace){let w=Zl(e.namespace);w>0&&(o+=`<div class="sql-hover-children">Contains ${w} table${w===1?"":"s"}</div>`)}break;case"table":if(o+=`<div class="sql-hover-description">Table${(p=e.completion)!=null&&p.detail?`: ${e.completion.detail}`:""}</div>`,n){let w=e.path;w.length>1&&(o+=`<div class="sql-hover-path"><strong>Schema:</strong> <code>${w.slice(0,-1).join(".")}</code></div>`)}if(e.namespace&&Lr(e.namespace)){let w=e.namespace;if(w.length>0){o+=`<div class="sql-hover-columns"><strong>Columns (${w.length}):</strong><br>`;let S=w.slice(0,8).map(E=>typeof E=="string"?E:E.label);o+=S.map(E=>`<code>${E}</code>`).join(", "),w.length>8&&(o+=`, <em>and ${w.length-8} more...</em>`),o+="</div>"}}break;case"column":if(o+=`<div class="sql-hover-description">Column${(h=e.completion)!=null&&h.detail?`: ${e.completion.detail}`:""}</div>`,n){let w=e.path;w.length>1&&(o+=`<div class="sql-hover-path"><strong>Table:</strong> <code>${w.slice(0,-1).join(".")}</code></div>`)}break;default:if(o+=`<div class="sql-hover-description">Namespace${(b=e.completion)!=null&&b.detail?`: ${e.completion.detail}`:""}</div>`,n&&(o+=`<div class="sql-hover-path"><strong>Path:</strong> <code>${n}</code></div>`),e.namespace){let w=Zl(e.namespace);w>0&&(o+=`<div class="sql-hover-children">Contains ${w} item${w===1?"":"s"}</div>`)}break}return(x=e.completion)!=null&&x.info&&typeof e.completion.info=="string"&&(o+=`<div class="sql-hover-info">${e.completion.info}</div>`),o+="</div>",o}function Zl(e){return Array.isArray(e)?e.length:typeof e=="object"&&e?"self"in e&&"children"in e?1+Zl(e.children):Object.keys(e).length:0}function kg(e){let{keyword:n,info:i}=e,o='<div class="sql-hover-keyword">';if(o+=`<div class="sql-hover-header"><strong>${n.toUpperCase()}</strong> <span class="sql-hover-type">keyword</span></div>`,o+=`<div class="sql-hover-description">${i.description}</div>`,i.syntax&&(o+=`<div class="sql-hover-syntax"><strong>Syntax:</strong> <code>${i.syntax}</code></div>`),i.example&&(o+=`<div class="sql-hover-example"><strong>Example:</strong><br><code>${i.example}</code></div>`),i.metadata&&typeof i.metadata=="object"&&Object.keys(i.metadata).length>0){o+='<div class="sql-hover-metadata">';for(let[s,c]of Object.entries(i.metadata))o+=`<span class="sql-hover-tag" title="${s}">${c}</span> `;o+="</div>"}return o+="</div>",o}function pC(e){let{tableName:n,columns:i,metadata:o}=e,s='<div class="sql-hover-table">';if(s+=`<div class="sql-hover-header"><strong>${n}</strong> <span class="sql-hover-type">table</span></div>`,s+=`<div class="sql-hover-description">Table with ${i.length} column${i.length===1?"":"s"}</div>`,i.length>0){s+='<div class="sql-hover-columns"><strong>Columns:</strong><br>';let c=i.slice(0,10);s+=c.map(d=>`<code>${d}</code>`).join(", "),i.length>10&&(s+=`, <em>and ${i.length-10} more...</em>`),s+="</div>"}if(o&&typeof o=="object"&&Object.keys(o).length>0){s+='<div class="sql-hover-metadata">';for(let[c,d]of Object.entries(o))s+=`<span class="sql-hover-tag" title="${c}">${d}</span> `;s+="</div>"}return s+="</div>",s}function mC(e){let{tableName:n,columnName:i,schema:o,metadata:s}=e,c='<div class="sql-hover-column">';c+=`<div class="sql-hover-header"><strong>${i}</strong> <span class="sql-hover-type">column</span></div>`,c+=`<div class="sql-hover-description">Column in table <code>${n}</code></div>`;let d=o[n];if(d&&d.length>1){let p=d.filter(h=>h!==i);if(p.length>0){c+=`<div class="sql-hover-related"><strong>Other columns in ${n}:</strong><br>`;let h=p.slice(0,8);c+=h.map(b=>`<code>${b}</code>`).join(", "),p.length>8&&(c+=`, <em>and ${p.length-8} more...</em>`),c+="</div>"}}if(s&&typeof s=="object"&&Object.keys(s).length>0){c+='<div class="sql-hover-metadata">';for(let[p,h]of Object.entries(s))c+=`<span class="sql-hover-tag" title="${p}">${h}</span> `;c+="</div>"}return c+="</div>",c}const hC={keyword:kg,table:pC,column:mC,namespace:xg},Cg=(e="light")=>{let n=e==="dark"?{tooltipBg:"#1f2937",tooltipBorder:"#374151",tooltipText:"#f9fafb",tooltipTypeBg:"#374151",tooltipTypeText:"#9ca3af",tooltipChildren:"#9ca3af",codeBg:"#374151",codeText:"#f3f4f6",strong:"#ffffff",em:"#9ca3af",header:"#ffffff",info:"#d1d5db",related:"#d1d5db",path:"#d1d5db",example:"#d1d5db",columns:"#d1d5db",syntax:"#d1d5db"}:{tooltipBg:"#ffffff",tooltipBorder:"#e5e7eb",tooltipText:"#374151",tooltipTypeBg:"#f3f4f6",tooltipTypeText:"#6b7280",tooltipChildren:"#6b7280",codeBg:"#f9fafb",codeText:"#1f2937",strong:"#111827",em:"#6b7280",header:"#111827",info:"#374151",related:"#374151",path:"#374151",example:"#374151",columns:"#374151",syntax:"#374151"};return Zt.theme({".cm-sql-hover-tooltip":{padding:"8px 12px",backgroundColor:n.tooltipBg,border:`1px solid ${n.tooltipBorder}`,borderRadius:"6px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",fontSize:"13px",lineHeight:"1.4",maxWidth:"320px",fontFamily:"system-ui, -apple-system, sans-serif",color:n.tooltipText},".cm-sql-hover-tooltip .sql-hover-header":{marginBottom:"6px",display:"flex",alignItems:"center",gap:"6px",color:n.header},".cm-sql-hover-tooltip .sql-hover-type":{fontSize:"11px",padding:"2px 6px",backgroundColor:n.tooltipTypeBg,color:n.tooltipTypeText,borderRadius:"4px",fontWeight:"500"},".cm-sql-hover-tooltip .sql-hover-description":{color:n.info,marginBottom:"8px"},".cm-sql-hover-tooltip .sql-hover-syntax":{marginBottom:"8px",color:n.syntax},".cm-sql-hover-tooltip .sql-hover-example":{marginBottom:"4px",color:n.example},".cm-sql-hover-tooltip .sql-hover-columns":{marginBottom:"4px",color:n.columns},".cm-sql-hover-tooltip .sql-hover-related":{marginBottom:"4px",color:n.related},".cm-sql-hover-tooltip .sql-hover-path":{marginBottom:"4px",color:n.path},".cm-sql-hover-tooltip .sql-hover-info":{marginBottom:"4px",color:n.info},".cm-sql-hover-tooltip .sql-hover-children":{marginBottom:"4px",color:n.tooltipChildren,fontSize:"12px"},".cm-sql-hover-tooltip code":{backgroundColor:n.codeBg,padding:"1px 4px",borderRadius:"3px",fontSize:"12px",fontFamily:"ui-monospace, 'SF Mono', 'Monaco', 'Cascadia Code', 'Roboto Mono', monospace",color:n.codeText},".cm-sql-hover-tooltip strong":{fontWeight:"600",color:n.strong},".cm-sql-hover-tooltip em":{fontStyle:"italic",color:n.em}})};var gC=class{constructor(e){De(this,"parser");De(this,"cache",new Map);De(this,"MAX_CACHE_SIZE",10);this.parser=e}async analyzeDocument(e){let n=e.doc.toString(),i=this.generateCacheKey(n),o=this.cache.get(i);if(o)return o;let s=await this.extractStatements(n,e);if(this.cache.set(i,s),this.cache.size>this.MAX_CACHE_SIZE){let c=this.cache.keys().next().value;c!==void 0&&this.cache.delete(c)}return s}async getStatementAtPosition(e,n){return(await this.analyzeDocument(e)).find(i=>n>=i.from&&n<=i.to)||null}async getStatementsInRange(e,n,i){return(await this.analyzeDocument(e)).filter(o=>o.from<=i&&o.to>=n)}async extractStatements(e,n){let i=[],o=this.splitByStatementSeparators(e),s=0;for(let c of o){let d=c.trim();if(d.length===0){s+=c.length;continue}let p=s+c.indexOf(d),h=p+d.length,b=n.doc.lineAt(p),x=n.doc.lineAt(h),w=this.stripComments(d);if(w.trim().length===0||w.trim()===";"){s+=c.length;continue}let S=await this.parser.parse(w,{state:n}),E=this.determineStatementType(w),D=w.endsWith(";")?w.slice(0,-1).trim():w.trim();i.push({from:p,to:h,lineFrom:b.number,lineTo:x.number,content:D,type:E,isValid:S.success}),s+=c.length}return i}splitByStatementSeparators(e){let n=[],i="",o=!1,s="",c=!1,d=!1,p=0;for(;p<e.length;){let h=e[p],b=e[p+1];if(!o&&!d&&h==="-"&&b==="-"){c=!0,i+=h+b,p+=2;continue}if(!o&&!c&&h==="/"&&b==="*"){d=!0,i+=h+b,p+=2;continue}if(d&&h==="*"&&b==="/"){d=!1,i+=h+b,p+=2;continue}if(c&&(h===`
`||h==="\r")){c=!1,i+=h,p++;continue}if(c||d){i+=h,p++;continue}if(!o&&(h==="'"||h==='"'||h==="`"))o=!0,s=h,i+=h;else if(o&&h===s){if(b===s){i+=h+b,p+=2;continue}o=!1,s="",i+=h}else!o&&h===";"?(i+=h,n.push(i),i=""):i+=h;p++}return i.trim()&&n.push(i),n}determineStatementType(e){let n=e.trim().toLowerCase();return n.startsWith("select")?"select":n.startsWith("insert")?"insert":n.startsWith("update")?"update":n.startsWith("delete")?"delete":n.startsWith("create")?"create":n.startsWith("drop")?"drop":n.startsWith("alter")?"alter":n.startsWith("use")?"use":"other"}stripComments(e){let n="",i=!1,o="",s=!1,c=!1,d=0;for(;d<e.length;){let p=e[d],h=e[d+1];if(!i&&!c&&p==="-"&&h==="-"){s=!0,d+=2;continue}if(!i&&!s&&p==="/"&&h==="*"){c=!0,d+=2;continue}if(c&&p==="*"&&h==="/"){c=!1,d+=2;continue}if(s&&(p===`
`||p==="\r")){s=!1,n+=p,d++;continue}if(s||c){d++;continue}if(!i&&(p==="'"||p==='"'||p==="`"))i=!0,o=p,n+=p;else if(i&&p===o){if(h===o){n+=p+h,d+=2;continue}i=!1,o="",n+=p}else n+=p;d++}return n}generateCacheKey(e){let n=0;for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);n=(n<<5)-n+o,n&=n}return n.toString()}clearCache(){this.cache.clear()}},Sg=ma.define(),Eg=El.define({create(){return{currentStatement:null,allStatements:[],cursorPosition:0,isFocused:!0}},update(e,n){for(let i of n.effects)if(i.is(Sg))return i.value;return e}}),yC=class extends IT{constructor(n,i,o=!0,s=!0){super();De(this,"config");De(this,"isCurrent");De(this,"isValid");De(this,"isFocused");this.config=n,this.isCurrent=i,this.isValid=o,this.isFocused=s}toDOM(){let n=document.createElement("div");n.className="cm-sql-gutter-marker";let i=this.config.backgroundColor||"#3b82f6";!this.isValid&&this.config.showInvalid!==!1&&(i=this.config.errorBackgroundColor||"#ef4444");let o;return o=this.isFocused?this.isCurrent?"1":(this.config.inactiveOpacity||"0.3").toString():this.config.unfocusedOpacity===void 0?this.config.hideWhenNotFocused?"0":this.isCurrent?"1":(this.config.inactiveOpacity||"0.3").toString():this.config.unfocusedOpacity.toString(),n.style.cssText=`
      background: ${i};
      height: 100%;
      width: 100%;
      opacity: ${o};
      transition: opacity 150ms ease-in-out;
      border-radius: 1px;
    `,n}eq(n){return this.isCurrent===n.isCurrent&&this.isValid===n.isValid&&this.isFocused===n.isFocused&&this.config===n.config}};function vC(e,n){var p;let i=AT.empty;if((p=n.whenHide)!=null&&p.call(n,e))return i;let o=e.state.field(Eg,!1);if(!o)return i;let{currentStatement:s,allStatements:c,isFocused:d}=o;try{for(let h of c){let b=(s==null?void 0:s.from)===h.from&&(s==null?void 0:s.to)===h.to;if(!h.isValid&&n.showInvalid===!1)continue;let x=new yC(n,b,h.isValid,d);for(let w=h.lineFrom;w<=h.lineTo;w++)try{if(w<1||w>e.state.doc.lines)continue;let S=e.state.doc.line(w);i=i.update({add:[x.range(S.from)]})}catch(S){console.warn("SqlGutter: Invalid line number",w,S)}}}catch(h){console.warn("SqlGutter: Error creating markers",h)}return i}function bC(e){return Zt.updateListener.of(async n=>{if(!n.docChanged&&!n.selectionSet&&!n.focusChanged)return;let{state:i}=n.view,{main:o}=i.selection,s=o.head,c=await e.analyzeDocument(i),d={currentStatement:await e.getStatementAtPosition(i,s),allStatements:c,cursorPosition:s,isFocused:n.view.hasFocus};n.view.dispatch({effects:Sg.of(d)})})}function wC(e){let n=e.width||3;return Zt.baseTheme({".cm-sql-gutter":{width:`${n}px`,minWidth:`${n}px`},".cm-sql-gutter .cm-gutterElement":{width:`${n}px`,padding:"0",margin:"0"},".cm-sql-gutter-marker":{width:"100%",height:"100%",display:"block"},".cm-lineNumbers .cm-gutterElement":{paddingLeft:"8px",paddingRight:"8px"}})}function _C(e){return PT({class:`cm-sql-gutter ${e.className||""}`,markers:n=>vC(n,e)})}function xC(e={}){return[Eg,bC(new gC(e.parser||new Xl)),wC(e),_C(e)]}function kC(e={}){let n=[],{enableLinting:i=!0,enableGutterMarkers:o=!0,enableHover:s=!0,linterConfig:c,gutterConfig:d,hoverConfig:p}=e;return i&&n.push(cC(c)),o&&n.push(xC(d)),s&&(n.push(fC(p)),p!=null&&p.theme?n.push(p.theme):n.push(Cg())),n}var CC={...u2,caseInsensitiveIdentifiers:!0,identifierQuotes:"`"};let Tg,qd;Tg=Yp.define(CC),qd=Yp.define({charSetCasts:!0,doubleQuotedStrings:!1,unquotedBitLiterals:!0,hashComments:!1,spaceAfterDashes:!1,specialVar:"@?",identifierQuotes:'"',caseInsensitiveIdentifiers:!0,keywords:"percentile_cont row_number rank dense_rank rank_dense percent_rank cume_dist ntile lag lead first_value last_value nth_value !__postfix !~~ !~~* % & && * ** + - ->> / // <-> << <=> <@ >> @ @> Calendar JSON TimeZone ^ ^@ abort abs absolute access access_mode acos acosh action add add_parquet_key admin after age aggregate alias all all_profiling_output allow_community_extensions allow_extensions_metadata_mismatch allow_persistent_secrets allow_unredacted_secrets allow_unsigned_extensions allowed_directories allowed_paths also alter always analyse analyze and anti any any_value apply approx_count_distinct approx_quantile approx_top_k arbitrary arg_max arg_max_null arg_min arg_min_null argmax argmin array array_agg array_aggr array_aggregate array_append array_apply array_cat array_concat array_contains array_cosine_distance array_cosine_similarity array_cross_product array_distance array_distinct array_dot_product array_extract array_filter array_grade_up array_has array_has_all array_has_any array_indexof array_inner_product array_intersect array_length array_negative_dot_product array_negative_inner_product array_pop_back array_pop_front array_position array_prepend array_push_back array_push_front array_reduce array_resize array_reverse array_reverse_sort array_select array_slice array_sort array_to_json array_to_string array_to_string_comma_default array_transform array_unique array_value array_where array_zip arrow_large_buffer_size arrow_lossless_conversion arrow_output_list_view arrow_output_version arrow_scan arrow_scan_dumb as asc ascii asin asinh asof asof_loop_join_threshold assertion assignment asymmetric at atan atan2 atanh attach attribute authorization autoinstall_extension_repository autoinstall_known_extensions autoload_known_extensions avg backward bar base64 before begin between bigint bin binary binary_as_string bit bit_and bit_count bit_length bit_or bit_position bit_xor bitstring bitstring_agg blob bool bool_and bool_or boolean both bpchar by bytea cache call called can_cast_implicitly cardinality cascade cascaded case cast cast_to_type catalog catalog_error_max_schemas cbrt ceil ceiling centuries century chain char char_length character character_length characteristics check checkpoint checkpoint_threshold chr class close cluster coalesce col_description collate collation collations column columns combine comment comments commit committed compression concat concat_ws concurrently configuration conflict connection constant_or_null constraint constraints contains content continue conversion copy copy_database corr cos cosh cost cot count count_if count_star countif covar_pop covar_samp create create_sort_key cross csv cube current current_catalog current_connection_id current_database current_date current_localtime current_localtimestamp current_query current_query_id current_role current_schema current_schemas current_setting current_transaction_id current_user currval cursor custom_extension_repository custom_profiling_settings custom_user_agent cycle damerau_levenshtein data database database_list database_size date date_add date_diff date_part date_sub date_trunc datediff datepart datesub datetime datetrunc day dayname dayofmonth dayofweek dayofyear days deallocate debug_asof_iejoin debug_checkpoint_abort debug_force_external debug_force_no_cross_product debug_skip_checkpoint_on_commit debug_verify_vector debug_window_mode dec decade decades decimal declare decode default default_block_size default_collation default_null_order default_order default_secret_storage defaults deferrable deferred definer degrees delete delimiter delimiters depends desc describe detach dictionary disable disable_checkpoint_on_shutdown disable_logging disable_object_cache disable_optimizer disable_parquet_prefetching disable_print_progress_bar disable_profile disable_profiling disable_progress_bar disable_timestamptz_casts disable_verification disable_verify_external disable_verify_fetch_row disable_verify_parallelism disable_verify_serializer disabled_compression_methods disabled_filesystems disabled_log_types disabled_optimizers discard distinct divide do document domain double drop duckdb_api duckdb_columns duckdb_constraints duckdb_databases duckdb_dependencies duckdb_extensions duckdb_external_file_cache duckdb_functions duckdb_indexes duckdb_keywords duckdb_log_contexts duckdb_logs duckdb_logs_parsed duckdb_memory duckdb_optimizers duckdb_prepared_statements duckdb_schemas duckdb_secret_types duckdb_secrets duckdb_sequences duckdb_settings duckdb_table_sample duckdb_tables duckdb_temporary_files duckdb_types duckdb_variables duckdb_views dynamic_or_filter_threshold each editdist3 element_at else enable enable_checkpoint_on_shutdown enable_external_access enable_external_file_cache enable_fsst_vectors enable_geoparquet_conversion enable_http_logging enable_http_metadata_cache enable_logging enable_macro_dependencies enable_object_cache enable_optimizer enable_print_progress_bar enable_profile enable_profiling enable_progress_bar enable_progress_bar_print enable_verification enable_view_dependencies enabled_log_types encode encoding encrypted end ends_with entropy enum enum_code enum_first enum_last enum_range enum_range_boundary epoch epoch_ms epoch_ns epoch_us equi_width_bins era error errors_as_json escape even event except exclude excluding exclusive execute exists exp explain explain_output export export_state extension extension_directory extension_versions extensions external external_threads extract factorial false family favg fdiv fetch file_search_path filter finalize first flatten float float4 float8 floor fmod following for force force_bitpacking_mode force_checkpoint force_compression foreign format formatReadableDecimalSize formatReadableSize format_bytes format_pg_type format_type forward freeze from from_base64 from_binary from_hex from_json from_json_strict fsum full function functions gamma gcd gen_random_uuid generate_series generate_subscripts generated geomean geometric_mean get_bit get_block_size get_current_time get_current_timestamp getvariable glob global grade_up grant granted greatest greatest_common_divisor group group_concat grouping grouping_id groups guid hamming handler having header hex histogram histogram_exact histogram_values hold home_directory hour hours http_logging_output http_proxy http_proxy_password http_proxy_username hugeint identity ieee_floating_point_ops if ignore ilike ilike_escape immediate immediate_transaction_mode immutable implicit import import_database in in_search_path include including increment index index_scan_max_count index_scan_percentage indexes inet_client_addr inet_client_port inet_server_addr inet_server_port inherit inherits initially inline inner inout input insensitive insert install instead instr int int1 int128 int16 int2 int32 int4 int64 int8 integer integer_division integral intersect interval into invoker is is_histogram_other_bin isfinite isinf isnan isnull isodow isolation isoyear jaccard jaro_similarity jaro_winkler_similarity join json json_array json_array_length json_contains json_deserialize_sql json_each json_execute_serialized_sql json_exists json_extract json_extract_path json_extract_path_text json_extract_string json_group_array json_group_object json_group_structure json_keys json_merge_patch json_object json_pretty json_quote json_serialize_plan json_serialize_sql json_structure json_transform json_transform_strict json_tree json_type json_valid json_value julian kahan_sum key kurtosis kurtosis_pop label lambda lambda_syntax language large last last_day late_materialization_max_rows lateral lcase lcm leading leakproof least least_common_multiple left left_grapheme len length length_grapheme level levenshtein lgamma like like_escape limit list list_aggr list_aggregate list_any_value list_append list_apply list_approx_count_distinct list_avg list_bit_and list_bit_or list_bit_xor list_bool_and list_bool_or list_cat list_concat list_contains list_cosine_distance list_cosine_similarity list_count list_distance list_distinct list_dot_product list_element list_entropy list_extract list_filter list_first list_grade_up list_has list_has_all list_has_any list_histogram list_indexof list_inner_product list_intersect list_kurtosis list_kurtosis_pop list_last list_mad list_max list_median list_min list_mode list_negative_dot_product list_negative_inner_product list_pack list_position list_prepend list_product list_reduce list_resize list_reverse list_reverse_sort list_select list_sem list_skewness list_slice list_sort list_stddev_pop list_stddev_samp list_string_agg list_sum list_transform list_unique list_value list_var_pop list_var_samp list_where list_zip listagg listen ln load local location lock lock_configuration locked log log10 log2 log_query_path logged logging_level logging_mode logging_storage logical long lower lpad ltrim macro mad make_date make_time make_timestamp make_timestamp_ns make_timestamptz map map_concat map_contains map_contains_entry map_contains_value map_entries map_extract map_extract_value map_from_entries map_keys map_to_pg_oid map_values mapping match materialized max max_by max_expression_depth max_memory max_temp_directory_size max_vacuum_tasks maxvalue md5 md5_number md5_number_lower md5_number_upper mean median memory_limit merge_join_threshold metadata_info method microsecond microseconds millennia millennium millisecond milliseconds min min_by minute minutes minvalue mismatches mod mode month monthname months move multiply name names nanosecond national natural nchar nested_loop_join_threshold new next nextafter nextval nfc_normalize no none normalized_interval not not_ilike_escape not_like_escape nothing notify notnull now nowait null null_order nullif nulls numeric nvarchar obj_description object octet_length of off offset oid oids old old_implicit_casting on only operator option options or ord order order_by_non_integer_literal ordered_aggregate_threshold ordinality others out outer over overlaps overlay overriding owned owner pandas_analyze_sample pandas_scan parallel parquet_bloom_probe parquet_file_metadata parquet_kv_metadata parquet_metadata parquet_metadata_cache parquet_scan parquet_schema parse_dirname parse_dirpath parse_duckdb_log_message parse_filename parse_path parser partial partition partitioned partitioned_write_flush_threshold partitioned_write_max_open_files passing password percent perfect_ht_threshold persistent pi pivot pivot_filter_threshold pivot_limit pivot_longer pivot_wider placing plans platform policy position positional pow power pragma pragma_collations pragma_database_size pragma_metadata_info pragma_platform pragma_show pragma_storage_info pragma_table_info pragma_user_agent pragma_version preceding precision prefer_range_joins prefetch_all_parquet_files prefix prepare prepared preserve preserve_identifier_case preserve_insertion_order primary printf prior privileges procedural procedure produce_arrow_string_view product profile_output profiling_mode profiling_output program progress_bar_time publication python_enable_replacements python_map_function python_scan_all_frames qualify quantile quantile_cont quantile_disc quarter quarters query query_table quote radians random range read read_blob read_csv read_csv_auto read_json read_json_auto read_json_objects read_json_objects_auto read_ndjson read_ndjson_auto read_ndjson_objects read_parquet read_text real reassign recheck recursive reduce ref references referencing refresh regexp_escape regexp_extract regexp_extract_all regexp_full_match regexp_matches regexp_replace regexp_split_to_array regexp_split_to_table regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release remap_struct rename repeat repeat_row repeatable replace replica reservoir_quantile reset respect restart restrict returning returns reverse revoke right right_grapheme role rollback rollup round round_even roundbankers row row_to_json rows rpad rtrim rule sample savepoint scalar_subquery_error_on_multiple_rows scheduler_process_partial schema schemas scope scroll search search_path second seconds secret secret_directory security select sem semi seq_scan sequence sequences serializable server session session_user set set_bit setof sets setseed sha1 sha256 share shobj_description short show show_databases show_tables show_tables_expanded sign signbit signed similar simple sin sinh skewness skip smallint snapshot sniff_csv some sorted split split_part sql sqrt stable standalone start starts_with statement statistics stats stddev stddev_pop stddev_samp stdin stdout storage storage_compatibility_version storage_info stored str_split str_split_regex streaming_buffer_size strftime strict string string_agg string_split string_split_regex string_to_array strip strip_accents strlen strpos strptime struct struct_concat struct_extract struct_extract_at struct_insert struct_pack subscription substr substring substring_grapheme subtract suffix sum sum_no_overflow sumkahan summarize summary symmetric sysid system table table_info tables tablesample tablespace tan tanh temp temp_directory template temporary test_all_types test_vector_types text then threads ties time time_bucket timestamp timestamp_ms timestamp_ns timestamp_s timestamp_us timestamptz timetz timetz_byte_comparable timezone timezone_hour timezone_minute tinyint to to_base to_base64 to_binary to_centuries to_days to_decades to_hex to_hours to_json to_microseconds to_millennia to_milliseconds to_minutes to_months to_quarters to_seconds to_timestamp to_weeks to_years today trailing transaction transaction_timestamp transform translate treat trigger trim true trunc truncate truncate_duckdb_logs trusted try_cast try_strptime txid_current type typeof types ubigint ucase uhugeint uint128 uint16 uint32 uint64 uint8 uinteger unbin unbounded uncommitted unencrypted unhex unicode union union_extract union_tag union_value unique unknown unlisten unlogged unnest unpack unpivot unpivot_list until update upper url_decode url_encode use user user_agent username using usmallint utinyint uuid uuid_extract_timestamp uuid_extract_version uuidv4 uuidv7 vacuum valid validate validator value values var_pop var_samp varbinary varchar variable variadic variance varint varying vector_type verbose verify_external verify_fetch_row verify_parallelism verify_serializer version view views virtual volatile wal_autocheckpoint wavg week weekday weekofyear weeks weighted_avg when where which_secret whitespace window with within without work worker_threads wrapper write write_log xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlnamespaces xmlparse xmlpi xmlroot xmlserialize xmltable xor year years yearweek yes zone zstd_min_string_length | || ~ ~~ ~~* ~~~",types:"JSON bigint binary bit bitstring blob bool boolean bpchar bytea char date datetime dec decimal double enum float float4 float8 guid hugeint int int1 int128 int16 int2 int32 int4 int64 int8 integer integral interval list logical long map null numeric nvarchar oid real row short signed smallint string struct text time timestamp timestamp_ms timestamp_ns timestamp_s timestamp_us timestamptz timetz tinyint ubigint uhugeint uint128 uint16 uint32 uint64 uint8 uinteger union usmallint utinyint uuid varbinary varchar varint"}),si="__marimo_duckdb",fo=new Set([si]),bw="memory",Ml=function(e){return e===""},m2=function({table:e,columnName:n,sqlTableContext:i}){if(i){let{engine:o,schema:s,defaultSchema:c,defaultDatabase:d,database:p}=i,h=e.name;return Ml(s)?h=p===d?h:`${p}.${h}`:(s!==c&&(h=`${s}.${h}`),p!==d&&(h=`${p}.${h}`)),o==="__marimo_duckdb"?`_df = mo.sql(f"SELECT ${n} FROM ${h} LIMIT 100")`:`_df = mo.sql(f"SELECT ${n} FROM ${h} LIMIT 100", engine=${o})`}return`_df = mo.sql(f'SELECT "${n}" FROM ${e.name} LIMIT 100')`},ow=function(e,n){if(n==="date"||n==="datetime"||n==="time"){if(e==="min")return"Earliest";if(e==="max")return"Latest"}return e};function SC(){return{tables:[],expandedTables:new Set,expandedColumns:new Set,columnsPreviews:new Map}}var{reducer:V4,createActions:$4,valueAtom:Rg,useActions:EC}=Rl(SC,{addDatasets:(e,n)=>{let{previewDatasetColumn:i}=Li();for(let p of n.tables)for(let h of p.columns){let b=`${p.name}:${h.name}`;e.expandedColumns.has(b)&&i({tableName:p.name,columnName:h.name,source:p.source,sourceType:p.source_type})}let o=e.tables;n.clear_channel&&(o=o.filter(p=>p.source!==n.clear_channel));let s=[...n.tables,...o],c=new Set,d=s.filter(p=>{let h=`${p.name}:${p.source}`;return c.has(h)?!1:(c.add(h),!0)}).sort((p,h)=>p.name.localeCompare(h.name));return{...e,tables:d}},filterDatasetsFromVariables:(e,n)=>{let i=new Set(n),o=e.tables.filter(s=>s.variable_name?i.has(s.variable_name):!0);return{...e,tables:o}},toggleTable:(e,n)=>{let i=new Set(e.expandedTables);return i.has(n)?i.delete(n):i.add(n),{...e,expandedTables:i}},toggleColumn:(e,n)=>{let i=`${n.table}:${n.column}`,o=new Set(e.expandedColumns);return o.has(i)?o.delete(i):o.add(i),{...e,expandedColumns:o}},closeAllColumns:e=>({...e,expandedColumns:new Set}),addColumnPreview:(e,n)=>{let i=`${n.table_name}:${n.column_name}`,o=new Map(e.columnsPreviews);return o.set(i,n),{...e,columnsPreviews:o}}});iw=()=>Kn(Rg),Uu=Be(e=>e(Rg).tables),P2=Be(new Set),M2=Be(!1),rw=function(){return EC()};var TC=new Map([[si,{name:si,dialect:"duckdb",source:"duckdb",display_name:"DuckDB (In-Memory)",databases:[]}]]);function RC(){return{latestEngineSelected:si,connectionsMap:TC}}let DC,OC;({reducer:DC,createActions:OC,valueAtom:lo,useActions:E2}=Rl(RC,{addDataSourceConnection:(e,n)=>{if(n.connections.length===0)return e;let{latestEngineSelected:i,connectionsMap:o}=e,s=new Map(o);for(let c of n.connections)s.set(c.name,c);return{latestEngineSelected:i,connectionsMap:s}},filterDataSourcesFromVariables:(e,n)=>{let{latestEngineSelected:i,connectionsMap:o}=e,s=new Set(n),c=new Map([...o].filter(([d])=>fo.has(d)?!0:s.has(d)));return{latestEngineSelected:c.has(i)?i:si,connectionsMap:c}},clearDataSourceConnections:()=>({latestEngineSelected:si,connectionsMap:new Map}),removeDataSourceConnection:(e,n)=>{let{latestEngineSelected:i,connectionsMap:o}=e,s=new Map(o);return s.delete(n),{latestEngineSelected:s.has(i)?i:si,connectionsMap:s}},addTableList:(e,n)=>{let{tables:i,sqlTableContext:o}=n,{connectionsMap:s,latestEngineSelected:c}=e,d=o.engine,p=s.get(d);if(!p)return e;let h=new Map(s),b={...p,databases:p.databases.map(x=>x.name===o.database?{...x,schemas:x.schemas.map(w=>w.name===o.schema?{...w,tables:i}:w)}:x)};return h.set(d,b),{latestEngineSelected:c,connectionsMap:h}},addTable:(e,n)=>{let{table:i,sqlTableContext:o}=n,{connectionsMap:s,latestEngineSelected:c}=e,d=o.engine,p=i.name,h=s.get(d);if(!h)return e;let b=new Map(s),x={...h,databases:h.databases.map(w=>w.name===o.database?{...w,schemas:w.schemas.map(S=>{if(S.name!==o.schema)return S;let E=S.tables.length===0?[i]:S.tables.map(D=>D.name===p?i:D);return{...S,tables:E}})}:w)};return b.set(d,x),{latestEngineSelected:c,connectionsMap:b}}})),Du=Be(e=>e(lo).connectionsMap);function Dg(e){let n=st.get(lo);n.connectionsMap.has(e)&&st.set(lo,{...n,latestEngineSelected:e})}Z2=Be(e=>{let n=st.get(Uu),i=e(lo).connectionsMap,o=new Map;for(let s of n)o.set(s.name,s);for(let s of i.values())for(let c of s.databases){let d=c.name===s.default_database||s.databases.length===1;for(let p of c.schemas){let h=p.name===s.default_schema,b=Ml(p.name);for(let x of p.tables){let w;if(w=x.name,b){w=d?x.name:`${c.name}.${x.name}`,o.has(w)?Ae.warn(`Table name collision for ${w}. Skipping.`):o.set(w,x);continue}if(d&&h&&!o.has(w)){o.set(w,x);continue}if(w=`${p.name}.${x.name}`,d&&!o.has(w)){o.set(w,x);continue}w=`${c.name}.${p.name}.${x.name}`,o.has(w)?Ae.warn(`Table name collision for ${w}. Skipping.`):o.set(w,x)}}}return o}),ew=function(e){return e.variable_name?"dataframe":"table"};var PC=class t_{static jsonStringifySortKeys(){return n=>typeof n!="object"||!n?String(n):JSON.stringify(n,Object.keys(n).sort(),2)}constructor(n,i={}){this.delegate=n,this.toKey=i.toKey??t_.jsonStringifySortKeys(),this.cache=new Dd(i.maxSize??128)}request(n){let i=this.toKey(n),o=this.cache.get(i);if(o!==void 0)return o;let s=this.delegate.request(n);return this.cache.set(i,s),s.catch(c=>{throw this.cache.delete(i),c})}resolve(n,i){this.delegate.resolve(n,i)}reject(n,i){this.delegate.reject(n,i)}};U2=new wu("sql-table-preview",async(e,n)=>{await Li().previewSQLTable({requestId:e,...n})}),Gw=new wu("sql-table-list-preview",async(e,n)=>{await Li().previewSQLTableList({requestId:e,...n})}),im=new PC(new wu("validate-sql",async(e,n)=>{await Li().validateSQL({requestId:e,...n})}),{maxSize:3});var LC=new Set(["(","[","{",",",")","]","}"]);function MC(e,n){let i=e.name;return i==="ArgList"?{args:NC(e),kwargs:IC(e,n)}:(Ae.warn(`Not an ArgList, name: ${i}`),{args:[],kwargs:[]})}function NC(e){var o;e.firstChild();let n=[],i=e.name;do if(i=e.name,!LC.has(i)){if(i==="VariableName"&&((o=e.node.nextSibling)==null?void 0:o.name)==="AssignOp"){e.prev();break}n.push(e.node)}while(e.nextSibling());return n}function IC(e,n){let i=[],o=e.name;do if(o=e.name,o==="VariableName"){let s=n.slice(e.from,e.to),c=e.node.nextSibling;if(!c||c.name!=="AssignOp")continue;let d=c.nextSibling;if(!d)continue;let p=n.slice(d.from,d.to).trim();i.push({key:s,value:p})}while(e.nextSibling());return i}function AC(e){return e.split(`
`).map(n=>n.trim()===""?n:`    ${n}`).join(`
`)}var jC=dn(Br());let Sa;Sa=Be(new Map),I2=e=>{let n=(0,jC.c)(3),i=Kn(Sa),o;return n[0]!==e||n[1]!==i?(o=i.get(e),n[0]=e,n[1]=i,n[2]=o):o=n[2],o};function Og(e){let n=st.get(Sa),i=new Map(n);i.delete(e),st.set(Sa,i)}function qC(){st.set(Sa,new Map)}function zC({cellId:e,errorMessage:n,dialect:i}){let o=st.get(Sa),s=new Map(o),c=i==="DuckDB"?FC(n):Pg(n);s.set(e,c),st.set(Sa,s)}function FC(e){let{errorType:n,errorMessage:i}=Pg(e),o=i,s,c=i.indexOf("LINE ");return c!==-1&&(s=i.slice(Math.max(0,c)).trim(),o=i.slice(0,Math.max(0,c)).trim()),{errorType:n,errorMessage:o,codeblock:s}}function Pg(e){return{errorType:e.split(":")[0].trim(),errorMessage:e.split(":").slice(1).join(":").trim()}}let zd,Lg,Fd,Bd;dm=zn("book-marked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),lm=zn("braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]]),zd=zn("calendar-clock",[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]),ym=zn("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),gm=zn("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Lg=zn("cog",[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]]),hm=zn("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]),Fd=zn("database-backup",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 12a9 3 0 0 0 5 2.69",key:"1ui2ym"}],["path",{d:"M21 9.3V5",key:"6k6cib"}],["path",{d:"M3 5v14a9 3 0 0 0 6.47 2.88",key:"i62tjy"}],["path",{d:"M12 12v4h4",key:"1bxaet"}],["path",{d:"M13 20a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L12 16",key:"1f4ei9"}]]),ms=zn("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),ku=zn("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Bu=zn("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),so=zn("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),am=zn("paint-roller",[["rect",{width:"16",height:"6",x:"2",y:"2",rx:"2",key:"jcyz7m"}],["path",{d:"M10 16v-2a2 2 0 0 1 2-2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2",key:"1b9h7c"}],["rect",{width:"4",height:"6",x:"8",y:"16",rx:"1",key:"d6e7yl"}]]),Bd=zn("search-check",[["path",{d:"m8 11 2 2 4-4",key:"1sed1v"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),oo=zn("table-2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]),Il=function(e){switch(e){case"duckdb":return"DuckDB";case"motherduck":return"MotherDuck";case"sqlite":return"SQLite";case"postgres":case"postgresql":return"PostgreSQL";case"mysql":return"MySQL";case"mariadb":return"MariaDB";case"mssql":return"Microsoft SQL Server";case"oracle":return"Oracle";case"redshift":return"Amazon Redshift";case"snowflake":return"Snowflake";case"bigquery":return"Google BigQuery";case"clickhouse":return"ClickHouse";case"timeplus":return"Timeplus";case"databricks":return"Databricks";case"db2":return"IBM Db2";case"hive":return"Apache Hive";case"impala":return"Apache Impala";case"presto":return"Presto";case"trino":return"Trino";case"cockroachdb":return"CockroachDB";case"timescaledb":return"TimescaleDB";case"singlestore":return"SingleStore";case"cassandra":return"Apache Cassandra";case"mongodb":return"MongoDB";case"iceberg":return"Apache Iceberg";default:return e}};function Mg(e){let[n,i]=e.split(" ");return i?`${Il(n)} ${i}`:Il(e)}Su={boolean:x4,date:_4,time:gm,datetime:zd,temporal:zd,number:Zp,string:k4,integer:Zp,unknown:lm},Uw=function(e){switch(e){case"boolean":return"bg-(--orange-4)";case"date":case"time":case"datetime":case"temporal":return"bg-(--grass-4) dark:bg-(--grass-5)";case"number":case"integer":return"bg-(--purple-4)";case"string":return"bg-(--blue-4)";case"unknown":return"bg-(--slate-4) dark:bg-(--slate-6)";default:return f2(e),"bg-(--slate-4) dark:bg-(--slate-6)"}};let ys,Ng,Vd,Ig,Ro,Ag,jg,qg,zg,Fg,Do,Wr,Ea,ci,$d;ya=class{constructor(e,n){this.singular=e,this._plural=n}pluralize(e){return e===1?this.singular:this.plural}get plural(){return this._plural??`${this.singular}s`}},Q2=class n_{constructor(n){this.words=n}static of(...n){return new n_(n.map(i=>typeof i=="string"?new ya(i):i))}join(n,i){return this.words.map(o=>o.pluralize(i)).join(n)}},ys=dn(Br()),Ng=5,Vd={boolean:"bg-[var(--orange-4)] text-[var(--orange-11)]",date:"bg-[var(--grass-4)] text-[var(--grass-11)]",time:"bg-[var(--grass-4)] text-[var(--grass-11)]",datetime:"bg-[var(--grass-4)] text-[var(--grass-11)]",number:"bg-[var(--purple-4)] text-[var(--purple-11)]",integer:"bg-[var(--purple-4)] text-[var(--purple-11)]",string:"bg-[var(--blue-4)] text-[var(--blue-11)]",unknown:"bg-[var(--slate-4)] text-[var(--slate-11)]"},Ig={local:"bg-[var(--blue-4)] text-[var(--blue-11)]",duckdb:"bg-[var(--amber-4)] text-[var(--amber-11)]",connection:"bg-[var(--green-4)] text-[var(--green-11)]",catalog:"bg-[var(--purple-4)] text-[var(--purple-11)]"},Ro="p-3 min-w-[250px] flex flex-col divide-y",Ag=new ya("column","columns"),jg=new ya("row","rows"),qg=new ya("schema","schemas"),zg=new ya("table","tables"),Fg=new ya("database","databases"),Do=e=>{let n=(0,ys.c)(6),{icon:i,title:o,badge:s}=e,c;n[0]===o?c=n[1]:(c=(0,q.jsx)("h3",{className:"font-semibold text-sm",children:o}),n[0]=o,n[1]=c);let d;return n[2]!==s||n[3]!==i||n[4]!==c?(d=(0,q.jsxs)("div",{className:"flex items-center gap-2 pb-2",children:[i,c,s]}),n[2]=s,n[3]=i,n[4]=c,n[5]=d):d=n[5],d},Wr=e=>{let n=(0,ys.c)(5),{label:i,value:o}=e,s;n[0]===i?s=n[1]:(s=(0,q.jsxs)("span",{className:"text-[var(--slate-11)]",children:[i,":"]}),n[0]=i,n[1]=s);let c;return n[2]!==s||n[3]!==o?(c=(0,q.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[s,o]}),n[2]=s,n[3]=o,n[4]=c):c=n[4],c},Ea=e=>{let n=(0,ys.c)(5),{icon:i,text:o}=e,s;n[0]===o?s=n[1]:(s=(0,q.jsx)("span",{className:"text-xs text-[var(--slate-11)]",children:o}),n[0]=o,n[1]=s);let c;return n[2]!==i||n[3]!==s?(c=(0,q.jsxs)("div",{className:"flex items-center gap-1",children:[i,s]}),n[2]=i,n[3]=s,n[4]=c):c=n[4],c},ci=e=>{let n=(0,ys.c)(15),{title:i,items:o,totalCount:s,limit:c}=e,d=i===void 0?"":i,p=c===void 0?Ng:c;if(o.length===0)return null;let h;n[0]!==o||n[1]!==p?(h=o.slice(0,p),n[0]=o,n[1]=p,n[2]=h):h=n[2];let b=h,x=s>p,w;n[3]===d?w=n[4]:(w=d&&(0,q.jsxs)("h4",{className:"text-xs font-medium text-[var(--slate-11)] mb-2",children:[d,":"]}),n[3]=d,n[4]=w);let S;n[5]!==x||n[6]!==p||n[7]!==s?(S=x&&(0,q.jsxs)("div",{className:"text-xs text-[var(--slate-10)] text-center py-1",children:["... and ",s-p," more"]}),n[5]=x,n[6]=p,n[7]=s,n[8]=S):S=n[8];let E;n[9]!==S||n[10]!==b?(E=(0,q.jsxs)("div",{className:"flex flex-col gap-1 overflow-y-auto",children:[b,S]}),n[9]=S,n[10]=b,n[11]=E):E=n[11];let D;return n[12]!==w||n[13]!==E?(D=(0,q.jsxs)("div",{className:"py-2",children:[w,E]}),n[12]=w,n[13]=E,n[14]=D):D=n[14],D},$d=e=>Vd[e]||Vd.unknown;const BC=e=>{var d,p;let n=e.type==="view"?(0,q.jsx)(ku,{className:"w-4 h-4 text-[var(--blue-9)]"}):(0,q.jsx)(oo,{className:"w-4 h-4 text-[var(--green-9)]"}),i=(0,q.jsx)(cr,{variant:"secondary",className:`text-xs ${e.type==="view"?"bg-[var(--blue-4)] text-[var(--blue-11)]":"bg-[var(--green-4)] text-[var(--green-11)]"}`,children:e.type}),o=e.columns.map(h=>{let b=Su[h.type];return(0,q.jsxs)("div",{className:"flex items-center justify-between text-xs rounded",children:[(0,q.jsxs)("div",{className:"flex items-center gap-2",children:[(0,q.jsx)(b,{className:"w-3 h-3 text-[var(--slate-9)]"}),(0,q.jsx)("span",{className:"font-mono",children:h.name})]}),(0,q.jsx)(cr,{variant:"outline",className:`text-xs ${$d(h.type)}`,children:h.type})]},h.name)}),s=e.primary_keys&&e.primary_keys.length>0,c=e.indexes&&e.indexes.length>0;return(0,q.jsxs)("div",{className:`${Ro} min-w-[300px]`,children:[(0,q.jsx)(Do,{icon:n,title:e.name,badge:i}),(0,q.jsxs)("div",{className:"flex flex-col gap-2 py-2",children:[(0,q.jsx)(Wr,{label:"Source",value:(0,q.jsx)(cr,{variant:"outline",className:`text-xs ${Ig[e.source_type]}`,children:e.source})}),e.variable_name&&(0,q.jsx)(Wr,{label:"Variable",value:(0,q.jsx)("code",{className:"text-xs bg-[var(--slate-4)] px-1 rounded",children:e.variable_name})}),e.engine&&(0,q.jsx)(Wr,{label:"Engine",value:(0,q.jsx)("code",{className:"text-xs bg-[var(--slate-4)] px-1 rounded",children:e.engine})})]}),(e.num_columns!=null||e.num_rows!=null)&&(0,q.jsxs)("div",{className:"grid grid-cols-2 gap-2 py-2",children:[e.num_columns!=null&&(0,q.jsx)(Ea,{icon:(0,q.jsx)(hm,{className:"w-3 h-3 text-[var(--slate-9)]"}),text:`${e.num_columns} ${Ag.pluralize(e.num_columns)}`}),e.num_rows!=null&&(0,q.jsx)(Ea,{icon:(0,q.jsx)(Zp,{className:"w-3 h-3 text-[var(--slate-9)]"}),text:`${e.num_rows} ${jg.pluralize(e.num_rows)}`})]}),e.columns.length===0&&ec("column"),(s||c)&&(0,q.jsxs)("div",{className:"flex flex-col gap-2 py-2",children:[s&&(0,q.jsxs)("div",{className:"flex flex-row gap-1",children:[(0,q.jsxs)("div",{className:"flex items-center gap-1",children:[(0,q.jsx)(c4,{className:"w-3 h-3 text-[var(--amber-9)]"}),(0,q.jsx)("span",{className:"text-xs font-medium text-[var(--slate-11)]",children:"Primary Keys:"})]}),(d=e.primary_keys)==null?void 0:d.map(h=>(0,q.jsx)(cr,{variant:"outline",className:"text-xs text-[var(--slate-11)]",children:h},h))]}),c&&(0,q.jsxs)("div",{className:"flex flex-row gap-1",children:[(0,q.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,q.jsx)(dm,{className:"w-3 h-3 text-[var(--purple-9)]"}),(0,q.jsx)("span",{className:"text-xs font-medium text-[var(--slate-11)]",children:"Indexes:"})]}),(p=e.indexes)==null?void 0:p.map(h=>(0,q.jsx)(cr,{variant:"outline",className:"text-xs text-[var(--slate-11)]",children:h},h))]})]}),e.columns.length>0&&(0,q.jsx)(ci,{items:o,totalCount:e.columns.length})]})},VC=e=>{var s;let n=Su[e.type],i=(0,q.jsx)(cr,{variant:"outline",className:`text-xs ${$d(e.type)}`,children:e.type}),o=((s=e.sample_values)==null?void 0:s.map((c,d)=>(0,q.jsx)("div",{className:"text-xs bg-[var(--slate-3)] rounded font-mono",children:c==null?"null":String(c)},d)))||[];return(0,q.jsxs)("div",{className:Ro,children:[(0,q.jsx)(Do,{icon:(0,q.jsx)(n,{className:"w-4 h-4 text-[var(--slate-9)]"}),title:e.name,badge:i}),(0,q.jsxs)("div",{className:"flex flex-col gap-2 mt-2",children:[(0,q.jsx)(Wr,{label:"Type",value:(0,q.jsx)("span",{className:"font-medium",children:e.type})}),(0,q.jsx)(Wr,{label:"External Type",value:(0,q.jsx)("code",{className:"text-xs bg-[var(--slate-4)] px-1 rounded",children:e.external_type})})]}),e.sample_values&&e.sample_values.length>0&&(0,q.jsx)(ci,{title:"Sample Values",items:o,totalCount:e.sample_values.length})]})},$C=e=>{let n=(0,q.jsx)(cr,{variant:"outline",className:"text-xs bg-[var(--blue-4)] text-[var(--blue-11)]",children:e.dialect}),i=e.schemas.map(o=>(0,q.jsxs)("div",{className:"flex items-center justify-between text-xs rounded hover:bg-[var(--slate-3)]",children:[(0,q.jsxs)("div",{className:"flex items-center gap-2",children:[(0,q.jsx)(so,{className:"w-3 h-3 text-[var(--slate-9)]"}),(0,q.jsx)("span",{children:o.name})]}),(0,q.jsxs)(cr,{variant:"outline",className:"text-xs",children:[o.tables.length," ",zg.pluralize(o.tables.length)]})]},o.name));return(0,q.jsxs)("div",{className:Ro,children:[(0,q.jsx)(Do,{icon:(0,q.jsx)(ms,{className:"w-4 h-4 text-[var(--blue-9)]"}),title:e.name,badge:n}),(0,q.jsxs)("div",{className:"flex flex-col gap-2 py-2",children:[(0,q.jsx)(Wr,{label:"Dialect",value:(0,q.jsx)("span",{className:"font-medium",children:e.dialect})}),e.engine&&(0,q.jsx)(Wr,{label:"Engine",value:(0,q.jsx)("code",{className:"text-xs bg-[var(--slate-4)] px-1 rounded",children:e.engine})})]}),(0,q.jsx)("div",{className:"py-2",children:(0,q.jsx)(Ea,{icon:(0,q.jsx)(so,{className:"w-3 h-3 text-[var(--slate-9)]"}),text:`${e.schemas.length} schema${e.schemas.length===1?"":"s"}`})}),e.schemas.length===0&&ec("schema"),e.schemas.length>0&&(0,q.jsx)(ci,{title:"Schemas",items:i,totalCount:e.schemas.length})]})},HC=e=>{let n=(0,q.jsx)(cr,{variant:"outline",className:"text-xs bg-[var(--green-4)] text-[var(--green-11)]",children:"Schema"}),i=e.tables.map(o=>(0,q.jsxs)("div",{className:"flex items-center justify-between text-xs rounded hover:bg-[var(--slate-3)]",children:[(0,q.jsxs)("div",{className:"flex items-center gap-2",children:[o.type==="view"?(0,q.jsx)(ku,{className:"w-3 h-3 text-[var(--blue-9)]"}):(0,q.jsx)(oo,{className:"w-3 h-3 text-[var(--green-9)]"}),(0,q.jsx)("span",{children:o.name})]}),(0,q.jsx)(cr,{variant:"outline",className:`text-xs ${o.type==="view"?"bg-[var(--blue-4)] text-[var(--blue-11)]":"bg-[var(--green-4)] text-[var(--green-11)]"}`,children:o.type})]},o.name));return(0,q.jsxs)("div",{className:Ro,children:[(0,q.jsx)(Do,{icon:(0,q.jsx)(so,{className:"w-4 h-4 text-[var(--green-9)]"}),title:e.name,badge:n}),(0,q.jsx)("div",{className:"py-2",children:(0,q.jsx)(Ea,{icon:(0,q.jsx)(oo,{className:"w-3 h-3 text-[var(--slate-9)]"}),text:`${e.tables.length} table${e.tables.length===1?"":"s"}`})}),e.tables.length===0&&ec("table"),e.tables.length>0&&(0,q.jsx)(ci,{title:"Tables",items:i,totalCount:e.tables.length})]})};var Bg=(0,q.jsx)(cr,{variant:"outline",children:"default"}),WC=8,Vg=3;let ec;pw=(e,n)=>{let i=e.databases.length,o=e.databases.reduce((h,b)=>h+b.schemas.length,0),s=(h,b)=>{if(h.tables.length===0)return null;let x=h.name===e.default_schema&&b,w=[];return o<WC&&(w=h.tables.slice(0,Vg+1).map(S=>(0,q.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,q.jsx)(oo,{className:"w-3 h-3 text-[var(--green-9)]"}),(0,q.jsx)("span",{className:"text-xs",children:S.name})]},S.name))),(0,q.jsxs)("div",{children:[(0,q.jsxs)("div",{className:"flex items-center gap-2 text-xs rounded hover:bg-[var(--slate-3)] ml-2",children:[(0,q.jsx)(so,{className:"w-3 h-3 text-[var(--slate-9)]"}),(0,q.jsx)("span",{children:h.name}),x&&Bg,(0,q.jsxs)(cr,{variant:"outline",className:"text-xs ml-auto",children:[h.tables.length," tables"]})]}),(0,q.jsx)(ci,{items:w,totalCount:h.tables.length,limit:Vg})]},h.name)},c=e.databases.map(h=>{let b=h.name===e.default_database||e.databases.length===1,x=h.schemas.map(w=>s(w,b));return(0,q.jsxs)("div",{children:[(0,q.jsxs)("div",{className:"flex items-center gap-2",children:[(0,q.jsx)(ms,{className:"w-3 h-3 text-[var(--blue-9)]"}),(0,q.jsx)("span",{className:"text-xs",children:h.name}),b&&Bg]}),x&&(0,q.jsx)(ci,{items:x,totalCount:h.schemas.length})]},h.name)}),d=e.name;fo.has(e.name)&&(d="In-Memory");let p=n==null?void 0:n.map(h=>(0,q.jsxs)("div",{className:"flex items-center gap-2",children:[(0,q.jsx)(oo,{className:"w-3 h-3 text-[var(--blue-9)]"}),(0,q.jsx)("span",{className:"text-xs",children:h.name})]},h.name));return(0,q.jsxs)("div",{className:`${Ro} px-1`,children:[(0,q.jsx)(Do,{icon:(0,q.jsx)(Lg,{className:"w-4 h-4 text-[var(--purple-9)]"}),title:d}),(0,q.jsxs)("div",{className:"flex flex-col gap-2 py-2",children:[(0,q.jsx)(Wr,{label:"Dialect",value:(0,q.jsx)("span",{className:"font-medium",children:Il(e.dialect)})}),(0,q.jsx)(Wr,{label:"Source",value:(0,q.jsx)(cr,{variant:"outline",className:"text-xs bg-[var(--green-4)] text-[var(--green-11)]",children:e.source})})]}),(0,q.jsxs)("div",{className:"flex flex-row justify-between py-2",children:[(0,q.jsx)(Ea,{icon:(0,q.jsx)(ms,{className:"w-3 h-3 text-[var(--slate-9)]"}),text:`${i} ${Fg.pluralize(i)}`}),(0,q.jsx)(Ea,{icon:(0,q.jsx)(so,{className:"w-3 h-3 text-[var(--slate-9)]"}),text:`${o} ${qg.pluralize(o)}`})]}),i>0&&(0,q.jsx)(ci,{items:c,totalCount:i}),p&&p.length>0&&(0,q.jsx)(ci,{title:"Dataframes",items:p,totalCount:p.length})]})},ec=e=>(0,q.jsxs)("div",{className:"flex items-start gap-2 mt-3",children:[(0,q.jsx)(Bu,{size:10,className:"mt-1 text-[var(--slate-10)] shrink-0"}),(0,q.jsxs)("span",{className:"text-xs text-[var(--slate-11)]",children:["No ",e," information available.",` 
`,(0,q.jsx)("span",{className:"text-[var(--blue-10)]",children:"Introspect to see more details."})]})]});var tc=dn(Mu()),$g=class{constructor(){De(this,"schema",{})}addTable(e,n){let i={self:KC({table:n}),children:n.columns.map(o=>UC({column:o}))};return this.setAt([...e,n.name],i),this}addSchema(e,n){let i={self:QC({namespace:n,path:e}),children:{}};return this.setAt(e,i),this}addDatabase(e,n){let i={self:GC({namespace:n,path:e}),children:{}};return this.setAt(e,i),this}setAt(e,n){let i=this.schema;for(let o of e.slice(0,-1))i[o]||(i[o]={children:{}}),i=i[o].children;i[e[e.length-1]]=n}build(){return this.schema}reset(){return this.schema={},this}};function UC(e){return{label:e.column.name,type:"column",info:()=>{let n=document.createElement("div");return(0,tc.createRoot)(n).render(VC(e.column)),{dom:n}}}}function KC(e){return{label:e.table.name,type:"table",info:()=>{let n=document.createElement("div");return(0,tc.createRoot)(n).render(BC(e.table)),{dom:n}}}}function QC(e){return{label:e.namespace.name,detail:e.path.join("."),type:"schema",info:()=>{let n=document.createElement("div");return(0,tc.createRoot)(n).render(HC(e.namespace)),{dom:n}}}}function GC(e){return{label:e.namespace.name,detail:e.path.join("."),type:"database",info:()=>{let n=document.createElement("div");return(0,tc.createRoot)(n).render($C(e.namespace)),{dom:n}}}}function Hg(e){switch(e.dialect){case"postgresql":case"postgres":return u2;case"mysql":return m4;case"sqlite":return f4;case"mssql":case"sqlserver":return g4;case"duckdb":return qd;case"mariadb":return y4;case"cassandra":return v4;case"oracledb":case"oracle":return d4;case"bigquery":return Tg;default:return}}var JC={...h4,caseInsensitiveIdentifiers:!0,identifierQuotes:"'"};const Hd=Yp.define(JC);var XC=Be(e=>{let n=e(Uu),i=new $g;for(let o of n)i.addTable([],o);return i.build()}),YC=class{constructor(){this.cache=new Dd(10,{create:e=>this.getConnectionSchema(e)})}getConnection(e){return st.get(Du).get(e)}getConnectionSchema(e){var d;let{default_database:n,databases:i,default_schema:o}=e,s=new $g,c=i.find(p=>p.name===n||i.length===1);if(((d=c??i[0])==null?void 0:d.schemas.some(p=>Ml(p.name)))??!1){for(let p of i){let h=p.name===(c==null?void 0:c.name),b=p.schemas.flatMap(x=>x.tables);s.addDatabase([p.name],p);for(let x of b)h?s.addTable([],x):s.addTable([p.name],x)}return{shouldAddLocalTables:!1,schema:s.build(),defaultSchema:c==null?void 0:c.name}}if(c)for(let p of c.schemas){s.addSchema([p.name],p);for(let h of p.tables)s.addTable([p.name],h)}for(let p of i){s.addDatabase([p.name],p);for(let h of p.schemas){s.addSchema([p.name,h.name],h);for(let b of h.tables)s.addTable([p.name,h.name],b)}}return{shouldAddLocalTables:!0,schema:s.build(),defaultSchema:o??void 0}}getInternalDialect(e){let n=this.getConnection(e);return n?n.dialect:null}getDialect(e){let n=this.getConnection(e);return n?Hg(n)??Hd:Hd}getCompletionSource(e){let n=this.getConnection(e);if(!n)return null;let i=()=>st.get(XC),o=this.cache.getOrCreate(n);return{dialect:Hg(n)??Hd,schema:o.shouldAddLocalTables?{...o.schema,...i()}:o.schema,defaultSchema:o.defaultSchema,defaultTable:ZC(n)}}};function ZC(e){if(e.databases.length!==1)return;let n=e.databases[0];if(n.schemas.length!==1)return;let i=n.schemas[0];if(i.tables.length===1)return i.tables[0].name}const Oo=new YC;function Wg(e){return e.field(ai)}function eS(){return e=>{let n=Wg(e.state).engine,i=Oo.getCompletionSource(n);return i&&p4(i)(e)||null}}function tS(){return e=>{let n=Wg(e.state).engine,i=Oo.getDialect(n);return e.matchBefore(/\.\w*/)?null:b4(i,!0,(o,s)=>({label:o,type:s,info:async()=>{let c=(await nS())[o.toLocaleLowerCase()];if(!c)return null;let d=document.createElement("div");return d.innerHTML=hC.keyword({keyword:o,info:c}),d}}))(e)}}var nS=ri(async()=>{let e=await le(()=>import("./common-keywords-D92oWLso.js").then(async i=>(await i.__tla,i)),[],import.meta.url),n=await le(()=>import("./duckdb-keywords-DLqta3HV.js").then(async i=>(await i.__tla,i)),[],import.meta.url);return{...e.default.keywords,...n.default.keywords}}),rS=dn(Br()),Ug=Eu("marimo:notebook-sql-mode","default");function iS(){let e=(0,rS.c)(3),[n,i]=Nb(Ug),o;return e[0]!==i||e[1]!==n?(o={sqlMode:n,setSQLMode:i},e[0]=i,e[1]=n,e[2]=o):o=e[2],o}function Kg(){return st.get(Ug)}var aS=qd,oS="DuckDB",Qg=new gu;function Gg(){return st.get(lo).latestEngineSelected}let Jg;Yu=(Xd=class{constructor(){De(this,"type","sql");De(this,"defaultEngine",si);this.sqlModeEnabled=!0}get defaultMetadata(){return{dataframeName:"_df",quotePrefix:"f",commentLines:[],showOutput:!0,engine:Gg()||this.defaultEngine}}get defaultCode(){let e=Gg();return e===this.defaultEngine?'_df = mo.sql(f"""SELECT * FROM """)':`_df = mo.sql(f"""SELECT * FROM """, engine=${e})`}transformIn(e){e=e.trim();let n={...this.defaultMetadata,commentLines:this.extractCommentLines(e)};if(!this.isSupported(e)){let[o,s]=new zl().transformIn(e);return[o,s,n]}if(e==="")return["",0,n];let i=ey(e);return i?(n.dataframeName=i.dfName,n.showOutput=i.output??!0,n.engine=i.engine??this.defaultEngine,n.engine!==this.defaultEngine&&Dg(n.engine),[Ol(`
${i.sqlString}
`).trim(),i.startPosition,n]):[e,0,n]}transformOut(e,n){let{quotePrefix:i,commentLines:o,showOutput:s,engine:c,dataframeName:d}=n,p=`${d} = mo.sql(
    ${i}"""
`,h=e.replaceAll('"""',String.raw`\"""`),b=`
    """${s?"":`,
    output=False`}${c===this.defaultEngine?"":`,
    engine=${c}`}
)`;return[[...o,p].join(`
`)+AC(h)+b,p.length+1]}isSupported(e){return e.trim()===""?!0:!e.includes("mo.sql")||e.split("mo.sql").length>2?!1:ey(e)!==null}extractCommentLines(e){let n=e.split(`
`),i=[];for(let o of n)if(o.startsWith("#"))i.push(o);else break;return i}getExtension(e,n,i,o,s){var d;let c=[Qg.of(c2({dialect:aS})),io.of([{key:"Tab",run:p=>n4(p)||zT(p),preventDefault:!0}]),bu({defaultKeymap:!1,activateOnTyping:!0,override:[eS(),ok,tS()]})];if(((d=s==null?void 0:s.diagnostics)==null?void 0:d.sql_linter)??!1){let p=st.get(w4),h=new Jg({getParserOptions:b=>({database:Yg(b)??oS})});c.push(kC({enableLinting:!0,linterConfig:{delay:250,parser:h},enableGutterMarkers:!0,gutterConfig:{backgroundColor:"#3b82f6",errorBackgroundColor:"#ef4444",hideWhenNotFocused:!0,parser:h},hoverConfig:{schema:cS,hoverTime:300,enableKeywords:!0,enableTables:!0,enableColumns:!0,parser:h,theme:Cg(p)}}),Zt.updateListener.of(b=>{b.focusChanged&&h.setFocusState(b.view.hasFocus)}))}return this.sqlModeEnabled&&c.push(mS()),c}},De(Xd,"fromQuery",e=>`_df = mo.sql(f"""${e.trim()}""")`),Xd),Jg=class extends Xl{constructor(){super(...arguments);De(this,"validationTimeout",null);De(this,"VALIDATION_DELAY_MS",300);De(this,"isFocused",!1)}setFocusState(n){this.isFocused=n}async validateWithDelay(n,i,o){return this.validationTimeout&&window.clearTimeout(this.validationTimeout),new Promise(s=>{this.validationTimeout=window.setTimeout(async()=>{var c;if(!this.isFocused){s([]);return}try{let d=await ty(n,i,o,Kg());if(d.error){Ae.error("Failed to validate SQL",{error:d.error}),s([]);return}s(((c=d.parse_result)==null?void 0:c.errors)??[])}catch(d){Ae.error("Failed to validate SQL",{error:d}),s([])}},this.VALIDATION_DELAY_MS)})}async validateSql(n,i){let o=Po(i.state);if(!this.isFocused)return[];if(!fo.has(o.engine))return super.validateSql(n,i);let s=Yg(i.state);return this.validateWithDelay(n,o.engine,s)}async parse(n,i){return Po(i.state).engine==="__marimo_duckdb"?{success:!0,errors:[]}:super.parse(n,i)}};function Xg(e,n){e.dispatch({effects:Qg.reconfigure(c2({dialect:n}))})}function sS(e,n){Xg(e,Oo.getDialect(n))}function lS(e){let n=Po(e.state).engine;Xg(e,Oo.getDialect(n))}function Po(e){return e.field(ai)}function cS(e){let n=Po(e.state).engine,i=Oo.getCompletionSource(n);return i!=null&&i.schema?i.schema:{}}function Yg(e){let n=Po(e).engine;return Zg(n)}function Zg(e){var n;switch((n=Oo.getInternalDialect(e))==null?void 0:n.toLowerCase()){case"postgresql":case"postgres":return"PostgreSQL";case"db2":return"DB2";case"mysql":return"MySQL";case"sqlite":return"Sqlite";case"mssql":case"sqlserver":return"TransactSQL";case"duckdb":return"DuckDB";case"mariadb":return"MariaDB";case"cassandra":return"Noql";case"athena":return"Athena";case"bigquery":return"BigQuery";case"hive":return"Hive";case"redshift":return"Redshift";case"snowflake":return"Snowflake";case"flink":return"FlinkSQL";case"mongodb":return"Noql";default:return null}}function uS(e){do{if(e.name==="AssignStatement")return e.node;if(e.name!=="Comment")return null}while(e.next());return null}function dS(e,n){if(e.name==="String"){let i=n.slice(e.from,e.to);return i.startsWith('"""')||i.startsWith("'''")?nc(i.slice(3,-3)):nc(i.slice(1,-1))}if(e.name==="FormatString"){let i=n.slice(e.from,e.to);return i.startsWith('f"""')||i.startsWith("f'''")?nc(i.slice(4,-3)):nc(i.slice(2,-1))}return null}function ey(e){try{let n=a4.parse(e).cursor();n.name==="Script"&&n.next();let i=uS(n);if(!i||e.slice(i.to).trim().length>0)return null;let o=null,s=null,c,d,p=0,h=i.cursor();if(h.firstChild(),h.name==="VariableName"&&(o=e.slice(h.from,h.to)),!o)return null;for(;h.next();)if(h.name==="CallExpression"){let b=h.node.cursor(),x=!1;if(b.firstChild(),b.name==="MemberExpression"&&(x=e.slice(b.from,b.to)==="mo.sql"),!x)return null;for(;b.next();)if(b.name==="ArgList"){let{args:w,kwargs:S}=MC(b.node.cursor(),e);w.length===1&&(s=dS(w[0],e),p=w[0].from+fS(e.slice(w[0].from,w[0].to)));for(let{key:E,value:D}of S)switch(E){case"engine":c=D;break;case"output":d=D==="True";break}if(s==="")return{dfName:o,sqlString:"",engine:c,output:d,startPosition:p};break}}return!o||!s?null:{dfName:o,sqlString:s,engine:c,output:d,startPosition:p}}catch(n){return Ae.warn("Failed to parse SQL statement",{error:n}),null}}function fS(e){return e===""?0:e.startsWith('f"""')||e.startsWith("f'''")?4:e.startsWith('"""')||e.startsWith("'''")?3:e.startsWith("f'")||e.startsWith('f"')?2:e.startsWith("'")||e.startsWith('"')?1:0}function nc(e){try{return Ol(`
${e}
`).trim()}catch{return e}}var pS=300;function mS(){let e,n=null;return Zt.updateListener.of(i=>{if(!i.docChanged)return;let o=Kg();if(o==="default")return;let s=Po(i.state).engine;if(!fo.has(s))return;let c=i.state.doc.toString();e&&window.clearTimeout(e),e=window.setTimeout(async()=>{if(n===c)return;n=c;let d=i.view.state.facet(po);if(c===""){Og(d);return}try{let p=Zg(s),h=(await ty(c,s,p,o)).validate_result;h!=null&&h.error_message?zC({cellId:d,errorMessage:h.error_message,dialect:p}):Og(d)}catch(p){Ae.error("Failed to validate SQL",{error:p})}},pS)})}async function ty(e,n,i,o){let s=await im.request({onlyParse:o==="default",engine:n,dialect:i,query:e});if(s.error)throw Error(s.error);return s}var hS=ri(()=>new tC),gS=ri(()=>new zl),yS=ri(()=>new Yu);dr={get python(){return hS()},get markdown(){return gS()},get sql(){return yS()}};function vS(){return Object.values(dr)}var It=dn(Ab(),1),rc="Checkbox",[bS,H4]=A4(rc),[wS,Wd]=bS(rc);function _S(e){let{__scopeCheckbox:n,checked:i,children:o,defaultChecked:s,disabled:c,form:d,name:p,onCheckedChange:h,required:b,value:x="on",internal_do_not_use_render:w}=e,[S,E]=I4({prop:i,defaultProp:s??!1,onChange:h,caller:rc}),[D,M]=It.useState(null),[F,J]=It.useState(null),K=It.useRef(!1),V=D?!!d||!!D.closest("form"):!0,ce={checked:S,disabled:c,setChecked:E,control:D,setControl:M,name:p,form:d,value:x,hasConsumerStoppedPropagationRef:K,required:b,defaultChecked:Bi(s)?!1:s,isFormControl:V,bubbleInput:F,setBubbleInput:J};return(0,q.jsx)(wS,{scope:n,...ce,children:xS(w)?w(ce):o})}var ny="CheckboxTrigger",ry=It.forwardRef(({__scopeCheckbox:e,onKeyDown:n,onClick:i,...o},s)=>{let{control:c,value:d,disabled:p,checked:h,required:b,setControl:x,setChecked:w,hasConsumerStoppedPropagationRef:S,isFormControl:E,bubbleInput:D}=Wd(ny,e),M=Fb(s,x),F=It.useRef(h);return It.useEffect(()=>{let J=c==null?void 0:c.form;if(J){let K=()=>w(F.current);return J.addEventListener("reset",K),()=>J.removeEventListener("reset",K)}},[c,w]),(0,q.jsx)(tm.button,{type:"button",role:"checkbox","aria-checked":Bi(h)?"mixed":h,"aria-required":b,"data-state":ly(h),"data-disabled":p?"":void 0,disabled:p,value:d,...o,ref:M,onKeyDown:p2(n,J=>{J.key==="Enter"&&J.preventDefault()}),onClick:p2(i,J=>{w(K=>Bi(K)?!0:!K),D&&E&&(S.current=J.isPropagationStopped(),S.current||J.stopPropagation())})})});ry.displayName=ny;var Ud=It.forwardRef((e,n)=>{let{__scopeCheckbox:i,name:o,checked:s,defaultChecked:c,required:d,disabled:p,value:h,onCheckedChange:b,form:x,...w}=e;return(0,q.jsx)(_S,{__scopeCheckbox:i,checked:s,defaultChecked:c,disabled:p,required:d,onCheckedChange:b,name:o,form:x,value:h,internal_do_not_use_render:({isFormControl:S})=>(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(ry,{...w,ref:n,__scopeCheckbox:i}),S&&(0,q.jsx)(sy,{__scopeCheckbox:i})]})})});Ud.displayName=rc;var iy="CheckboxIndicator",ay=It.forwardRef((e,n)=>{let{__scopeCheckbox:i,forceMount:o,...s}=e,c=Wd(iy,i);return(0,q.jsx)(j4,{present:o||Bi(c.checked)||c.checked===!0,children:(0,q.jsx)(tm.span,{"data-state":ly(c.checked),"data-disabled":c.disabled?"":void 0,...s,ref:n,style:{pointerEvents:"none",...e.style}})})});ay.displayName=iy;var oy="CheckboxBubbleInput",sy=It.forwardRef(({__scopeCheckbox:e,...n},i)=>{let{control:o,hasConsumerStoppedPropagationRef:s,checked:c,defaultChecked:d,required:p,disabled:h,name:b,value:x,form:w,bubbleInput:S,setBubbleInput:E}=Wd(oy,e),D=Fb(i,E),M=T4(c),F=q4(o);It.useEffect(()=>{let K=S;if(!K)return;let V=window.HTMLInputElement.prototype,ce=Object.getOwnPropertyDescriptor(V,"checked").set,he=!s.current;if(M!==c&&ce){let B=new Event("click",{bubbles:he});K.indeterminate=Bi(c),ce.call(K,Bi(c)?!1:c),K.dispatchEvent(B)}},[S,M,c,s]);let J=It.useRef(Bi(c)?!1:c);return(0,q.jsx)(tm.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??J.current,required:p,disabled:h,name:b,value:x,form:w,...n,tabIndex:-1,ref:D,style:{...n.style,...F,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});sy.displayName=oy;function xS(e){return typeof e=="function"}function Bi(e){return e==="indeterminate"}function ly(e){return Bi(e)?"indeterminate":e?"checked":"unchecked"}let cy;cy=dn(Br()),jl=It.forwardRef((e,n)=>{let i=(0,cy.c)(10),o,s;i[0]===e?(o=i[1],s=i[2]):({className:o,...s}=e,i[0]=e,i[1]=o,i[2]=s);let c;i[3]===o?c=i[4]:(c=mu("flex items-center justify-center peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",o),i[3]=o,i[4]=c);let d;i[5]===Symbol.for("react.memo_cache_sentinel")?(d=(0,q.jsx)(ay,{className:mu("flex items-center justify-center text-current max-h-[14px] overflow-hidden"),children:(0,q.jsx)(C4,{className:"h-4 w-4"})}),i[5]=d):d=i[5];let p;return i[6]!==s||i[7]!==n||i[8]!==c?(p=(0,q.jsx)(Ud,{ref:n,className:c,...s,children:d}),i[6]=s,i[7]=n,i[8]=c,i[9]=p):p=i[9],p}),jl.displayName=Ud.displayName,xw="_";var kS=new Set("__*.marimo.app.False.None.True.__peg_parser__.and.as.assert.async.await.break.class.continue.def.del.elif.else.except.finally.for.from.global.if.import.in.is.lambda.nonlocal.not.or.pass.raise.return.try.while.with.yield.None.setup".split("."));Dm=function(e,n=!0){return e=e.trim(),e?(/^\d/.test(e)&&(e=`_${e}`),e=e.replaceAll(/\W/g,"_"),n?e.toLowerCase():e):"_"},Mw=function(e,n){let i=new Set(n),o=e,s=d=>!i.has(d)&&!kS.has(d);if(s(e))return e;let c=1;for(;!s(o);)o=`${e}_${c}`,c++;return o},jw=function(e,n){return Pm(e)?`cell-${n}`:e},Pm=function(e){return e?e==="_"||e==="__":!0};var CS=dn(Br());function SS(e){let n=(0,CS.c)(15),{minWidth:i,padding:o}=e,s=i===void 0?70:i,c=o===void 0?15:o,[d,p]=(0,It.useState)(50),h=(0,It.useRef)(null),b=(0,It.useRef)(null),x;n[0]===c?x=n[1]:(x=B=>{if(b.current&&h.current){let W=b.current;W.style.fontSize=window.getComputedStyle(h.current).fontSize,W.style.fontFamily=window.getComputedStyle(h.current).fontFamily,W.textContent=B;let ue=W.offsetWidth;p(ue+c)}},n[0]=c,n[1]=x);let w=x,S;n[2]===w?S=n[3]:(S=()=>{var B;w(((B=h.current)==null?void 0:B.value)??"")},n[2]=w,n[3]=S),F4(S);let E;n[4]===w?E=n[5]:(E=B=>{w(B.target.value)},n[4]=w,n[5]=E);let D=`${d}px`,M=`${s}px`,F;n[6]!==D||n[7]!==M?(F={width:D,minWidth:M},n[6]=D,n[7]=M,n[8]=F):F=n[8];let J;n[9]!==E||n[10]!==F?(J={ref:h,type:"text",onChange:E,style:F},n[9]=E,n[10]=F,n[11]=J):J=n[11];let K=J,V;n[12]===Symbol.for("react.memo_cache_sentinel")?(V={ref:b,style:{visibility:"hidden",position:"absolute",whiteSpace:"pre"}},n[12]=V):V=n[12];let ce=V,he;return n[13]===K?he=n[14]:(he={inputProps:K,spanProps:ce},n[13]=K,n[14]=he),he}var ES=dn(Br());function TS({currentQuotePrefix:e,checked:n,prefix:i}){let o=e;return n?e===""?o=i:e!=="rf"&&i!==e&&(o="rf"):e===i?o="":e==="rf"&&(o=i==="r"?"f":"r"),o}const RS=()=>{let e=(0,ES.c)(2),n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,q.jsxs)("section",{className:"flex flex-col gap-0.5",children:[(0,q.jsxs)("header",{className:"flex items-center gap-1",children:[(0,q.jsx)("code",{className:"text-xs px-1 py-0.5 bg-(--slate-2) rounded",children:"r"}),(0,q.jsx)("span",{className:"font-semibold",children:"Raw String"})]}),(0,q.jsx)("p",{className:"text-sm text-muted-foreground",children:"Write LaTeX without escaping special characters"}),(0,q.jsx)("pre",{className:"text-xs bg-(--slate-2) p-2 rounded",children:"\\alpha \\beta"})]}),e[0]=n):n=e[0];let i;return e[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,q.jsxs)("div",{className:"flex flex-col gap-3.5",children:[n,(0,q.jsxs)("section",{className:"flex flex-col gap-0.5",children:[(0,q.jsxs)("header",{className:"flex items-center gap-1",children:[(0,q.jsx)("code",{className:"text-xs px-1 py-0.5 bg-(--slate-2) rounded",children:"f"}),(0,q.jsx)("span",{className:"font-semibold",children:"Format String"})]}),(0,q.jsx)("p",{className:"text-sm text-muted-foreground",children:"Interpolate Python values"}),(0,q.jsxs)("pre",{className:"text-xs bg-(--slate-2) p-2 rounded",children:["Hello ","{name}","! \u{1F601}"]})]})]}),e[1]=i):i=e[1],i};var DS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eClickHouse%3c/title%3e%3cpath%20d='M21.333%2010H24v4h-2.667ZM16%201.335h2.667v21.33H16Zm-5.333%200h2.666v21.33h-2.666ZM0%2022.665V1.335h2.667v21.33zm5.333-21.33H8v21.33H5.333Z'/%3e%3c/svg%3e",OS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eDatabricks%3c/title%3e%3cpath%20d='M.95%2014.184L12%2020.403l9.919-5.55v2.21L12%2022.662l-10.484-5.96-.565.308v.77L12%2024l11.05-6.218v-4.317l-.515-.309L12%2019.118l-9.867-5.653v-2.21L12%2016.805l11.05-6.218V6.32l-.515-.308L12%2011.974%202.647%206.681%2012%201.388l7.76%204.368.668-.411v-.566L12%200%20.95%206.27v.72L12%2013.207l9.919-5.55v2.26L12%2015.52%201.516%209.56l-.565.308Z'/%3e%3c/svg%3e",PS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAGcElEQVR4nNxZa2wcVxU+99557M6+vLazj6xjO6+maWVTl0YpLU1DU9KARNqooQhFVYJUqUWgiocqIVRESPlRoEhIqYoqgSiCItqQPkAEKUWQtlGSJtAY00R5mTjZTfze94x3HvdedMdZnKgS6s7O2kk/a7R3xvY933fOd874yhhucCyYAIWA9IOH2r+35/HUnjU96sBC8fAERQLpj0+mXjdeXM6rzy/no88uK6zolHu97EX8p/f/IWHAv38i9bsH+kIPo/ozhAJBgpR9J419je437xb62Zc7n/tcf+gRsebADYQAxLW2N/ApL/vNq4AdA7Ht2/piT4q15fAp1wEYAGEALYA18TzT1TXQ09O75qPuKbWS8NW4Lan27/pM4gWrBIgFnaIDvKZIpPPKt+nlgpMTi0q5PKqoqvZR950XAREZaz/fmHmFOFijwGHkDDu5PKGs1SlQ5gAAQ+S9U9Y/xM+Wy+WxRvaeFwE770z+OBNQbmYWwPlp63BPh3q7XQaCxAi50gP7Tldf87J3ywVszEQ2bumOf5WZAAajeWoDJjYOMM5BCECEw9miefxwduaol/1b2sQdCon/8BOZX3ETYWYiODFhvrNUC6ylFgJqzl27DxV+xD3GaGkFnl6deS4G8mJqAmRrtaGkoqxiJnazPpt9gPNVa3DvqfKrXmO0rAJ3RSLrHojHd4jMMwvBSMn+d1pSVrv37oXdz50Hx79JOXgtQGsqIAEiT8V7djtVzEiQ4w+K+t9uCmn3uNmX5rL/l8ullw5c1g80E6slFXgkuuixJVKw3y5jxEzExnV7pB3k7rr3hZDBiZl3njk+9u1mY/legSgm0cfiXbtcTziYHJmovNEXC99PZzAV41KMzaLtXGBVmaQltWfCdPLNxPNdwFdii58KYykhXM2AO5MGvTSAgw9aLnUx8zlomCxTKdeHdP14s/F8tdAiIie2RpPfAPcPNYAjRumNOwLRLZwL2rPgHAGnCF6aHPuJ5869Cr5WYFs0/S0ZkTDns9SK1BltI/JicYcEcXAX8L5R+vOblanf+hHTNwFtWGr7QiT9BAPklnWoVt5/qxrZILQI7wvyjHPrjKkfeL0y9QID76Pzavhmoa3RzNdkLMcYEKCA4aJtncjIgVs4oFnbCCGASDtRVrw3Uz7sV1xfBKiAlc2RJV+vkz9vWYMZWesTa1ER5vYEgot27YPvjJ/dXGBOwY+44JeAdaHkQxpRU9QVQGDIrPz1FjV+f/3eFcaRFcdKosicsh8x6/ClBzaEu7YLoqJNDUonVKR0UCTuRT9w9wshpAzb+qmcY2b9iFlH0xVow0r81sCiz9azfdCY3rNWSzw8a5/ZZ2ItPv9UmfiFP7Tn0HQFPhlMbuKIyOKkhThjNc4rBCtRJl5jrvO5W4mSY+beMib/4A/tOTQtYCCY2kTdszmHE7X8/tWBTtf7s7S528IYELxcuviMycWZzF80baHVgdT6/00fu3oso7Tdwa5Ypt7Aw5Zx7M1K7pf+UL4WTVWgQwqnQ5LWLexTpfblEFaT7Jrsc3GMLDw7+a9tFDj1j/YcmqpAWkn06yhERaYP6ZdeHtC6tl6deYPx4q7xY5+/YFfP+kf5WniqQELp6J6hNaNdia8s4TCojkmrjOYVHGin7qsLQdYqvb976uijk455yX/ac/AkYNLKZx9Nb/kNQkAsLJNBW9+/Uk3eJzI/ZlUG36qcfv6MXf3nmtjtO/ZO/v27/tOeA/L6iyu0pfdu7/riATF93s0fffq+toGdM5zmJ+ziuRgJpWSEgy/mXlk/Zk2f8ZfytfDcxOeM828XHH04TAIJjOTgDAlIiPNEmgQTw9Xh146UBn/aavLgVUAmkLk5IkdXFh09l62NHloaWblZjFGMONjMrsTUjqV5qzjuP90Pw9MUmrKms/2x276U0pbcO2Hlh9qUzj6GMJiclk/q5/b+Ovfqg+P29LD/dD+MhnsgSMLhnlDvPQVrOrcmfufjF2cuvI0BqVlj5GDBKmQZsJbMe9+BAZP1yU3fF+tloVV3LzSfhtEbXrWhO7Ri3ULz8PwmzoRXfTqr/+ddf+k0Dk8CEGBMOWccmC8H82bgSUAmfNO6S/q5Bc8+eBUQDXWtz1VP36gCMC4xnfPrZFw2/I9uLZi6u2aXs7ZdGWkNpcbQcAU0LX2XYYxeF/YBLwIYs0twndjnY4H/BgAA//95CrBYRwImwgAAAABJRU5ErkJggg==",LS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eDuckDB%3c/title%3e%3cpath%20d='M12%200C5.363%200%200%205.363%200%2012s5.363%2012%2012%2012%2012-5.363%2012-12S18.637%200%2012%200zM9.502%207.03a4.974%204.974%200%200%201%204.97%204.97%204.974%204.974%200%200%201-4.97%204.97A4.974%204.974%200%200%201%204.532%2012a4.974%204.974%200%200%201%204.97-4.97zm6.563%203.183h2.351c.98%200%201.787.782%201.787%201.762s-.807%201.789-1.787%201.789h-2.351v-3.551z'/%3e%3c/svg%3e",MS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eGoogle%20BigQuery%3c/title%3e%3cpath%20d='M5.676%2010.595h2.052v5.244a5.892%205.892%200%200%201-2.052-2.088v-3.156zm18.179%2010.836a.504.504%200%200%201%200%20.708l-1.716%201.716a.504.504%200%200%201-.708%200l-4.248-4.248a.206.206%200%200%201-.007-.007c-.02-.02-.028-.045-.043-.066a10.736%2010.736%200%200%201-6.334%202.065C4.835%2021.599%200%2016.764%200%2010.799S4.835%200%2010.8%200s10.799%204.835%2010.799%2010.8c0%202.369-.772%204.553-2.066%206.333.025.017.052.028.074.05l4.248%204.248zm-5.028-10.632a8.015%208.015%200%201%200-8.028%208.028h.024a8.016%208.016%200%200%200%208.004-8.028zm-4.86%204.98a6.002%206.002%200%200%200%202.04-2.184v-1.764h-2.04v3.948zm-4.5.948c.442.057.887.08%201.332.072.4.025.8.025%201.2%200V7.692H9.468v9.035z'/%3e%3c/svg%3e",NS=""+new URL("iceberg-COKYXo-A.png",import.meta.url).href,IS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eMotherDuck%3c/title%3e%3cg%20transform='scale(0.85)%20translate(0,%202)'%3e%3cpath%20fill='%23ff9538'%20d='M1.71%2015.86s7.45%205.32%207.89%205.59c.44.27%201.08.33%201.64.11.56-.22.98-.71%201.11-1.21s1.85-9.49%201.85-9.49c.02-.12.07-.48-.13-.83-.27-.47-.86-.71-1.38-.57-.42.12-.64.44-.7.55-.09.17-.26.45-.57.7-.24.19-.47.3-.58.34-.96.38-2.02.06-2.61-.72-.38-.48-1.04-.67-1.64-.43-.6.24-.94.84-.89%201.45.11.98-.44%201.94-1.4%202.32-.51.21-1.06.21-1.54.05-.12-.03-.51-.12-.89.09-.48.26-.74.84-.61%201.37.09.39.38.62.48.69z'%20/%3e%3cpath%20fill='%23ff9538'%20d='M14.12%204.21s2.65%208.76%202.83%209.24c.19.48.66.92%201.23%201.09.58.16%201.21.03%201.62-.28.41-.31%207.25-6.39%207.25-6.39.09-.08.35-.34.4-.74.07-.53-.25-1.09-.75-1.29-.4-.16-.78-.04-.89%200-.18.08-.48.2-.88.2-.3.01-.55-.05-.67-.08-.99-.28-1.64-1.18-1.63-2.16-.01-.61-.42-1.17-1.04-1.35-.62-.18-1.26.09-1.59.6-.51.84-1.53%201.27-2.52.99-.53-.15-.96-.48-1.25-.91-.07-.09-.33-.4-.76-.48-.54-.09-1.1.22-1.32.71-.16.37-.08.72-.04.84z'%20/%3e%3c/g%3e%3c/svg%3e",AS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eMySQL%3c/title%3e%3cpath%20d='M16.405%205.501c-.115%200-.193.014-.274.033v.013h.014c.054.104.146.18.214.273.054.107.1.214.154.32l.014-.015c.094-.066.14-.172.14-.333-.04-.047-.046-.094-.08-.14-.04-.067-.126-.1-.18-.153zM5.77%2018.695h-.927a50.854%2050.854%200%2000-.27-4.41h-.008l-1.41%204.41H2.45l-1.4-4.41h-.01a72.892%2072.892%200%2000-.195%204.41H0c.055-1.966.192-3.81.41-5.53h1.15l1.335%204.064h.008l1.347-4.064h1.095c.242%202.015.384%203.86.428%205.53zm4.017-4.08c-.378%202.045-.876%203.533-1.492%204.46-.482.716-1.01%201.073-1.583%201.073-.153%200-.34-.046-.566-.138v-.494c.11.017.24.026.386.026.268%200%20.483-.075.647-.222.197-.18.295-.382.295-.605%200-.155-.077-.47-.23-.944L6.23%2014.615h.91l.727%202.36c.164.536.233.91.205%201.123.4-1.064.678-2.227.835-3.483zm12.325%204.08h-2.63v-5.53h.885v4.85h1.745zm-3.32.135l-1.016-.5c.09-.076.177-.158.255-.25.433-.506.648-1.258.648-2.253%200-1.83-.718-2.746-2.155-2.746-.704%200-1.254.232-1.65.697-.43.508-.646%201.256-.646%202.245%200%20.972.19%201.686.574%202.14.35.41.877.615%201.583.615.264%200%20.506-.033.725-.098l1.325.772.36-.622zM15.5%2017.588c-.225-.36-.337-.94-.337-1.736%200-1.393.424-2.09%201.27-2.09.443%200%20.77.167.977.5.224.362.336.936.336%201.723%200%201.404-.424%202.108-1.27%202.108-.445%200-.77-.167-.978-.5zm-1.658-.425c0%20.47-.172.856-.516%201.156-.344.3-.803.45-1.384.45-.543%200-1.064-.172-1.573-.515l.237-.476c.438.22.833.328%201.19.328.332%200%20.593-.073.783-.22a.754.754%200%2000.3-.615c0-.33-.23-.61-.648-.845-.388-.213-1.163-.657-1.163-.657-.422-.307-.632-.636-.632-1.177%200-.45.157-.81.47-1.085.315-.278.72-.415%201.22-.415.512%200%20.98.136%201.4.41l-.213.476a2.726%202.726%200%2000-1.064-.23c-.283%200-.502.068-.654.206a.685.685%200%2000-.248.524c0%20.328.234.61.666.85.393.215%201.187.67%201.187.67.433.305.648.63.648%201.168zm9.382-5.852c-.535-.014-.95.04-1.297.188-.1.04-.26.04-.274.167.055.053.063.14.11.214.08.134.218.313.346.407.14.11.28.216.427.31.26.16.555.255.81.416.145.094.293.213.44.313.073.05.12.14.214.172v-.02c-.046-.06-.06-.147-.105-.214-.067-.067-.134-.127-.2-.193a3.223%203.223%200%2000-.695-.675c-.214-.146-.682-.35-.77-.595l-.013-.014c.146-.013.32-.066.46-.106.227-.06.435-.047.67-.106.106-.027.213-.06.32-.094v-.06c-.12-.12-.21-.283-.334-.395a8.867%208.867%200%2000-1.104-.823c-.21-.134-.476-.22-.697-.334-.08-.04-.214-.06-.26-.127-.12-.146-.19-.34-.275-.514a17.69%2017.69%200%2001-.547-1.163c-.12-.262-.193-.523-.34-.763-.69-1.137-1.437-1.826-2.586-2.5-.247-.14-.543-.2-.856-.274-.167-.008-.334-.02-.5-.027-.11-.047-.216-.174-.31-.235-.38-.24-1.364-.76-1.644-.072-.18.434.267.862.422%201.082.115.153.26.328.34.5.047.116.06.235.107.356.106.294.207.622.347.897.073.14.153.287.247.413.054.073.146.107.167.227-.094.136-.1.334-.154.5-.24.757-.146%201.693.194%202.25.107.166.362.534.703.393.3-.12.234-.5.32-.835.02-.08.007-.133.048-.187v.015c.094.188.188.367.274.555.206.328.566.668.867.895.16.12.287.328.487.402v-.02h-.015c-.043-.058-.1-.086-.154-.133a3.445%203.445%200%2001-.35-.4%208.76%208.76%200%2001-.747-1.218c-.11-.21-.202-.436-.29-.643-.04-.08-.04-.2-.107-.24-.1.146-.247.273-.32.453-.127.288-.14.642-.188%201.01-.027.007-.014%200-.027.014-.214-.052-.287-.274-.367-.46-.2-.475-.233-1.238-.06-1.785.047-.14.247-.582.167-.716-.042-.127-.174-.2-.247-.303a2.478%202.478%200%2001-.24-.427c-.16-.374-.24-.788-.414-1.162-.08-.173-.22-.354-.334-.513-.127-.18-.267-.307-.368-.52-.033-.073-.08-.194-.027-.274.014-.054.042-.075.094-.09.088-.072.335.022.422.062.247.1.455.194.662.334.094.066.195.193.315.226h.14c.214.047.455.014.655.073.355.114.675.28.962.46a5.953%205.953%200%20012.085%202.286c.08.154.115.295.188.455.14.33.313.663.455.982.14.315.275.636.476.897.1.14.502.213.682.286.133.06.34.115.46.188.23.14.454.3.67.454.11.076.443.243.463.378z'/%3e%3c/svg%3e",uy=""+new URL("postgresql-q8VEBKGg.svg",import.meta.url).href,jS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eAmazon%20Redshift%3c/title%3e%3cpath%20d='M16.639%209.932a.822.822%200%200%201-.822-.82.823.823%200%200%201%201.645%200c0%20.452-.37.82-.823.82m-2.086%204.994a.823.823%200%200%201-.822-.822.822.822%200%200%201%201.645%200%20.822.822%200%200%201-.823.822m-5.004-.833a.822.822%200%201%201%20.002-1.644.822.822%200%200%201-.002%201.644m-2.083%204.578a.823.823%200%200%201-.823-.82.823.823%200%200%201%201.645%200c0%20.452-.37.82-.822.82m9.173-11.236a1.68%201.68%200%200%200-1.68%201.676c0%20.566.285%201.066.718%201.37l-.782%201.982a1.674%201.674%200%200%200-1.923%201.104l-1.753-.398a1.675%201.675%200%200%200-3.348.103c0%20.432.169.823.438%201.12l-.764%201.79c-.028-.001-.053-.008-.08-.008a1.68%201.68%200%200%200-1.68%201.676%201.68%201.68%200%200%200%203.36%200c0-.593-.312-1.112-.778-1.41l.674-1.579c.161.052.33.088.508.088.661%200%201.228-.386%201.502-.94l1.856.42a1.68%201.68%200%200%200%203.327-.325c0-.5-.224-.943-.574-1.25l.822-2.083c.053.005.104.016.157.016a1.68%201.68%200%200%200%201.68-1.676%201.68%201.68%200%200%200-1.68-1.676M12%2023.145c-4.17%200-7.286-1.252-7.286-2.37V4.79C6.14%205.938%209.131%206.547%2012%206.547c2.869%200%205.86-.609%207.286-1.756v15.983c0%201.12-3.116%202.37-7.286%202.37M12%20.856c4.293%200%207.286%201.274%207.286%202.419%200%201.143-2.993%202.418-7.286%202.418-4.293%200-7.286-1.275-7.286-2.418C4.714%202.129%207.707.855%2012%20.855m8.143%202.419C20.143%201.147%2015.947%200%2012%200%208.052%200%203.857%201.147%203.857%203.274l.002.01h-.002v17.49C3.857%2022.87%208.052%2024%2012%2024c3.947%200%208.143-1.13%208.143-3.226V3.284h-.002l.002-.01'/%3e%3c/svg%3e",qS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eSnowflake%3c/title%3e%3cpath%20d='M24%203.459c0%20.646-.418%201.18-1.141%201.18-.723%200-1.142-.534-1.142-1.18%200-.647.419-1.18%201.142-1.18.723%200%201.141.533%201.141%201.18zm-.228%200c0-.533-.38-.951-.913-.951s-.913.38-.913.95c0%20.533.38.952.913.952.57%200%20.913-.419.913-.951zm-1.37-.533h.495c.266%200%20.456.152.456.38%200%20.153-.076.229-.19.305l.19.266v.038h-.266l-.19-.266h-.229v.266h-.266zm.495.228h-.229v.267h.229c.114%200%20.152-.038.152-.114.038-.077-.038-.153-.152-.153zM7.602%2012.4c.038-.151.076-.304.076-.456%200-.114-.038-.228-.038-.342-.114-.343-.304-.647-.646-.838l-4.87-2.777c-.685-.38-1.56-.152-1.94.533-.381.685-.153%201.56.532%201.94l2.701%201.56-2.701%201.56c-.685.38-.913%201.256-.533%201.94.38.685%201.256.914%201.94.533l4.832-2.777c.343-.267.571-.533.647-.876zm1.332%202.626c-.266-.038-.57.038-.837.19l-4.832%202.777c-.685.38-.913%201.256-.532%201.94.38.686%201.255.914%201.94.533l2.701-1.56v3.12c0%20.8.647%201.408%201.446%201.408.799%200%201.407-.647%201.407-1.408v-5.592c0-.761-.57-1.37-1.293-1.408zm4.946-6.088c.266.038.57-.038.837-.19l4.832-2.777c.685-.38.913-1.256.532-1.94-.38-.686-1.255-.914-1.94-.533l-2.701%201.56V1.975c0-.799-.647-1.408-1.446-1.408-.799%200-1.446.609-1.446%201.408V7.53c0%20.76.609%201.37%201.332%201.407zM3.265%205.97l4.832%202.777c.266.152.533.19.837.19.723-.038%201.331-.684%201.331-1.407V1.975c0-.799-.646-1.408-1.407-1.408-.799%200-1.446.647-1.446%201.408v3.12l-2.701-1.56c-.685-.38-1.56-.152-1.94.533-.419.646-.19%201.521.494%201.902zm9.093%206.011a.412.412%200%2000-.114-.266l-.57-.571a.346.346%200%2000-.267-.114.412.412%200%2000-.266.114l-.571.57a.411.411%200%2000-.114.267c0%20.076.038.19.114.267l.57.57a.345.345%200%2000.267.114c.076%200%20.19-.038.266-.114l.571-.57a.412.412%200%2000.114-.267zm1.598.533L11.94%2014.53c-.039.038-.153.114-.229.114h-.608a.411.411%200%2001-.267-.114L8.82%2012.514a.408.408%200%2001-.076-.229v-.608c0-.076.038-.19.114-.267l2.016-2.016a.41.41%200%2001.267-.114h.608a.41.41%200%2001.267.114l2.016%202.016a.347.347%200%2001.114.267v.608c-.076.077-.114.19-.19.229zm5.593%205.44l-4.832-2.777c-.266-.152-.57-.19-.837-.152-.723.038-1.332.684-1.332%201.408v5.554c0%20.8.647%201.408%201.408%201.408.799%200%201.446-.647%201.446-1.408v-3.12l2.7%201.56c.686.38%201.561.152%201.941-.533.419-.646.19-1.521-.494-1.94zm2.549-7.533l-2.701%201.56%202.7%201.56c.686.38.914%201.256.533%201.94-.38.685-1.255.913-1.94.533l-4.832-2.778a1.644%201.644%200%2001-.647-.798c-.037-.153-.076-.305-.076-.457%200-.114.039-.228.039-.342.114-.343.342-.647.646-.837l4.832-2.778c.685-.38%201.56-.152%201.94.533.457.609.19%201.484-.494%201.864'/%3e%3c/svg%3e",zS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eApache%20Spark%3c/title%3e%3cpath%20d='M10.812%200c-.425.013-.845.215-1.196.605a3.593%203.593%200%2000-.493.722c-.355.667-.425%201.415-.556%202.143a551.9%20551.9%200%2000-.726%204.087c-.027.16-.096.227-.244.273C5.83%208.386%204.06%208.94%202.3%209.514c-.387.125-.773.289-1.114.506-1.042.665-1.196%201.753-.415%202.71.346.422.79.715%201.284.936%201.1.49%202.202.976%203.3%201.47.019.01.036.013.053.019h-.004l1.306.535c0%20.023.002.045%200%20.073-.2%202.03-.39%204.063-.58%206.095-.04.419-.012.831.134%201.23.317.87%201.065%201.148%201.881.701.372-.204.666-.497.937-.818%201.372-1.623%202.746-3.244%204.113-4.872.111-.133.205-.15.363-.098.349.117.697.231%201.045.347h.001c.02.012.045.02.073.03l.142.042c1.248.416%202.68.775%203.929%201.19.4.132.622.164%201.045.098.311-.048.592-.062.828-.236.602-.33.995-.957.988-1.682-.005-.427-.154-.813-.35-1.186-.82-1.556-1.637-3.113-2.461-4.666-.078-.148-.076-.243.037-.375%201.381-1.615%202.756-3.236%204.133-4.855.272-.32.513-.658.653-1.058.308-.878-.09-1.57-1-1.741a2.783%202.783%200%2000-1.235.069c-1.974.521-3.947%201.041-5.918%201.57-.175.047-.26.015-.355-.144a353.08%20353.08%200%2000-2.421-4.018%204.61%204.61%200%2000-.652-.849c-.371-.37-.802-.549-1.227-.536zm.172%203.703a.592.592%200%2001.189.211c.87%201.446%201.742%202.89%202.609%204.338.07.118.135.16.277.121%201.525-.41%203.052-.813%204.579-1.217.367-.098.735-.193%201.103-.289a.399.399%200%2001-.1.2c-1.259%201.48-2.516%202.962-3.779%204.438-.11.13-.12.22-.04.37.937%201.803%201.768%203.309%202.498%204.76l-3.696-1.019c-.538-.18-1.077-.358-1.615-.539-.163-.055-.25-.03-.36.1-1.248%201.488-2.504%202.97-3.759%204.454a.398.398%200%2001-.18.132c.035-.378.068-.757.104-1.136.149-1.572.297-3.144.451-4.716-.03-.318.117-.405-.322-.545-1.493-.593-3.346-1.321-4.816-1.905a.595.595%200%2001.24-.134c1.797-.57%203.595-1.14%205.394-1.705.127-.04.199-.092.211-.233.013-.148.05-.294.076-.441.241-1.363.483-2.726.726-4.088.068-.386.14-.771.21-1.157z'/%3e%3c/svg%3e",FS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eSQLite%3c/title%3e%3cpath%20d='M21.678.521c-1.032-.92-2.28-.55-3.513.544a8.71%208.71%200%200%200-.547.535c-2.109%202.237-4.066%206.38-4.674%209.544.237.48.422%201.093.544%201.561a13.044%2013.044%200%200%201%20.164.703s-.019-.071-.096-.296l-.05-.146a1.689%201.689%200%200%200-.033-.08c-.138-.32-.518-.995-.686-1.289-.143.423-.27.818-.376%201.176.484.884.778%202.4.778%202.4s-.025-.099-.147-.442c-.107-.303-.644-1.244-.772-1.464-.217.804-.304%201.346-.226%201.478.152.256.296.698.422%201.186.286%201.1.485%202.44.485%202.44l.017.224a22.41%2022.41%200%200%200%20.056%202.748c.095%201.146.273%202.13.5%202.657l.155-.084c-.334-1.038-.47-2.399-.41-3.967.09-2.398.642-5.29%201.661-8.304%201.723-4.55%204.113-8.201%206.3-9.945-1.993%201.8-4.692%207.63-5.5%209.788-.904%202.416-1.545%204.684-1.931%206.857.666-2.037%202.821-2.912%202.821-2.912s1.057-1.304%202.292-3.166c-.74.169-1.955.458-2.362.629-.6.251-.762.337-.762.337s1.945-1.184%203.613-1.72C21.695%207.9%2024.195%202.767%2021.678.521m-18.573.543A1.842%201.842%200%200%200%201.27%202.9v16.608a1.84%201.84%200%200%200%201.835%201.834h9.418a22.953%2022.953%200%200%201-.052-2.707c-.006-.062-.011-.141-.016-.2a27.01%2027.01%200%200%200-.473-2.378c-.121-.47-.275-.898-.369-1.057-.116-.197-.098-.31-.097-.432%200-.12.015-.245.037-.386a9.98%209.98%200%200%201%20.234-1.045l.217-.028c-.017-.035-.014-.065-.031-.097l-.041-.381a32.8%2032.8%200%200%201%20.382-1.194l.2-.019c-.008-.016-.01-.038-.018-.053l-.043-.316c.63-3.28%202.587-7.443%204.8-9.791.066-.069.133-.128.198-.194Z'/%3e%3c/svg%3e",BS="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!--%20Generated%20by%20Pixelmator%20Pro%203.6.17%20--%3e%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Option2SymbolB'%3e%3cg%20id='Layer1-2'%3e%3cg%20id='Group'%20opacity='0.4'%3e%3cpath%20id='Path'%20fill='%23d53c97'%20stroke='none'%20d='M%2017.016802%2012.188573%20C%2017.016802%209.607646%2015.86018%207.293022%2014.039526%205.731081%20C%2013.942595%205.70038%2013.844628%205.671406%2013.745972%205.645189%20C%2013.131133%205.809095%2012.54265%206.059378%2011.998103%206.388559%20C%2013.964327%207.575191%2015.281006%209.730104%2015.281006%2012.188573%20C%2015.279476%2014.563734%2014.033739%2016.764488%2011.998103%2017.988243%20C%2012.542634%2018.317537%2013.131119%2018.567936%2013.745972%2018.731958%20C%2013.844628%2018.705742%2013.942595%2018.67642%2014.039526%2018.645721%20C%2015.86018%2017.084126%2017.016802%2014.769501%2017.016802%2012.188573%20Z'/%3e%3cpath%20id='path1'%20fill='%23d53c97'%20stroke='none'%20d='M%2013.897406%205.609659%20L%2013.894991%205.60759%20C%2013.844973%205.619663%2013.7953%205.631737%2013.745972%205.645189%20C%2013.79599%205.631737%2013.847043%205.622078%2013.897406%205.609659%20Z'/%3e%3cpath%20id='path2'%20fill='%23d53c97'%20stroke='none'%20d='M%201.735796%2012.188573%20C%201.735796%209.164728%203.728925%206.59622%206.470945%205.729357%20C%207.554634%204.797861%208.856011%204.155121%2010.254373%203.860756%20C%209.680216%203.740549%209.095179%203.679977%208.508574%203.68%20C%203.816888%203.68%20-0%207.496887%20-0%2012.188573%20C%20-0%2016.880259%203.816888%2020.697147%208.508574%2020.697147%20C%209.0952%2020.697229%209.680255%2020.636539%2010.254373%2020.516048%20C%208.855971%2020.221794%207.554568%2019.579041%206.470945%2018.647446%20C%203.728925%2017.780582%201.735796%2015.213453%201.735796%2012.188573%20Z'/%3e%3cpath%20id='path3'%20fill='%23d53c97'%20stroke='none'%20d='M%2013.745972%2018.731958%20C%2013.7953%2018.745068%2013.844973%2018.757484%2013.894991%2018.769558%20C%2013.894991%2018.769558%2013.896715%2018.769558%2013.897406%2018.767488%20C%2013.847043%2018.754379%2013.79599%2018.745411%2013.745972%2018.731958%20Z'/%3e%3c/g%3e%3cpath%20id='path4'%20fill='%23ff3b65'%20stroke='none'%20d='M%2020.508402%2012.188573%20C%2020.508402%209.606611%2019.351088%207.290262%2017.5294%205.729357%20C%2016.301817%205.342468%2014.989366%205.313629%2013.745972%205.646223%20C%2016.636665%206.418224%2018.772606%209.058484%2018.772606%2012.189609%20C%2018.772606%2015.320732%2016.636665%2017.960991%2013.745972%2018.731958%20C%2014.98947%2019.064316%2016.301983%2019.034998%2017.5294%2018.647446%20C%2019.419907%2017.034296%2020.508638%2014.673781%2020.508402%2012.188573%20Z'/%3e%3cpath%20id='path5'%20fill='%23ff3b65'%20stroke='none'%20d='M%209.962543%2018.647446%20C%207.220525%2017.780582%205.227395%2015.213453%205.227395%2012.188573%20C%205.227395%209.163693%207.220525%206.59622%209.962543%205.729357%20C%2011.046233%204.797861%2012.34761%204.155121%2013.745972%203.860756%20C%2013.171818%203.74053%2012.586779%203.679956%2012.000173%203.68%20C%207.308832%203.68%203.491599%207.496887%203.491599%2012.188573%20C%203.491599%2016.880259%207.308487%2020.697147%2012.000173%2020.697147%20C%2012.586799%2020.697247%2013.171857%2020.636557%2013.745972%2020.516048%20C%2012.34757%2020.221794%2011.046167%2019.579041%209.962543%2018.647446%20Z'/%3e%3cpath%20id='path6'%20fill='%23383838'%20stroke='none'%20d='M%2015.491772%203.68%20C%2010.800431%203.68%206.983198%207.496887%206.983198%2012.188573%20C%206.983198%2016.880259%2010.800086%2020.697147%2015.491772%2020.697147%20C%2020.183456%2020.697147%2024%2016.880259%2024%2012.188573%20C%2024%207.496887%2020.183456%203.68%2015.491772%203.68%20Z%20M%2022.264549%2012.188573%20C%2022.264549%2015.923018%2019.226215%2018.961351%2015.491772%2018.961351%20C%2011.757326%2018.961351%208.718994%2015.923018%208.718994%2012.188573%20C%208.718994%208.454128%2011.757326%205.415796%2015.491772%205.415796%20C%2019.226215%205.415796%2022.264549%208.454128%2022.264549%2012.188573%20Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",VS=""+new URL("trino-DFsJbQoT.svg",import.meta.url).href,$S=dn(Br()),HS={sqlite:FS,duckdb:LS,motherduck:IS,postgres:uy,postgresql:uy,mysql:AS,snowflake:qS,databricks:OS,clickhouse:DS,timeplus:BS,bigquery:MS,trino:VS,iceberg:NS,datafusion:PS,pyspark:zS,redshift:jS};Em=e=>{let n=(0,$S.c)(11),{name:i,className:o}=e,s=HS[i.toLowerCase()];if(!s){let p;n[0]===o?p=n[1]:(p=mu("mt-0.5",o),n[0]=o,n[1]=p);let h;return n[2]===p?h=n[3]:(h=(0,q.jsx)(ms,{className:p}),n[2]=p,n[3]=h),h}let c;n[4]!==o||n[5]!==s?(c=mu("invert-[.5] dark:invert-[.7]",o,s.endsWith(".png")&&"brightness-100 dark:brightness-100 invert-0 dark:invert-0"),n[4]=o,n[5]=s,n[6]=c):c=n[6];let d;return n[7]!==i||n[8]!==c||n[9]!==s?(d=(0,q.jsx)("img",{src:s,alt:i,className:c}),n[7]=i,n[8]=c,n[9]=s,n[10]=d):d=n[10],d};var Kd=dn(Br());const WS=e=>{let n=(0,Kd.c)(27),{selectedEngine:i,onChange:o}=e,s=Kn(Du),c=[],d=[];for(let[ye,xe]of s.entries())fo.has(ye)?c.push(xe):d.push(xe);let p=N4(),h=i&&!s.has(i),b;n[0]!==s||n[1]!==o||n[2]!==p?(b=ye=>{if(ye===dy){window.open(fy,"_blank");return}let xe=s.get(ye);xe&&(p(),o(xe.name),Dg(xe.name))},n[0]=s,n[1]=o,n[2]=p,n[3]=b):b=n[3];let x=b,w=JS,S=P4,E;n[4]===Symbol.for("react.memo_cache_sentinel")?(E=(0,q.jsx)(KS,{children:(0,q.jsx)(E4,{placeholder:"Select an engine"})}),n[4]=E):E=n[4];let D=R4,M=D4,F;n[5]===Symbol.for("react.memo_cache_sentinel")?(F=(0,q.jsx)(S4,{children:"Database connections"}),n[5]=F):F=n[5];let J;n[6]!==h||n[7]!==i?(J=h&&(0,q.jsx)(em,{value:i,children:(0,q.jsxs)("div",{className:"flex items-center gap-1 opacity-50",children:[(0,q.jsx)(ym,{className:"h-3 w-3"}),(0,q.jsx)("span",{className:"truncate",children:Mg(i)})]})},i),n[6]=h,n[7]=i,n[8]=J):J=n[8];let K=w(d),V=d.length>0&&(0,q.jsx)(d2,{}),ce=w(c),he;n[9]===Symbol.for("react.memo_cache_sentinel")?(he=(0,q.jsx)(d2,{}),n[9]=he):he=n[9];let B;n[10]===Symbol.for("react.memo_cache_sentinel")?(B=(0,q.jsx)(em,{className:"text-muted-foreground",value:dy,children:(0,q.jsxs)("a",{className:"flex items-center gap-1",href:fy,target:"_blank",rel:"noreferrer",children:[(0,q.jsx)(M4,{className:"h-3 w-3"}),(0,q.jsx)("span",{children:"How to add a database connection"})]})}),n[10]=B):B=n[10];let W;n[11]!==M||n[12]!==F||n[13]!==J||n[14]!==K||n[15]!==V||n[16]!==ce?(W=(0,q.jsxs)(M,{children:[F,J,K,V,ce,he,B]}),n[11]=M,n[12]=F,n[13]=J,n[14]=K,n[15]=V,n[16]=ce,n[17]=W):W=n[17];let ue;n[18]!==D||n[19]!==W?(ue=(0,q.jsx)(D,{children:W}),n[18]=D,n[19]=W,n[20]=ue):ue=n[20];let be;return n[21]!==S||n[22]!==x||n[23]!==i||n[24]!==ue||n[25]!==E?(be=(0,q.jsx)("div",{className:"flex flex-row gap-1 items-center",children:(0,q.jsxs)(S,{value:i,onValueChange:x,children:[E,ue]})}),n[21]=S,n[22]=x,n[23]=i,n[24]=ue,n[25]=E,n[26]=be):be=n[26],be};var dy="__help__",fy="http://docs.marimo.io/guides/working_with_data/sql/#connecting-to-a-custom-database";const US=()=>{let e=(0,Kd.c)(16),{sqlMode:n,setSQLMode:i}=iS(),o;e[0]!==i||e[1]!==n?(o=()=>{let E=n==="validate"?"default":"validate";E==="default"&&qC(),i(E)},e[0]=i,e[1]=n,e[2]=o):o=e[2];let s=o,c=XS,d=YS,p;e[3]===n?p=e[4]:(p=d(n),e[3]=n,e[4]=p);let h;e[5]===n?h=e[6]:(h=c(n),e[5]=n,e[6]=h);let b=n==="validate"?"Validate":"Default",x;e[7]===b?x=e[8]:(x=(0,q.jsx)("span",{className:"ml-1",children:b}),e[7]=b,e[8]=x);let w;e[9]!==s||e[10]!==h||e[11]!==x?(w=(0,q.jsxs)(Bb,{variant:"ghost",size:"sm",onClick:s,className:"h-5 px-1.5 text-xs border-border shadow-none hover:bg-accent",children:[h,x]}),e[9]=s,e[10]=h,e[11]=x,e[12]=w):w=e[12];let S;return e[13]!==p||e[14]!==w?(S=(0,q.jsx)("div",{className:"flex flex-row gap-1 items-center",children:(0,q.jsx)(nm,{delayDuration:300,content:p,children:w})}),e[13]=p,e[14]=w,e[15]=S):S=e[15],S};var KS=e=>{let n=(0,Kd.c)(6),i,o;n[0]===e?(i=n[1],o=n[2]):({children:i,...o}=e,n[0]=e,n[1]=i,n[2]=o);let s;return n[3]!==i||n[4]!==o?(s=(0,q.jsx)(O4,{className:"text-xs border-border shadow-none! ring-0! h-5 px-1.5 hover:bg-accent transition-colors",...o,children:i}),n[3]=i,n[4]=o,n[5]=s):s=n[5],s};function QS(e){return e.source!=="iceberg"}function GS(e){return(0,q.jsx)(em,{value:e.name,children:(0,q.jsxs)("div",{className:"flex items-center gap-1",children:[(0,q.jsx)(Em,{className:"h-3 w-3",name:e.dialect}),(0,q.jsx)("span",{className:"truncate ml-0.5",children:Mg(e.display_name)})]})},e.name)}function JS(e){return e=e.filter(QS),e.map(GS)}function XS(e){return e==="validate"?(0,q.jsx)(Bd,{className:"h-3 w-3"}):(0,q.jsx)(Fd,{className:"h-3 w-3"})}function YS(e){return e==="validate"?(0,q.jsxs)("div",{className:"text-xs",children:[(0,q.jsxs)("div",{className:"font-semibold mb-1 flex flex-row items-center gap-1",children:[(0,q.jsx)(Bd,{className:"h-3 w-3"}),"Validate Mode"]}),(0,q.jsx)("p",{children:"Queries are validated as you write them"})]}):(0,q.jsxs)("div",{className:"text-xs",children:[(0,q.jsxs)("div",{className:"font-semibold mb-1 flex flex-row items-center gap-1",children:[(0,q.jsx)(Fd,{className:"h-3 w-3"}),"Default Mode"]}),(0,q.jsx)("p",{children:"Standard editing"})]})}var py=dn(Br()),my=()=>{let e=(0,py.c)(1),n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,q.jsx)("div",{className:"h-4 border-r border-border"}),e[0]=n):n=e[0],n};const ZS=e=>{let n=(0,py.c)(98),{view:i}=e,o;n[0]===Symbol.for("react.memo_cache_sentinel")?(o={minWidth:50},n[0]=o):o=n[0];let{spanProps:s,inputProps:c}=SS(o),d;n[1]===i.state?d=n[2]:(d=i.state.field(Er),n[1]=i.state,n[2]=d);let p=d,h;n[3]===Symbol.for("react.memo_cache_sentinel")?(h=(0,q.jsx)("div",{}),n[3]=h):h=n[3];let b=h,x=!1,w;n[4]===i?w=n[5]:(w=M=>{i.dispatch({effects:Ju.of(M),changes:{from:0,to:i.state.doc.length,insert:i.state.doc.toString()}})},n[4]=i,n[5]=w);let S=w;if(p instanceof Yu){let M;n[6]===i.state?M=n[7]:(M=i.state.field(ai),n[6]=i.state,n[7]=M);let F=M;x=!0;let J;n[8]===S?J=n[9]:(J=Re=>{let Pe=Dm(Re.currentTarget.value,!1);Re.currentTarget.value=Pe,S({dataframeName:Pe})},n[8]=S,n[9]=J);let K=J,V;n[10]!==S||n[11]!==i?(V=Re=>{S({engine:Re}),sS(i,Re)},n[10]=S,n[11]=i,n[12]=V):V=n[12];let ce=V,he;n[13]===Symbol.for("react.memo_cache_sentinel")?(he=(0,q.jsx)("span",{className:"select-none",children:"Output variable: "}),n[13]=he):he=n[13];let B;n[14]===c?B=n[15]:(B=Re=>{var Pe;(Pe=c.onChange)==null||Pe.call(c,Re)},n[14]=c,n[15]=B);let W;n[16]===K?W=n[17]:(W=Re=>{Re.key==="Enter"&&Re.shiftKey&&K(Re)},n[16]=K,n[17]=W);let ue;n[18]!==c||n[19]!==F.dataframeName||n[20]!==K||n[21]!==W||n[22]!==B?(ue=(0,q.jsx)("input",{...c,defaultValue:F.dataframeName,onChange:B,onBlur:K,onKeyDown:W,className:"min-w-14 w-auto border border-border rounded px-1 focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring"}),n[18]=c,n[19]=F.dataframeName,n[20]=K,n[21]=W,n[22]=B,n[23]=ue):ue=n[23];let be;n[24]===s?be=n[25]:(be=(0,q.jsx)("span",{...s}),n[24]=s,n[25]=be);let ye;n[26]!==ue||n[27]!==be?(ye=(0,q.jsxs)("label",{className:"flex gap-2 items-center",children:[he,ue,be]}),n[26]=ue,n[27]=be,n[28]=ye):ye=n[28];let xe;n[29]!==F.engine||n[30]!==ce?(xe=(0,q.jsx)(WS,{selectedEngine:F.engine,onChange:ce}),n[29]=F.engine,n[30]=ce,n[31]=xe):xe=n[31];let X;n[32]===F.engine?X=n[33]:(X=F.engine==="__marimo_duckdb"&&(0,q.jsx)(US,{}),n[32]=F.engine,n[33]=X);let _e;n[34]===i?_e=n[35]:(_e=async()=>{await D_(i)},n[34]=i,n[35]=_e);let Se;n[36]===Symbol.for("react.memo_cache_sentinel")?(Se=(0,q.jsx)(am,{className:"h-3 w-3"}),n[36]=Se):Se=n[36];let ae;n[37]===_e?ae=n[38]:(ae=(0,q.jsx)(nm,{content:"Format SQL",children:(0,q.jsx)(Bb,{variant:"text",size:"icon",onClick:_e,children:Se})}),n[37]=_e,n[38]=ae);let ne;n[39]===Symbol.for("react.memo_cache_sentinel")?(ne=(0,q.jsx)(my,{}),n[39]=ne):ne=n[39];let oe;n[40]===S?oe=n[41]:(oe=Re=>{S({showOutput:!Re.target.checked})},n[40]=S,n[41]=oe);let $=!F.showOutput,Ne;n[42]!==oe||n[43]!==$?(Ne=(0,q.jsx)("input",{type:"checkbox",onChange:oe,checked:$}),n[42]=oe,n[43]=$,n[44]=Ne):Ne=n[44];let Qe;n[45]===Symbol.for("react.memo_cache_sentinel")?(Qe=(0,q.jsx)("span",{className:"select-none",children:"Hide output"}),n[45]=Qe):Qe=n[45];let ut;n[46]===Ne?ut=n[47]:(ut=(0,q.jsxs)("label",{className:"flex items-center gap-2",children:[Ne,Qe]}),n[46]=Ne,n[47]=ut);let Fe;n[48]!==X||n[49]!==ae||n[50]!==ut?(Fe=(0,q.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[X,ae,ne,ut]}),n[48]=X,n[49]=ae,n[50]=ut,n[51]=Fe):Fe=n[51];let We;n[52]!==ye||n[53]!==xe||n[54]!==Fe?(We=(0,q.jsxs)("div",{className:"flex flex-1 gap-2 items-center",children:[ye,xe,Fe]}),n[52]=ye,n[53]=xe,n[54]=Fe,n[55]=We):We=n[55],b=We}if(p instanceof zl){x=!0;let M,F,J,K,V,ce,he,B,W,ue;if(n[56]!==S||n[57]!==i.state){let{quotePrefix:oe}=i.state.field(ai);F=oe,F===void 0&&(F="r",S({quotePrefix:F})),ue=($,Ne)=>{typeof Ne=="boolean"&&S({quotePrefix:TS({currentQuotePrefix:F,checked:Ne,prefix:$})})},J="flex flex-row w-full justify-end gap-1.5 items-center",B="flex items-center gap-1.5",n[68]===Symbol.for("react.memo_cache_sentinel")?(W=(0,q.jsx)("span",{children:"r"}),n[68]=W):W=n[68],M=jl,V="Toggle raw string",ce="w-3 h-3",he=F.includes("r"),K=$=>{ue("r",$)},n[56]=S,n[57]=i.state,n[58]=M,n[59]=F,n[60]=J,n[61]=K,n[62]=V,n[63]=ce,n[64]=he,n[65]=B,n[66]=W,n[67]=ue}else M=n[58],F=n[59],J=n[60],K=n[61],V=n[62],ce=n[63],he=n[64],B=n[65],W=n[66],ue=n[67];let be;n[69]!==M||n[70]!==K||n[71]!==V||n[72]!==ce||n[73]!==he?(be=(0,q.jsx)(M,{"aria-label":V,className:ce,checked:he,onCheckedChange:K}),n[69]=M,n[70]=K,n[71]=V,n[72]=ce,n[73]=he,n[74]=be):be=n[74];let ye;n[75]!==be||n[76]!==B||n[77]!==W?(ye=(0,q.jsxs)("div",{className:B,children:[W,be]}),n[75]=be,n[76]=B,n[77]=W,n[78]=ye):ye=n[78];let xe;n[79]===Symbol.for("react.memo_cache_sentinel")?(xe=(0,q.jsx)("span",{children:"f"}),n[79]=xe):xe=n[79];let X;n[80]===F?X=n[81]:(X=F.includes("f"),n[80]=F,n[81]=X);let _e;n[82]===ue?_e=n[83]:(_e=oe=>{ue("f",oe)},n[82]=ue,n[83]=_e);let Se;n[84]!==X||n[85]!==_e?(Se=(0,q.jsxs)("div",{className:"flex items-center gap-1.5",children:[xe,(0,q.jsx)(jl,{"aria-label":"Toggle f-string",className:"w-3 h-3",checked:X,onCheckedChange:_e})]}),n[84]=X,n[85]=_e,n[86]=Se):Se=n[86];let ae;n[87]===Symbol.for("react.memo_cache_sentinel")?(ae=(0,q.jsx)(nm,{content:(0,q.jsx)(RS,{}),children:(0,q.jsx)(Bu,{className:"w-3 h-3"})}),n[87]=ae):ae=n[87];let ne;n[88]!==J||n[89]!==ye||n[90]!==Se?(ne=(0,q.jsxs)("div",{className:J,children:[ye,Se,ae]}),n[88]=J,n[89]=ye,n[90]=Se,n[91]=ne):ne=n[91],b=ne}let E;n[92]===x?E=n[93]:(E=x&&(0,q.jsx)(my,{}),n[92]=x,n[93]=E);let D;return n[94]!==b||n[95]!==p.type||n[96]!==E?(D=(0,q.jsx)(z4,{children:(0,q.jsxs)("div",{className:"flex justify-between items-center gap-4 pl-2 pt-2",children:[b,E,p.type]})}),n[94]=b,n[95]=p.type,n[96]=E,n[97]=D):D=n[97],D};var Qd=new gu;Vu=ma.define(),Er=El.define({create(){return dr.python},update(e,n){for(let i of n.effects)if(i.is(Vu))return i.value;return e},provide:e=>Up.from(e,n=>n.type==="python"?null:i=>P_(i,ZS))});function e3(){let e=vS(),n=(i,o)=>{let s=e[o%e.length];return s.isSupported(i)?s:n(i,o+1)};return[io.of([{key:"F4",preventDefault:!0,run:i=>{let o=i.state.field(Er),s=e.findIndex(d=>d.type===o.type),c=n(i.state.doc.toString(),s+1);return o===c?!1:(hy({view:i,nextLanguage:c,opts:{keepCodeAsIs:!1}}),!0)}}])]}function hy({view:e,nextLanguage:n,opts:i}){let o=e.state.field(Er),s=e.state.doc.toString(),c=e.state.facet(gh),d=e.state.facet(yh),p=e.state.facet(od),h=e.state.facet(sd),b=e.state.facet(vh),x=e.state.field(ai),w=e.state.selection.main.head,S;if(i.keepCodeAsIs)S=s,o.type!==n.type&&(x={...n.defaultMetadata});else{let[E,D]=o.transformOut(s,x),[M,F,J]=n.transformIn(E);w+=D,w-=F,w=Qp(w,0,M.length),S=M,x=J}e.dispatch({effects:[Vu.of(n),Au.of(x),Qd.reconfigure(n.getExtension(h,c,d,p,b)),Gu.reconfigure([]),yo.of(!0)],changes:i.keepCodeAsIs?void 0:{from:0,to:e.state.doc.length,insert:S},selection:i.keepCodeAsIs?void 0:fn.cursor(w)}),e.dispatch({effects:[Gu.reconfigure([FT()])]}),n.type==="sql"&&lS(e)}uw=function(e){let{placeholderType:n,completionConfig:i,hotkeys:o,cellId:s,lspConfig:c}=e;return[e3(),Qd.of(dr.python.getExtension(s,i,o,n,c)),Er,ai]},Iw=function(e){return t3(oi({state:e}).trim())};function t3(e){return e?dr.markdown.isSupported(e)?dr.markdown:dr.sql.isSupported(e)?dr.sql:dr.python:dr.python}Bm=function(e,n){e.state.field(Er).type!==n.language&&hy({view:e,nextLanguage:dr[n.language],opts:{keepCodeAsIs:n.keepCodeAsIs??!1}})},gw=function(e,{completionConfig:n,hotkeysProvider:i,lspConfig:o}){let s=e.state.field(Er),c=e.state.facet(od),d=e.state.facet(sd);return Qd.reconfigure(s.getExtension(d,n,i,c,o))},oi=function(e,n,i){let o=e.state.field(Er),s=e.state.field(ai),c=e.state.doc.toString();return n===void 0?o.transformOut(c,s)[0]:o.transformOut(c.slice(n,i),s)[0]},ps=function(e,n){let[i]=e.state.field(Er).transformIn(n);return Wu(e,i),i};function n3(e){let n=e.state.selection.main.head,i=e.state.doc.toString(),o=i.length>0&&i[n-1]===`
`,s=i.length>0&&i[n]===`
`,c=o?n-1:n,d=s?n+1:n;return{beforeCursorCode:oi(e,0,c),afterCursorCode:oi(e,d)}}var r3=["marimo-carousel","marimo-tabs","marimo-accordion"];function i3(e){if(typeof DOMParser>"u")return null;let n=[],i=new DOMParser().parseFromString(e,"text/html").querySelectorAll("h1, h2, h3");for(let o of Array.from(i)){let s=o.textContent;if(r3.some(d=>o.closest(d))||!s)continue;let c=Number.parseInt(o.tagName[1],10);n.push({name:s,level:c,by:zm(o)})}return{items:n}}zm=function(e){let n=e.id;if(n)return{id:n};let i=e.textContent;return{path:`//${e.tagName}[contains(., "${i}")]`}};function a3(e){return{items:e.filter(Boolean).flatMap(n=>n.items)}}Im=function(e){if(e==null||e.mimetype!=="text/html"||e.data==null)return null;try{return kn(typeof e.data=="string","expected string"),i3(e.data)}catch{return Ae.error("Failed to parse outline"),null}},_w=function(e){return e==null?!1:e.items.some(n=>n.level<=3)};function gy(e,n){let i=d=>d.items.length===0?7:Math.min(...d.items.map(p=>p.level)),o=n[e];if(o==null||o.items.length===0)return Ae.warn("Failed to find a starting outline"),null;let s=i(o),c=e+1;for(;c<n.length;){let d=n[c];if(d&&i(d)<=s)return[e,c-1];c++}return[e,n.length-1]}xu=function(e){return e==="application/vnd.marimo+error"||e==="application/vnd.marimo+traceback"};function o3(e,n){if(typeof window>"u")return;let i=`__marimo__${n}`;window[i]&&Ae.warn(`Overwriting existing debug object ${i}`),window[i]=e}var s3={markdown:!0,wasm_layouts:!1,rtc_v2:!1,performant_table_charts:!1,chat_modes:!1,cache_panel:!1,external_agents:!1};Lu=function(e){var n,i;return((i=(n=Hp())==null?void 0:n.experimental)==null?void 0:i[e])??s3[e]};function l3(e,n){let i=Hp();i.experimental=i.experimental??{},i.experimental[e]=n,Li().saveUserConfig({config:i})}aw=({feature:e,children:n})=>Lu(e)?n:null,o3(l3,"setFeatureFlag"),tw=Eu("marimo:rtc:username",""),km=rm(()=>Lu("rtc_v2")),fm=class td{static fromMilliseconds(n){return n==null?null:new td(n)}static fromSeconds(n){return n==null?null:new td(n*1e3)}static now(){return new td(Date.now())}constructor(n){this.ms=n}toMilliseconds(){return this.ms}toSeconds(){return this.ms/1e3}};function c3(e,n=5e3){let i=[...e];if(i.length<2)return vy(yy(i),n);let o=i[i.length-1],s=i[i.length-2];return u3(o,s)&&(kn(typeof o.data=="string","expected string"),kn(typeof s.data=="string","expected string"),s.data+=o.data,i.pop()),vy(yy(i),n)}function u3(e,n){let i=e.mimetype==="text/plain"&&n.mimetype==="text/plain";if(!i)return!1;let o=e.channel===n.channel,s=e.channel!=="stdin";return i&&o&&s}function yy(e){let n=[...e];if(n.length===0)return n;let i=n[n.length-1];if(i.mimetype!=="text/plain")return n;let o=/\r[^\n]/g,s=i.data;kn(typeof s=="string","expected string");let c=s.search(o);for(;c>-1;){let d=-1;for(let x=c-1;x>=0;x--)if(s.at(x)===`
`){d=x;break}let p=s.slice(c+1),h=s.slice(0,d+1),b=s.slice(d+1,c);s=b.length<=p.length?h+p:h+p+b.slice(p.length),c=s.search(o)}return n[n.length-1]={...i,data:s},n}function vy(e,n){let i=0,o;for(o=e.length-1;o>=0&&i<n;o--){let p=e[o];p.mimetype==="text/plain"?(kn(typeof p.data=="string","expected string"),i+=p.data.split(`
`).length):i++}if(i<n)return e;let s=o+1,c={channel:"stderr",mimetype:"text/html",data:`<pre>Streaming output truncated to last ${n} lines.
</pre>`,timestamp:-1},d=e[s];if(d.mimetype==="text/plain"){kn(typeof d.data=="string","expected string");let p=d.data.split(`
`),h=n-(i-p.length);return[c,{...d,data:p.slice(-h).join(`
`)},...e.slice(s+1)]}return[c,...e.slice(s+1)]}function d3(e,n){let i={...e};switch(n.status){case"queued":i.interrupted=!1,i.errored=!1,i.runElapsedTimeMs=null,i.debuggerActive=!1;break;case"running":i.interrupted=!1,e.stopped&&(i.output=null),i.status==="queued"&&(i.consoleOutputs=[]),i.stopped=!1,i.runStartTimestamp=n.timestamp,i.lastRunStartTimestamp=n.timestamp;break;case"idle":e.runStartTimestamp&&(i.runElapsedTimeMs=fm.fromSeconds((n.timestamp??0)-e.runStartTimestamp).toMilliseconds(),i.runStartTimestamp=null,i.staleInputs=!1),!e.lastRunStartTimestamp&&n.timestamp&&(i.lastRunStartTimestamp=n.timestamp),i.debuggerActive=!1;break;case null:break;case"disabled-transitively":break;case void 0:break;default:f2(n.status)}i.output=n.output??i.output,i.staleInputs=n.stale_inputs??i.staleInputs,i.status=n.status??i.status,i.serialization=n.serialization;let o=!1;n.output!=null&&n.output.mimetype==="application/vnd.marimo+error"&&((i.status==="queued"||i.status==="running")&&(i.status="idle"),kn(Array.isArray(n.output.data),"Expected error output data to be an array"),n.output.data.some(d=>d.type==="interruption")?(i.interrupted=!0,o=!0):n.output.data.some(d=>d.type.includes("ancestor"))?i.stopped=!0:i.errored=!0);let s=e.consoleOutputs;o&&(i.debuggerActive=!1,s=s.map(d=>d.channel==="stdin"?{...d,response:d.response??""}:d)),n.console!==null&&(s=Array.isArray(n.console)?n.console:c3([...s,n.console].filter(Boolean))),i.consoleOutputs=s,i.outline=Im(i.output);let c=[n.console].flat().filter(Boolean).filter(d=>d.channel==="pdb");return c.length>0&&c.some(d=>d.data==="start")&&(i.debuggerActive=!0),i}function f3(e){let n={...e};return e.status!=="disabled-transitively"&&(n.status="queued"),n.interrupted=!1,n.errored=!1,n.runElapsedTimeMs=null,n.debuggerActive=!1,n}pm=function(e){return e==="running"||e==="queued"},qw=function(e,n){let{status:i,output:o,runStartTimestamp:s,interrupted:c,staleInputs:d}=e;if(c)return!1;if(n)return!0;let p=pm(i),h=i==="running"&&o!==null&&s!==null&&(o.timestamp??0)>s;return p&&!h?!0:d};function p3(e,n){return L4(e*1e3,n==null?void 0:n.in)}var by=!1;function m3(e){var o;let n=[],i=[e.console].filter(Boolean).flat();for(let s of i)if(s.mimetype==="text/plain"){kn(typeof s.data=="string","expected string");let c=s.channel==="stderr"||s.channel==="marimo-error";switch(s.channel){case"stdout":case"stderr":case"marimo-error":n.push({timestamp:s.timestamp||Date.now(),level:c?"stderr":"stdout",message:s.data,cellId:e.cell_id});break;default:break}}if(n.forEach(wy.log),i.length===0&&xu((o=e.output)==null?void 0:o.mimetype)&&Array.isArray(e.output.data)){e.output.data.forEach(c=>{wy.log({level:"stderr",cellId:e.cell_id,timestamp:e.timestamp??0,message:JSON.stringify(c)})});let s=e.output.data.some(c=>c.type==="internal");!by&&s&&(by=!0,_u({title:"An internal error occurred",description:"See console for details.",className:"text-xs text-background bg-(--red-10) py-2 pl-3 *:flex *:gap-3"}))}return n}var wy={log:e=>{let n=e.level==="stdout"?"gray":e.level==="stderr"?"red":"orange",i=e.level.toUpperCase();console.log(`%c[${i}]`,`color:${n}; padding:2px 0; border-radius:2px; font-weight:bold`,`[${cm(e.timestamp)}]`,`(${e.cellId}) ${e.message}`)}};cm=function(e){try{return p3(e).toLocaleTimeString(void 0,{hour12:!0,hour:"numeric",minute:"numeric",second:"numeric"})}catch{return""}},X2=function(e,n){var o,s;let i=(s=(o=e.get(ft).cellHandles[n])==null?void 0:o.current)==null?void 0:s.editorView;i?i.focus():Ae.warn(`[CellFocusManager] focusCellEditor: element not found: ${n}`)},T2=function(e){let n=document.getElementById(ur.create(e));n?Gd(n):Ae.warn(`[CellFocusManager] focusCell: element not found: ${e}`)},xm=function(){return document.activeElement instanceof HTMLElement&&document.activeElement.classList.contains("marimo-cell")};function Gd(e){try{e.focus()}catch{Ae.warn("[CellFocusManager] element may not be focusable",e)}}_m=function(e,n){let{retries:i,delay:o,initialDelay:s=0}=n,c=0,d=()=>{if(c<i){try{if(e())return}catch(p){Ae.error(`Error executing function on attempt ${c+1}, retrying`,{error:p})}c++,setTimeout(d,o)}};s>0?setTimeout(d,s):d()};function vs({cellId:e,cell:n,isCodeHidden:i,codeFocus:o,variableName:s}){var d;if(!n)return;let c=document.getElementById(ur.create(e));if(!c){Ae.warn("scrollCellIntoView: element not found");return}if(xm()){Gd(c);return}if(i)Gd(c);else{let p=(d=n.current)==null?void 0:d.editorView;if(!p){Ae.warn("scrollCellIntoView: editor not found",e);return}if(p.hasFocus)return;if(_m(()=>(p.focus(),p.hasFocus),{retries:5,delay:20}),o==="top")p.dispatch({selection:{anchor:0,head:0}});else if(o==="bottom"){let h=p.state.doc.line(p.state.doc.lines);p.dispatch({selection:{anchor:h.from,head:h.from}})}else s&&Ou(p,s)}c.scrollIntoView({behavior:"smooth",block:"nearest"})}v2=function(e){let n=document.getElementById(ur.create(e));if(!n){Ae.warn("scrollCellIntoView: element not found");return}n.classList.add("focus-outline"),setTimeout(()=>{n.classList.remove("focus-outline")},2e3),n.scrollIntoView({behavior:"smooth",block:"center"})};function h3(){let e=document.getElementById("App");e==null||e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}function g3(){var e;(e=document.getElementById("App"))==null||e.scrollTo({top:0,behavior:"smooth"})}Cr=function({id:e,name:n="_",code:i="",lastCodeRun:o=null,lastExecutionTime:s=null,edited:c=!1,config:d,serializedEditorState:p=null}){return{id:e,config:d||{hide_code:!1,disabled:!1,column:null},name:n,code:i,edited:c,lastCodeRun:o,lastExecutionTime:s,serializedEditorState:p}};function y3(e){return{hide_code:!1,disabled:!1,column:null,...e}}Tr=function(e){return{outline:null,output:null,consoleOutputs:[],status:"idle",staleInputs:!1,interrupted:!1,errored:!1,stopped:!1,runElapsedTimeMs:null,runStartTimestamp:null,lastRunStartTimestamp:null,debuggerActive:!1,...e}};var Jd=dn(Br());hs="__scratch__",Sr="setup";function _y(e){let n={column:0,hide_code:!1,disabled:!1};return{...e,cellData:{[hs]:Cr({id:hs,config:n}),...e.cellData},cellRuntime:{[hs]:Tr(),...e.cellRuntime},cellHandles:{[hs]:(0,It.createRef)(),...e.cellHandles}}}function v3(){return _y({cellIds:Al.from([]),cellData:{},cellRuntime:{},cellHandles:{},history:[],scrollKey:null,cellLogs:[],untouchedNewCells:new Set})}let b3,w3,xy;({reducer:b3,createActions:w3,useActions:xy,valueAtom:ft}=Rl(v3,{createNewCell:(e,n)=>{var D;let{cellId:i,before:o,code:s,lastCodeRun:c=null,lastExecutionTime:d=null,autoFocus:p=!0,skipIfCodeExists:h=!1,hideCode:b=!1}=n,x,w;if(h){for(let M of e.cellIds.inOrderIds)if(((D=e.cellData[M])==null?void 0:D.code)===s)return e}if(i==="__end__"){let M=e.cellIds.atOrThrow(0);x=M.id,w=M.length}else if(typeof i=="string"){let M=e.cellIds.findWithId(i);x=M.id,w=M.topLevelIds.indexOf(i)}else if(i.type==="__end__"){let M=e.cellIds.get(i.columnId)||e.cellIds.atOrThrow(0);x=M.id,w=M.length}else throw Error("Invalid cellId");let S=n.newCellId||ha.create(),E=o?w:w+1;return{...e,cellIds:e.cellIds.insertId(S,x,E),cellData:{...e.cellData,[S]:Cr({id:S,code:s,lastCodeRun:c,config:y3({hide_code:b}),lastExecutionTime:d,edited:!!s&&s!==c})},cellRuntime:{...e.cellRuntime,[S]:Tr()},cellHandles:{...e.cellHandles,[S]:(0,It.createRef)()},scrollKey:p?S:null,untouchedNewCells:b?new Set([...e.untouchedNewCells,S]):e.untouchedNewCells}},moveCell:(e,n)=>{let{cellId:i,before:o,direction:s}=n;if(o!==void 0&&s!==void 0&&Ae.warn("Both before and direction specified for moveCell. Ignoring one."),s){let p=e.cellIds.findWithId(i),h=e.cellIds.indexOf(p),b=s==="left"?h-1:h+1,x=e.cellIds.at(b);return x?{...e,cellIds:e.cellIds.moveAcrossColumns(p.id,i,x.id,void 0),scrollKey:i}:e}let c=e.cellIds.findWithId(i),d=c.indexOfOrThrow(i);return o&&d===0?{...e,cellIds:e.cellIds.moveWithinColumn(c.id,d,0),scrollKey:i}:!o&&d===c.length-1?{...e,cellIds:e.cellIds.moveWithinColumn(c.id,d,c.length-1),scrollKey:i}:o?{...e,cellIds:e.cellIds.moveWithinColumn(c.id,d,d-1),scrollKey:i}:{...e,cellIds:e.cellIds.moveWithinColumn(c.id,d,d+1),scrollKey:i}},dropCellOverCell:(e,n)=>{let{cellId:i,overCellId:o}=n,s=e.cellIds.findWithId(i),c=e.cellIds.findWithId(o),d=s.indexOfOrThrow(i),p=c.indexOfOrThrow(o);return s.id===c.id?d===p?e:{...e,cellIds:e.cellIds.moveWithinColumn(s.id,d,p),scrollKey:null}:{...e,cellIds:e.cellIds.moveAcrossColumns(s.id,i,c.id,o),scrollKey:null}},dropCellOverColumn:(e,n)=>{let{cellId:i,columnId:o}=n,s=e.cellIds.findWithId(i);return{...e,cellIds:e.cellIds.moveAcrossColumns(s.id,i,o,void 0)}},dropOverNewColumn:(e,n)=>{let{cellId:i}=n;return{...e,cellIds:e.cellIds.moveToNewColumn(i)}},moveColumn:(e,n)=>n.column===n.overColumn?e:{...e,cellIds:e.cellIds.moveColumn(n.column,n.overColumn)},focusCell:(e,n)=>{let i=e.cellIds.findWithId(n.cellId);if(i.length===0)return e;let{cellId:o,where:s}=n,c=i.indexOfOrThrow(o),d;d=s==="before"?Qp(c-1,0,i.length-1):s==="after"?Qp(c+1,0,i.length-1):c;let p=i.atOrThrow(d);return vs({cellId:p,cell:e.cellHandles[p],isCodeHidden:bs(e,p),codeFocus:s==="after"?"top":"bottom",variableName:void 0}),e},focusTopCell:e=>{let n=e.cellIds.getColumns().at(0);if(n===void 0||n.length===0)return e;let i=n.first();return vs({cellId:i,cell:e.cellHandles[i],isCodeHidden:bs(e,i),codeFocus:void 0,variableName:void 0}),g3(),e},focusBottomCell:e=>{let n=e.cellIds.getColumns().at(-1);if(n===void 0||n.length===0)return e;let i=n.last();return vs({cellId:i,cell:e.cellHandles[i],isCodeHidden:bs(e,i),codeFocus:void 0,variableName:void 0}),h3(),e},sendToTop:(e,n)=>{let i=e.cellIds.findWithId(n.cellId);if(i.length===0)return e;let{cellId:o,scroll:s=!0}=n,c=i.indexOfOrThrow(o);return c===0?e:{...e,cellIds:e.cellIds.moveWithinColumn(i.id,c,0),scrollKey:s?o:null}},sendToBottom:(e,n)=>{let i=e.cellIds.findWithId(n.cellId);if(i.length===0)return e;let{cellId:o,scroll:s=!0}=n,c=i.indexOfOrThrow(o),d=i.length-1;return c===d?e:{...e,cellIds:e.cellIds.moveWithinColumn(i.id,c,d),scrollKey:s?o:null}},addColumn:(e,n)=>{let i=ha.create();return{...e,cellIds:e.cellIds.addColumn(n.columnId,[i]),cellData:{...e.cellData,[i]:Cr({id:i})},cellRuntime:{...e.cellRuntime,[i]:Tr()},cellHandles:{...e.cellHandles,[i]:(0,It.createRef)()},scrollKey:i}},addColumnBreakpoint:(e,n)=>{let{cellId:i}=n;return e.cellIds.getColumns()[0].inOrderIds[0]===i?e:{...e,cellIds:e.cellIds.insertBreakpoint(i)}},deleteColumn:(e,n)=>{let{columnId:i}=n;return{...e,cellIds:e.cellIds.delete(i)}},mergeAllColumns:e=>({...e,cellIds:e.cellIds.mergeAllColumns()}),compactColumns:e=>({...e,cellIds:e.cellIds.compact()}),deleteCell:(e,n)=>{var h,b;let i=n.cellId;if(e.cellIds.hasOnlyOneId())return e;let o=e.cellIds.findWithId(i),s=o.indexOfOrThrow(i),c=s===0?1:s-1,d=null;o.length>1&&(d=o.atOrThrow(c));let p=(b=(h=e.cellHandles[i].current)==null?void 0:h.editorView)==null?void 0:b.state.toJSON({history:XT});return p.doc=e.cellData[i].code,k3(i),{...e,cellIds:e.cellIds.deleteById(i),history:[...e.history,{name:e.cellData[i].name,serializedEditorState:p,column:o.id,index:s,isSetupCell:i===Sr}],scrollKey:d}},undoDeleteCell:e=>{if(e.history.length===0)return e;let{name:n,serializedEditorState:i={doc:""},column:o,index:s,isSetupCell:c}=e.history[e.history.length-1],d=c?Sr:ha.create(),p=Cr({id:d,name:n,code:i.doc,edited:i.doc.trim().length>0,serializedEditorState:i});return{...e,cellIds:e.cellIds.insertId(d,o,s),cellData:{...e.cellData,[d]:p},cellRuntime:{...e.cellRuntime,[d]:Tr()},cellHandles:{...e.cellHandles,[d]:(0,It.createRef)()},history:e.history.slice(0,-1)}},clearSerializedEditorState:(e,n)=>{let{cellId:i}=n;return _s({state:e,cellId:i,cellReducer:o=>({...o,serializedEditorState:null})})},updateCellCode:(e,n)=>{let{cellId:i,code:o,formattingChange:s}=n;return e.cellData[i]?_s({state:e,cellId:i,cellReducer:c=>s?{...c,code:o,lastCodeRun:c.edited?c.lastCodeRun:o}:{...c,code:o,edited:o.trim()!==c.lastCodeRun}}):e},updateCellName:(e,n)=>{let{cellId:i,name:o}=n;return _s({state:e,cellId:i,cellReducer:s=>({...s,name:o})})},updateCellConfig:(e,n)=>{let{cellId:i,config:o}=n;return _s({state:e,cellId:i,cellReducer:s=>({...s,config:{...s.config,...o}})})},prepareForRun:(e,n)=>_s({state:ws({state:e,cellId:n.cellId,cellReducer:i=>f3(i)}),cellId:n.cellId,cellReducer:i=>({...i,edited:!1,lastCodeRun:i.code.trim()})}),handleCellMessage:(e,n)=>{let i=n.cell_id,o=ws({state:e,cellId:i,cellReducer:s=>d3(s,n)});return{...o,cellLogs:[...o.cellLogs,...m3(n)]}},setCellIds:(e,n)=>{if(wT(e.cellIds.inOrderIds,n.cellIds))return e;let i={...e.cellData},o={...e.cellRuntime},s={...e.cellHandles};for(let c of n.cellIds)c in e.cellData||(i[c]=Cr({id:c})),c in e.cellRuntime||(o[c]=Tr()),c in e.cellHandles||(s[c]=(0,It.createRef)());return{...e,cellIds:Al.fromWithPreviousShape(n.cellIds,e.cellIds),cellData:i,cellRuntime:o,cellHandles:s}},setCellCodes:(e,n)=>{kn(n.codes.length===n.ids.length,"Expected codes and ids to have the same length");let i={...e},o=({cell:s,code:c,cellId:d})=>{if(!s)return Cr({id:d,code:c,lastCodeRun:n.codeIsStale?null:c,edited:n.codeIsStale&&c.trim().length>0});let p=n.codeIsStale?s.lastCodeRun:c,h=p?p.trim()!==c.trim():!!c;if(s.code.trim()===c.trim())return{...s,code:c,edited:h,lastCodeRun:p};if(!km()){let b=i.cellHandles[d].current;b!=null&&b.editorViewOrNull&&ps(b.editorViewOrNull,c)}return{...s,code:c,edited:h,lastCodeRun:p}};for(let[s,c]of s_(n.ids,n.codes))s===void 0||c===void 0||(i={...i,cellData:{...i.cellData,[s]:o({cell:i.cellData[s],code:c,cellId:s})}});return i},setStdinResponse:(e,n)=>{let{cellId:i,response:o,outputIndex:s}=n;return ws({state:e,cellId:i,cellReducer:c=>{let d=[...c.consoleOutputs],p=d[s];return p.channel==="stdin"?(d[s]={channel:"stdin",mimetype:p.mimetype,data:p.data,timestamp:p.timestamp,response:o},{...c,interrupted:!1,consoleOutputs:d}):(Ae.warn("Expected stdin output"),c)}})},setCells:(e,n)=>{let i=Object.fromEntries(n.map(s=>[s.id,s])),o=Object.fromEntries(n.map(s=>[s.id,Tr()]));return _y({...e,cellIds:Al.fromIdsAndColumns(n.map(s=>[s.id,s.config.column])),cellData:i,cellRuntime:o,cellHandles:Object.fromEntries(n.map(s=>[s.id,(0,It.createRef)()]))})},moveToNextCell:(e,n)=>{let{cellId:i,before:o,noCreate:s=!1}=n;if(i==="__scratch__")return e;let c=e.cellIds.findWithId(i),d=c.indexOfOrThrow(i),p=o?d-1:d+1,h=p===c.length,b=p===-1;if(h&&!s){let x=ha.create();return{...e,cellIds:e.cellIds.insertId(x,c.id,p),cellData:{...e.cellData,[x]:Cr({id:x})},cellRuntime:{...e.cellRuntime,[x]:Tr()},cellHandles:{...e.cellHandles,[x]:(0,It.createRef)()},scrollKey:x}}if(b&&!s){let x=ha.create();return{...e,cellIds:e.cellIds.insertId(x,c.id,0),cellData:{...e.cellData,[x]:Cr({id:x})},cellRuntime:{...e.cellRuntime,[x]:Tr()},cellHandles:{...e.cellHandles,[x]:(0,It.createRef)()},scrollKey:x}}if((h||b)&&s)return e;if(p>=0&&p<c.length){let x=c.atOrThrow(p);vs({cellId:x,cell:e.cellHandles[x],isCodeHidden:bs(e,x),codeFocus:o?"bottom":"top",variableName:void 0})}return e},markTouched:(e,n)=>{let{cellId:i}=n;if(e.untouchedNewCells.has(i)){let o=new Set(e.untouchedNewCells);return o.delete(i),{...e,untouchedNewCells:o}}return e},scrollToTarget:e=>{let n=e.scrollKey;if(n===null)return e;let i=e.cellIds.findWithId(n),o=i.indexOfOrThrow(n),s=o===i.length-1?i.last():i.atOrThrow(o);return vs({cellId:s,cell:e.cellHandles[s],isCodeHidden:bs(e,s),codeFocus:void 0,variableName:void 0}),{...e,scrollKey:null}},foldAll:e=>(x_(Object.values(e.cellHandles).map(n=>{var i;return(i=n.current)==null?void 0:i.editorView})),e),unfoldAll:e=>(k_(Object.values(e.cellHandles).map(n=>{var i;return(i=n.current)==null?void 0:i.editorView})),e),clearLogs:e=>({...e,cellLogs:[]}),collapseCell:(e,n)=>{let{cellId:i}=n,o=e.cellIds.findWithId(i),s=o.topLevelIds.map(p=>e.cellRuntime[p].outline),c=gy(o.indexOfOrThrow(i),s);if(!c)return e;let d=o.atOrThrow(c[1]);return{...e,cellIds:e.cellIds.transformWithCellId(i,p=>p.collapse(i,d)),scrollKey:i}},expandCell:(e,n)=>{let{cellId:i}=n;return{...e,cellIds:e.cellIds.transformWithCellId(i,o=>o.expand(i)),scrollKey:i}},collapseAllCells:e=>({...e,cellIds:e.cellIds.transformAll(n=>{let i=n.topLevelIds.map(h=>e.cellRuntime[h].outline),o=[...n.nodes],s=[],c=[],d=o.length-1;for(;d>=0;){let h=gy(d,i);if(h){let b=d,x=h[1],w=s.find(D=>D.start<=x&&D.end===x);w&&(x=w.start),s.push({start:b,end:x});let S=n.atOrThrow(b),E=n.atOrThrow(x);c.push({id:S,until:E})}else c.push(null);d--}let p=c.reverse();return n.collapseAll(p)})}),expandAllCells:e=>({...e,cellIds:e.cellIds.transformAll(n=>n.expandAll())}),showCellIfHidden:(e,n)=>{let{cellId:i}=n,o=e.cellIds.findWithId(i),s=o,c=o.findAndExpandDeep(i);return c.equals(s)?e:{...e,cellIds:e.cellIds.transformWithCellId(i,()=>c)}},splitCell:(e,n)=>{var x;let{cellId:i}=n,o=e.cellIds.findWithId(i),s=o.indexOfOrThrow(i),c=e.cellData[i],d=e.cellHandles[i].current;if((d==null?void 0:d.editorView)==null)return e;let{beforeCursorCode:p,afterCursorCode:h}=n3(d.editorView);ps(d.editorView,p);let b=ha.create();return{...e,cellIds:e.cellIds.insertId(b,o.id,s+1),cellData:{...e.cellData,[i]:{...c,code:p,edited:!!p&&p.trim()!==((x=c.lastCodeRun)==null?void 0:x.trim())},[b]:Cr({id:b,code:h,edited:!!h})},cellRuntime:{...e.cellRuntime,[i]:{...e.cellRuntime[i],output:null,consoleOutputs:[]},[b]:Tr()},cellHandles:{...e.cellHandles,[b]:(0,It.createRef)()},scrollKey:b}},undoSplitCell:(e,n)=>{var d;let{cellId:i,snapshot:o}=n,s=e.cellData[i],c=e.cellHandles[i].current;return(c==null?void 0:c.editorView)==null?e:(ps(c.editorView,o),{...e,cellIds:e.cellIds.transformWithCellId(i,p=>{let h=p.indexOfOrThrow(i)+1;return p.deleteAtIndex(h)}),cellData:{...e.cellData,[i]:{...s,code:o,edited:!!o&&(o==null?void 0:o.trim())!==((d=s.lastCodeRun)==null?void 0:d.trim())}},cellRuntime:{...e.cellRuntime,[i]:{...e.cellRuntime[i],output:null,consoleOutputs:[]}},cellHandles:{...e.cellHandles}})},clearCellOutput:(e,n)=>{let{cellId:i}=n;return ws({state:e,cellId:i,cellReducer:o=>({...o,output:null,consoleOutputs:[]})})},clearCellConsoleOutput:(e,n)=>{let{cellId:i}=n;return ws({state:e,cellId:i,cellReducer:o=>({...o,consoleOutputs:o.consoleOutputs.filter(s=>s.channel==="stdin"&&s.response==null)})})},clearAllCellOutputs:e=>{let n={...e.cellRuntime};for(let i of e.cellIds.inOrderIds)n[i]={...n[i],output:null,consoleOutputs:[]};return{...e,cellRuntime:n}},addSetupCellIfDoesntExist:(e,n)=>{let{code:i}=n;return i??(i="# Initialization code that runs before all other cells"),"setup"in e.cellData?{...e,scrollKey:Sr}:{...e,cellIds:e.cellIds.insertId(Sr,e.cellIds.atOrThrow(0).id,0),cellData:{...e.cellData,[Sr]:Cr({id:Sr,name:Sr,code:i,edited:!!i})},cellRuntime:{...e.cellRuntime,[Sr]:Tr()},cellHandles:{...e.cellHandles,[Sr]:(0,It.createRef)()},scrollKey:Sr}}}));function bs(e,n){return!!e.cellData[n].config.hide_code&&!e.untouchedNewCells.has(n)}function ws({state:e,cellId:n,cellReducer:i}){return n in e.cellRuntime?{...e,cellRuntime:{...e.cellRuntime,[n]:i(e.cellRuntime[n])}}:(Ae.warn(`Cell ${n} not found in state`),e)}function _s({state:e,cellId:n,cellReducer:i}){return n in e.cellData?{...e,cellData:{...e.cellData,[n]:i(e.cellData[n])}}:(Ae.warn(`Cell ${n} not found in state`),e)}Aw=function(e){let n=e.cellData,i={column:null};return e.cellIds.getColumns().length>1?e.cellIds.getColumns().flatMap((o,s)=>o.inOrderIds.map((c,d)=>{let p={...i};return d===0&&(p.column=s),{...n[c].config,...p}})):e.cellIds.getColumns().flatMap(o=>o.inOrderIds.map(s=>({...n[s].config,...i})))};let ky;ju=Be(e=>e(ft).cellIds),dw=Be(e=>e(ju).hasOnlyOneId()),Vw=Be(e=>Lm(e(ft)).length>0),Qw=Be(e=>Cm(e(ft)).length>0),Fw=Be(e=>R_(e(ft))),Kw=Be(e=>E_(e(ft))),$u=Be(e=>{let{cellIds:n,cellRuntime:i,cellData:o}=e(ft);return n.inOrderIds.map(s=>{var p;let c=i[s],{name:d}=o[s];if(xu((p=c.output)==null?void 0:p.mimetype)){kn(Array.isArray(c.output.data),"Expected array data");let h=c.output.data.filter(b=>!b.type.includes("ancestor"));if(h.length>0)return{output:{...c.output,data:h},cellId:s,cellName:d}}return null}).filter(Boolean)}),Hw=Be(e=>{let{cellIds:n,cellRuntime:i}=e(ft);return a3(n.inOrderIds.map(o=>i[o].outline))}),lw=Be(e=>e($u).length),ky=bT(Be(e=>{let{cellIds:n,cellData:i}=e(ft);return ni.fromEntries(n.inOrderIds.map(o=>{var s;return[o,(s=i[o])==null?void 0:s.name]}))}));var _3=Be(e=>e(ft).scrollKey);R2=()=>Kn(ft),A2=()=>Kn(ju),V2=()=>Kn(ky),h2=()=>Kn($u),j2=()=>Kn(ft).cellLogs,N2=()=>Kn(_3),zu=()=>st.get(ft),kw=()=>{let{cellIds:e,cellData:n}=st.get(ft);return e.inOrderIds.map(i=>{var o;return(o=n[i])==null?void 0:o.name}).filter(Boolean)};var x3=g_(d_(ft,e=>e.cellIds.inOrderIds.map(n=>e.cellData[n])));Ew=()=>Nb(x3),w2=Be(e=>C_(e(ft))),G2=Be(e=>S_(e(ft))),k2=Be(e=>e(ft).cellIds.colLength),sw=Be(e=>e(ft).cellIds.idLength>0),Dw=Be(e=>e(ft).cellIds.getColumnIds()),Fu=rd(e=>Be(n=>n(ft).cellData[e]));var Cy=rd(e=>Be(n=>n(ft).cellRuntime[e]));Ku=rd(e=>Be(n=>n(ft).cellHandles[e]));function k3(e){Fu.remove(e),Cy.remove(e),Ku.remove(e)}F2=e=>{let n=(0,Jd.c)(2),i;return n[0]===e?i=n[1]:(i=Fu(e),n[0]=e,n[1]=i),Kn(i)},C2=e=>{let n=(0,Jd.c)(2),i;return n[0]===e?i=n[1]:(i=Cy(e),n[0]=e,n[1]=i),Kn(i)},Sw=e=>{let n=(0,Jd.c)(2),i;return n[0]===e?i=n[1]:(i=Ku(e),n[0]=e,n[1]=i),Kn(i)},Tm=()=>{let{cellIds:e,cellHandles:n}=st.get(ft);return e.inOrderIds.map(i=>{var o,s;return(s=(o=n[i])==null?void 0:o.current)==null?void 0:s.editorViewOrNull}).filter(Boolean)},Pw=e=>{var i;let{cellHandles:n}=st.get(ft);return(i=n[e].current)==null?void 0:i.editorView},yw=function(e){let{cellIds:n,cellData:i,cellRuntime:o}=e;return n.getColumns().flatMap(s=>s.topLevelIds.map(c=>({...i[c],...o[c]})))},Bw=function(e){return Be(n=>n(ft).untouchedNewCells.has(e))};function C3(e){let n=Be(i=>{let o=i(ft).cellRuntime[e];if(!o||o.status!=="idle")return;let s=o.consoleOutputs;if(!s||s.length===0)return;let c=s.find(d=>d.mimetype==="application/vnd.marimo+traceback");if(c)return c.data});return Be(i=>{let o=i(n);if(o)return Om(o)})}_2=function(){return xy()}})();export{xu as $,Ol as $n,m2 as $t,h2 as A,g2 as An,y2 as Ar,ku as At,v2 as B,b2 as Bn,rm as Br,im as Bt,w2 as C,Cu as Cn,fs as Cr,Su as Ct,_2 as D,x2 as Dn,Pl as Dr,am as Dt,k2 as E,om as En,Eu as Er,oo as Et,C2 as F,sm as Fn,Tu as Fr,lm as Ft,cm as G,S2 as Gn,E2 as Gt,T2 as H,Ru as Hn,Du as Ht,R2 as I,um as In,D2 as Ir,dm as It,fm as J,O2 as Jn,P2 as Jt,pm as K,L2 as Kn,M2 as Kt,N2 as L,Ou as Ln,mm as Lr,I2 as Lt,A2 as M,Ll as Mn,ha as Mr,hm as Mt,j2 as N,q2 as Nn,z2 as Nr,gm as Nt,F2 as O,B2 as On,Pu as Or,so as Ot,V2 as P,$2 as Pn,ur as Pr,ym as Pt,Lu as Q,vm as Qn,Ml as Qt,Cr as R,H2 as Rn,W2 as Rr,U2 as Rt,ft as S,Nl as Sn,K2 as Sr,Q2 as St,G2 as T,bm as Tn,J2 as Tr,Il as Tt,X2 as U,wm as Un,lo as Ut,_m as V,Y2 as Vn,Mu as Vr,Z2 as Vt,xm as W,Nu as Wn,ew as Wt,tw as X,nw as Xn,rw as Xt,km as Y,ga as Yn,iw as Yt,aw as Z,Iu as Zn,ow as Zt,sw as _,B4 as __tla,Au as _n,Al as _r,jl as _t,lw as a,cw as an,Cm as ar,uw as at,dw as b,Sm as bn,fw as br,pw as bt,ju as c,mw as cn,hw as cr,gw as ct,yw as d,ql as dn,vw as dr,Em as dt,bw as en,ww as er,_w as et,Tm as f,qu as fn,co as fr,xw as ft,zu as g,ai as gn,Rm as gr,Dm as gt,kw as h,zl as hn,Om as hr,Pm as ht,Fu as i,Cw as in,Lm as ir,ps as it,Sw as j,Mi as jn,Mm as jr,ms as jt,Ew as k,Tw as kn,Rw as kr,Bu as kt,Dw as l,Ow as ln,Nm as lr,Vu as lt,Pw as m,uo as mn,Lw as mr,Mw as mt,Sr as n,fo as nn,Dt as nr,Im as nt,$u as o,Hu as on,Nw as or,Iw as ot,Aw as p,Fl as pn,Wu as pr,jw as pt,qw as q,zw as qn,Uu as qt,Fw as r,Am as rn,po as rr,oi as rt,Ku as s,jm as sn,qm as sr,Er as st,hs as t,si as tn,Qu as tr,zm as tt,Bw as u,Fm as un,Gu as ur,Bm as ut,Vw as v,Ju as vn,$w as vr,dr as vt,Hw as w,Ww as wn,Fn as wr,Uw as wt,Kw as x,Vm as xn,Xu as xr,ya as xt,Qw as y,$m as yn,Hm as yr,Yu as yt,Tr as z,Zu as zn,Wm as zr,Gw as zt};
